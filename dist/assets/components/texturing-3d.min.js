!function(){var e=X3D.define,t=X3D.require,r={};e("x_ite/Components/Texturing3D/X3DTexture3DNode",["x_ite/Components/Texturing/X3DTextureNode","x_ite/Bits/X3DConstants","x_ite/Bits/X3DCast"],function(e,t,r){"use strict";function n(r){e.call(this,r),this.addType(t.X3DTexture3DNode),this.width=0,this.height=0,this.depth=0,this.data=null}var i=new Uint8Array([255,255,255,255]);return n.prototype=Object.assign(Object.create(e.prototype),{constructor:n,initialize:function(){e.prototype.initialize.call(this);var t=this.getBrowser().getContext();t.getVersion()<2||(this.target=t.TEXTURE_3D,this.repeatS_.addInterest("updateTextureProperties",this),this.repeatT_.addInterest("updateTextureProperties",this),this.repeatR_.addInterest("updateTextureProperties",this),this.textureProperties_.addInterest("set_textureProperties__",this),t.bindTexture(t.TEXTURE_3D,this.getTexture()),t.texImage3D(t.TEXTURE_3D,0,t.RGBA,1,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i),this.set_textureProperties__())},set_textureProperties__:function(){this.texturePropertiesNode&&this.texturePropertiesNode.removeInterest("updateTextureProperties",this),this.texturePropertiesNode=r(t.TextureProperties,this.textureProperties_),this.texturePropertiesNode||(this.texturePropertiesNode=this.getBrowser().getDefaultTextureProperties()),this.texturePropertiesNode.addInterest("updateTextureProperties",this),this.updateTextureProperties()},getTarget:function(){return this.target},getWidth:function(){return this.width},getHeight:function(){return this.height},getDepth:function(){return this.depth},getFlipY:function(){return!1},getData:function(){return this.data},clearTexture:function(){var e=this.getBrowser().getContext();this.setTexture(1,1,1,!1,e.RGBA,i)},setTexture:function(e,t,r,n,i,s){try{this.width=e,this.height=t,this.depth=r,this.data=s;var a=this.getBrowser().getContext();if(a.getVersion()<2)return;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1),a.pixelStorei(a.UNPACK_ALIGNMENT,1),a.bindTexture(a.TEXTURE_3D,this.getTexture()),a.texImage3D(a.TEXTURE_3D,0,i,e,t,r,0,i,a.UNSIGNED_BYTE,s),this.setTransparent(n),this.updateTextureProperties(),this.addNodeEvent()}catch(e){}},updateTextureProperties:function(){var t=this.getBrowser().getContext();e.prototype.updateTextureProperties.call(this,t.TEXTURE_3D,this.textureProperties_.getValue(),this.texturePropertiesNode,this.width,this.height,this.repeatS_.getValue(),this.repeatT_.getValue(),this.repeatR_.getValue())},setShaderUniformsToChannel:function(e,t,r){e.getVersion()>=2&&(e.activeTexture(e.TEXTURE0+t.getBrowser().getTexture3DUnits()[r]),e.bindTexture(e.TEXTURE_3D,this.getTexture())),e.uniform1i(t.x3d_TextureType[r],3)}}),n}),e("x_ite/Components/Texturing3D/ComposedTexture3D",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Texturing3D/X3DTexture3DNode","x_ite/Bits/X3DConstants","x_ite/Bits/X3DCast"],function(e,t,r,n,i,s){"use strict";function a(t){n.call(this,t),this.addType(i.ComposedTexture3D),this.addChildObjects("loadState",new e.SFInt32(i.NOT_STARTED_STATE)),this.textureNodes=[]}return a.prototype=Object.assign(Object.create(n.prototype),{constructor:a,fieldDefinitions:new r([new t(i.inputOutput,"metadata",new e.SFNode),new t(i.initializeOnly,"repeatS",new e.SFBool),new t(i.initializeOnly,"repeatT",new e.SFBool),new t(i.initializeOnly,"repeatR",new e.SFBool),new t(i.initializeOnly,"textureProperties",new e.SFNode),new t(i.inputOutput,"texture",new e.MFNode)]),getTypeName:function(){return"ComposedTexture3D"},getComponentName:function(){return"Texturing3D"},getContainerField:function(){return"texture"},initialize:function(){n.prototype.initialize.call(this),this.texture_.addInterest("set_texture__",this),this.set_texture__()},checkLoadState:function(){return this.loadState_.getValue()},set_texture__:function(){for(var e=this.textureNodes,t=0,r=e.length;t<r;++t)e[t].removeInterest("update",this);e.length=0;for(var t=0,r=this.texture_.length;t<r;++t){var n=s(i.X3DTexture2DNode,this.texture_[t]);n&&e.push(n)}for(var t=0,r=e.length;t<r;++t)e[t].addInterest("update",this);this.update()},update:function(){for(var e=this.textureNodes,t=0,r=0,n=e.length;r<n;++r)t+=e[r].checkLoadState()===i.COMPLETE_STATE;if(0===e.length||t!==e.length)this.clearTexture(),this.loadState_=i.FAILED_STATE;else{for(var s=this.getBrowser().getContext(),a=e[0],o=a.getWidth(),l=a.getHeight(),u=e.length,c=0,d=o*l*4,f=new Uint8Array(d*u),r=0,h=0;r<u;++r){var p=this.textureNodes[r],m=p.getData();c+=p.getTransparent();for(var g=0;g<d;++g,++h)f[h]=m[g]}this.setTexture(o,l,u,!!c,s.RGBA,f),this.loadState_=i.COMPLETE_STATE}}}),a}),e("x_ite/Browser/Texturing3D/NRRDParser",["pako_inflate"],function(e){"use strict";function t(e){return this.lastIndex=e.lastIndex,e.result=this.exec(e.input),!!e.result&&(e.lastIndex=this.lastIndex,!0)}function r(){this.fieldFunction=new Map([["type",this.getType],["encoding",this.getEncoding],["dimension",this.getDimension],["sizes",this.getSizes],["endian",this.getEndian]])}var n={NRRD:new RegExp("^NRRD(\\d+)\\n","gy"),field:new RegExp("([\\w\\s]+):\\s*(.+?)\\n","gy"),comment:new RegExp("#[^\\n]*\\n","gy"),newLine:new RegExp("\n","gy"),data:new RegExp("([^]*)$","gy")};for(var i in n)n[i].parse=t;return r.prototype={parse:function(e){return this.setInput(e),this.getNRRD()&&(this.getFields(),this.getData()),this.nrrd},setInput:function(e){this.input=e,this.lastIndex=0,this.nrrd={},this.endian="little"},getNRRD:function(){return n.NRRD.parse(this)?(this.nrrd.nrrd=!0,this.nrrd.version=parseInt(this.result[1]),this.endian=this.getEndianess(),!0):(this.nrrd.nrrd=!1,!1)},getFields:function(){for(;n.comment.parse(this););for(;n.field.parse(this);){var e=this.result[1].toLowerCase(),t=this.result[2].trim().toLowerCase(),r=this.fieldFunction.get(e);for(r&&r.call(this,t);n.comment.parse(this););}},getType:function(){var e=new Map([["signed char",["signed char",1]],["int8",["signed char",1]],["int8_t",["signed char",1]],["uchar",["unsigned char",1]],["unsigned char",["unsigned char",1]],["uint8",["unsigned char",1]],["uint8_t",["unsigned char",1]],["short",["signed short",2]],["short int",["signed short",2]],["signed short",["signed short",2]],["signed short int",["signed short",2]],["int16",["signed short",2]],["int16_t",["signed short",2]],["ushort",["unsigned short",2]],["unsigned short",["unsigned short",2]],["unsigned short int",["unsigned short",2]],["uint16",["unsigned short",2]],["uint16_t",["unsigned short",2]],["int",["signed int",4]],["signed int",["signed int",4]],["int32",["signed int",4]],["int32_t",["signed int",4]],["uint",["unsigned int",4]],["unsigned int",["unsigned int",4]],["uint32",["unsigned int",4]],["uint32_t",["unsigned int",4]],["float",["float",4]],["double",["double",8]]]);return function(t){var r=e.get(t);if(void 0===r)throw new Error("Unsupported NRRD type '"+t+"'.");this.byteType=r[0],this.bytes=r[1]}}(),getEncoding:function(){var e=new Map([["ascii","ascii"],["txt","ascii"],["text","ascii"],["raw","raw"],["hex","hex"],["gz","gzip"],["gzip","gzip"]]);return function(t){var r=e.get(t);if(void 0===r)throw new Error("Unsupported NRRD encoding '"+t+"'.");this.encoding=r}}(),getDimension:function(e){var t=e.match(/(\d+)/),r=0;if(t)switch(r=parseInt(t[1])){case 1:case 2:case 3:case 4:return void(this.dimension=r)}throw new Error("Unsupported NRRD dimension '"+r+"', must be 1, 2, 3, or 4.")},getSizes:function(e){for(var t=new RegExp("\\s*(\\d+)","gy"),r=null,n=[];r=t.exec(e);)n.push(parseInt(r[1]));switch(n.length){case 1:return this.nrrd.components=1,this.nrrd.width=n[0],this.nrrd.height=1,void(this.nrrd.depth=1);case 2:return this.nrrd.components=1,this.nrrd.width=n[0],this.nrrd.height=n[1],void(this.nrrd.depth=1);case 3:return this.nrrd.components=1,this.nrrd.width=n[0],this.nrrd.height=n[1],void(this.nrrd.depth=n[2]);case 4:return this.nrrd.components=n[0],this.nrrd.width=n[1],this.nrrd.height=n[2],void(this.nrrd.depth=n[3]);default:throw new Error("Unsupported NRRD sizes.")}},getEndian:function(e){if("little"===e||"big"===e)return void(this.endian=e);throw new Error("Unsupported NRRD endian, must be 'little' or 'big'.")},getData:function(){switch(this.encoding){case"ascii":this.ascii();break;case"raw":this.rawString(this.input);break;case"hex":this.hex();break;case"gzip":this.gzip()}},ascii:function(){var e=this.nrrd.components*this.nrrd.width*this.nrrd.height*this.nrrd.depth,t=new Uint8Array(e);if(this.nrrd.data=t,n.data.parse(this)){var r=this.result[1].trim().split(/\s+/);switch(this.byteType){case"signed char":case"unsigned char":return void r.forEach(function(e,r){t[r]=parseInt(e)});case"signed short":case"unsigned short":return void r.forEach(function(e,r){t[r]=parseInt(e)/256});case"signed int":case"unsigned int":return void r.forEach(function(e,r){t[r]=parseInt(e)/16777216});case"float":return void r.forEach(function(e,r){t[r]=parseFloat(e)/256});case"double":return void r.forEach(function(e,r){t[r]=parseFloat(e)/16777216})}}},rawString:function(e){var t=this.nrrd.components*this.nrrd.width*this.nrrd.height*this.nrrd.depth,r=t*this.bytes,n=new Uint8Array(t);switch(this.nrrd.data=n,this.byteType){case"signed char":case"unsigned char":for(var i=e.length-r,s=0;i<e.length;++i,++s)n[s]=e.charCodeAt(i);return;case"signed short":case"unsigned short":if(this.getEndianess()===this.endian)var a=0,o=1;else var a=1,o=0;for(var i=e.length-r,s=0;i<e.length;i+=2,++s)n[s]=this.short2byte(e.charCodeAt(i+a),e.charCodeAt(i+o));return;case"signed int":case"unsigned int":if(this.getEndianess()===this.endian)var a=0,o=1,l=2,u=3;else var a=3,o=2,l=1,u=0;for(var i=e.length-r,s=0;i<e.length;i+=4,++s)n[s]=this.int2byte(e.charCodeAt(i+a),e.charCodeAt(i+o),e.charCodeAt(i+l),e.charCodeAt(i+u));return;case"float":if(this.getEndianess()===this.endian)var a=0,o=1,l=2,u=3;else var a=3,o=2,l=1,u=0;for(var i=e.length-r,s=0;i<e.length;i+=4,++s)n[s]=this.float2byte(e.charCodeAt(i+a),e.charCodeAt(i+o),e.charCodeAt(i+l),e.charCodeAt(i+u));return;case"double":if(this.getEndianess()===this.endian)var a=0,o=1,l=2,u=3,c=4,d=5,f=6,h=7;else var a=7,o=6,l=5,u=4,c=3,d=2,f=1,h=0;for(var i=e.length-r,s=0;i<e.length;i+=8,++s)n[s]=this.double2byte(e.charCodeAt(i+a),e.charCodeAt(i+o),e.charCodeAt(i+l),e.charCodeAt(i+u),e.charCodeAt(i+c),e.charCodeAt(i+d),e.charCodeAt(i+f),e.charCodeAt(i+h));return}},rawArray:function(e){var t=this.nrrd.components*this.nrrd.width*this.nrrd.height*this.nrrd.depth,r=t*this.bytes,n=new Uint8Array(t);switch(this.nrrd.data=n,this.byteType){case"signed char":case"unsigned char":for(var i=e.length-r,s=0;i<e.length;++i,++s)n[s]=e[i];return;case"signed short":case"unsigned short":if(this.getEndianess()===this.endian)var a=0,o=1;else var a=1,o=0;for(var i=e.length-r,s=0;i<e.length;i+=2,++s)n[s]=this.short2byte(e[i+a],e[i+o]);return;case"signed int":case"unsigned int":if(this.getEndianess()===this.endian)var a=0,o=1,l=2,u=3;else var a=3,o=2,l=1,u=0;for(var i=e.length-r,s=0;i<e.length;i+=4,++s)n[s]=this.int2byte(e[i+a],e[i+o],e[i+l],e[i+u]);return;case"float":if(this.getEndianess()===this.endian)var a=0,o=1,l=2,u=3;else var a=3,o=2,l=1,u=0;for(var i=e.length-r,s=0;i<e.length;i+=4,++s)n[s]=this.float2byte(e[i+a],e[i+o],e[i+l],e[i+u]);return;case"double":if(this.getEndianess()===this.endian)var a=0,o=1,l=2,u=3,c=4,d=5,f=6,h=7;else var a=7,o=6,l=5,u=4,c=3,d=2,f=1,h=0;for(var i=e.length-r,s=0;i<e.length;i+=8,++s)n[s]=this.double2byte(e[i+a],e[i+o],e[i+l],e[i+u],e[i+c],e[i+d],e[i+f],e[i+h]);return}},hex:function(){if(n.data.parse(this)){var e=this.result[1].match(/([0-9a-fA-F]{2})/g);if(e){var t=e.map(function(e){return parseInt(e,16)});return void this.rawArray(t)}}throw new Error("Invalid NRRD data.")},gzip:function(){try{if(!n.newLine.parse(this))throw new Error("Invalid NRRD data.");n.data.parse(this);var t=e.ungzip(this.result[1],{to:"raw"});this.rawArray(t)}catch(e){throw new Error("Invalid NRRD data.")}},getEndianess:function(){var e=new ArrayBuffer(4),t=new Uint32Array(e),r=new Uint8Array(e);if(t[0]=16909060,1==r[0]&&2==r[1]&&3==r[2]&&4==r[3])return"big";if(4==r[0]&&3==r[1]&&2==r[2]&&1==r[3])return"little";throw new Error("NRRD: unkown system endianess,")},short2byte:function(){var e=new Uint8Array(2),t=new Uint16Array(e.buffer);return function(r,n){return e[0]=r,e[1]=n,t[0]/256}}(),int2byte:function(){var e=new Uint8Array(4),t=new Uint32Array(e.buffer);return function(r,n,i,s){return e[0]=r,e[1]=n,e[2]=i,e[3]=s,t[0]/16777216}}(),float2byte:function(){var e=new Uint8Array(4),t=new Float32Array(e.buffer);return function(r,n,i,s){return e[0]=r,e[1]=n,e[2]=i,e[3]=s,t[0]/256}}(),double2byte:function(){var e=new Uint8Array(8),t=new Float64Array(e.buffer);return function(r,n,i,s,a,o,l,u){return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e[4]=a,e[5]=o,e[6]=l,e[7]=u,t[0]/16777216}}()},r}),function(t,n){"object"==typeof exports&&"object"==typeof r?r.exports=n():"function"==typeof e&&e.amd?e("dicom-parser",[],n):"object"==typeof exports?exports["dicom-parser"]=n():t.dicomParser=n()}(this,function(){return function(e){function t(e){delete installedChunks[e]}function r(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.charset="utf-8",r.src=h.p+""+e+"."+y+".hot-update.js",t.appendChild(r)}function n(e){return e=e||1e4,new Promise(function(t,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,i=h.p+""+y+".hot-update.json";n.open("GET",i,!0),n.timeout=e,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+i+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(e){return void r(e)}t(e)}}})}function i(e){var t=O[e];if(!t)return h;var r=function(r){return t.hot.active?(O[r]?O[r].parents.indexOf(e)===-1&&O[r].parents.push(e):(E=[e],m=r),t.children.indexOf(r)===-1&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),E=[]),h(r)};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&"e"!==n&&Object.defineProperty(r,n,function(e){return{configurable:!0,enumerable:!0,get:function(){return h[e]},set:function(t){h[e]=t}}}(n));return r.e=function(e){function t(){P--,"prepare"===k&&(A[e]||c(e),0===P&&0===D&&d())}return"ready"===k&&a("prepare"),P++,h.e(e).then(t,function(e){throw t(),e})},r}function s(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:m!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:l,apply:f,status:function(e){if(!e)return k;T.push(e)},addStatusHandler:function(e){T.push(e)},removeStatusHandler:function(e){var t=T.indexOf(e);t>=0&&T.splice(t,1)},data:x[e]};return m=void 0,t}function a(e){k=e;for(var t=0;t<T.length;t++)T[t].call(null,e)}function o(e){return+e+""===e?+e:e}function l(e){if("idle"!==k)throw new Error("check() is only allowed in idle status");return v=e,a("check"),n(w).then(function(e){if(!e)return a("idle"),null;I={},A={},j=e.c,_=e.h,a("prepare");var t=new Promise(function(e,t){g={resolve:e,reject:t}});b={};return c("dicomParser"),"prepare"===k&&0===P&&0===D&&d(),t})}function u(e,t){if(j[e]&&I[e]){I[e]=!1;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(b[r]=t[r]);0==--D&&0===P&&d()}}function c(e){j[e]?(I[e]=!0,D++,r(e)):A[e]=!0}function d(){a("ready");var e=g;if(g=null,e)if(v)Promise.resolve().then(function(){return f(v)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in b)Object.prototype.hasOwnProperty.call(b,r)&&t.push(o(r));e.resolve(t)}}function f(r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.indexOf(n)===-1&&e.push(n)}}if("ready"!==k)throw new Error("apply() is only allowed in ready status");r=r||{};var i,s,l,u,c,d={},f=[],p={},m=function(){console.warn("[HMR] unexpected require("+v.moduleId+") to disposed module")};for(var g in b)if(Object.prototype.hasOwnProperty.call(b,g)){c=o(g);var v;v=b[g]?function(e){for(var t=[e],r={},i=t.slice().map(function(e){return{chain:[e],id:e}});i.length>0;){var s=i.pop(),a=s.id,o=s.chain;if((u=O[a])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:a};if(u.hot._main)return{type:"unaccepted",chain:o,moduleId:a};for(var l=0;l<u.parents.length;l++){var c=u.parents[l],d=O[c];if(d){if(d.hot._declinedDependencies[a])return{type:"declined",chain:o.concat([c]),moduleId:a,parentId:c};t.indexOf(c)===-1&&(d.hot._acceptedDependencies[a]?(r[c]||(r[c]=[]),n(r[c],[a])):(delete r[c],t.push(c),i.push({chain:o.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}(c):{type:"disposed",moduleId:g};var w=!1,S=!1,T=!1,D="";switch(v.chain&&(D="\nUpdate propagation: "+v.chain.join(" -> ")),v.type){case"self-declined":r.onDeclined&&r.onDeclined(v),r.ignoreDeclined||(w=new Error("Aborted because of self decline: "+v.moduleId+D));break;case"declined":r.onDeclined&&r.onDeclined(v),r.ignoreDeclined||(w=new Error("Aborted because of declined dependency: "+v.moduleId+" in "+v.parentId+D));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(v),r.ignoreUnaccepted||(w=new Error("Aborted because "+c+" is not accepted"+D));break;case"accepted":r.onAccepted&&r.onAccepted(v),S=!0;break;case"disposed":r.onDisposed&&r.onDisposed(v),T=!0;break;default:throw new Error("Unexception type "+v.type)}if(w)return a("abort"),Promise.reject(w);if(S){p[c]=b[c],n(f,v.outdatedModules);for(c in v.outdatedDependencies)Object.prototype.hasOwnProperty.call(v.outdatedDependencies,c)&&(d[c]||(d[c]=[]),n(d[c],v.outdatedDependencies[c]))}T&&(n(f,[v.moduleId]),p[c]=m)}var P=[];for(s=0;s<f.length;s++)c=f[s],O[c]&&O[c].hot._selfAccepted&&P.push({module:c,errorHandler:O[c].hot._selfAccepted});a("dispose"),Object.keys(j).forEach(function(e){j[e]===!1&&t(e)});for(var A,I=f.slice();I.length>0;)if(c=I.pop(),u=O[c]){var C={},R=u.hot._disposeHandlers;for(l=0;l<R.length;l++)(i=R[l])(C);for(x[c]=C,u.hot.active=!1,delete O[c],delete d[c],l=0;l<u.children.length;l++){var L=O[u.children[l]];L&&(A=L.parents.indexOf(c))>=0&&L.parents.splice(A,1)}}var M,F;for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)&&(u=O[c]))for(F=d[c],l=0;l<F.length;l++)M=F[l],(A=u.children.indexOf(M))>=0&&u.children.splice(A,1);a("apply"),y=_;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(e[c]=p[c]);var B=null;for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)&&(u=O[c])){F=d[c];var U=[];for(s=0;s<F.length;s++)if(M=F[s],i=u.hot._acceptedDependencies[M]){if(U.indexOf(i)!==-1)continue;U.push(i)}for(s=0;s<U.length;s++){i=U[s];try{i(F)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:c,dependencyId:F[s],error:e}),r.ignoreErrored||B||(B=e)}}}for(s=0;s<P.length;s++){var z=P[s];c=z.module,E=[c];try{h(c)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:t,originalError:e}),r.ignoreErrored||B||(B=t),B||(B=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:c,error:e}),r.ignoreErrored||B||(B=e)}}return B?(a("fail"),Promise.reject(B)):(a("idle"),new Promise(function(e){e(f)}))}function h(t){if(O[t])return O[t].exports;var r=O[t]={i:t,l:!1,exports:{},hot:s(t),parents:(S=E,E=[],S),children:[]};return e[t].call(r.exports,r,r.exports,i(t)),r.l=!0,r.exports}var p=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){u(e,t),p&&p(e,t)};var m,g,b,_,v=!0,y="724db93d22d12b1c5d76",w=1e4,x={},E=[],S=[],T=[],k="idle",D=0,P=0,A={},I={},j={},O={};return h.m=e,h.c=O,h.d=function(e,t,r){h.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},h.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},h.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(t,"a",t),t},h.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},h.p="",h.h=function(){return y},i("./index.js")(h.s="./index.js")}({"../node_modules/assert/assert.js":function(e,t,r){(function(t){function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function s(e){return Object.prototype.toString.call(e)}function a(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function o(e){if(y.isFunction(e)){if(E)return e.name;var t=e.toString(),r=t.match(T);return r&&r[1]}}function l(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function u(e){if(E||!y.isFunction(e))return y.inspect(e);var t=o(e);return"[Function"+(t?": "+t:"")+"]"}function c(e){return l(u(e.actual),128)+" "+e.operator+" "+l(u(e.expected),128)}function d(e,t,r,n,i){throw new S.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function f(e,t){e||d(e,!0,t,"==",S.ok)}function h(e,t,r,o){if(e===t)return!0;if(i(e)&&i(t))return 0===n(e,t);if(y.isDate(e)&&y.isDate(t))return e.getTime()===t.getTime();if(y.isRegExp(e)&&y.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(a(e)&&a(t)&&s(e)===s(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;o=o||{actual:[],expected:[]};var l=o.actual.indexOf(e);return l!==-1&&l===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),m(e,t,r,o))}return r?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function m(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(y.isPrimitive(e)||y.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=p(e),s=p(t);if(i&&!s||!i&&s)return!1;if(i)return e=x.call(e),t=x.call(t),h(e,t,r);var a,o,l=k(e),u=k(t);if(l.length!==u.length)return!1;for(l.sort(),u.sort(),o=l.length-1;o>=0;o--)if(l[o]!==u[o])return!1;for(o=l.length-1;o>=0;o--)if(a=l[o],!h(e[a],t[a],r,n))return!1;return!0}function g(e,t,r){h(e,t,!0)&&d(e,t,r,"notDeepStrictEqual",g)}function b(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&t.call({},e)===!0}function _(e){var t;try{e()}catch(e){t=e}return t}function v(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=_(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&d(i,r,"Missing expected exception"+n);var s="string"==typeof n,a=!e&&y.isError(i),o=!e&&i&&!r;if((a&&s&&b(i,r)||o)&&d(i,r,"Got unwanted exception"+n),e&&i&&r&&!b(i,r)||!e&&i)throw i}var y=r("../node_modules/util/util.js"),w=Object.prototype.hasOwnProperty,x=Array.prototype.slice,E=function(){return"foo"===function(){}.name}(),S=e.exports=f,T=/\s*function\s+([^\(\s]*)\s*/;S.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var t=e.stackStartFunction||d;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=o(t),s=n.indexOf("\n"+i);if(s>=0){var a=n.indexOf("\n",s+1);n=n.substring(a+1)}this.stack=n}}},y.inherits(S.AssertionError,Error),S.fail=d,S.ok=f,S.equal=function(e,t,r){e!=t&&d(e,t,r,"==",S.equal)},S.notEqual=function(e,t,r){e==t&&d(e,t,r,"!=",S.notEqual)},S.deepEqual=function(e,t,r){h(e,t,!1)||d(e,t,r,"deepEqual",S.deepEqual)},S.deepStrictEqual=function(e,t,r){h(e,t,!0)||d(e,t,r,"deepStrictEqual",S.deepStrictEqual)},S.notDeepEqual=function(e,t,r){h(e,t,!1)&&d(e,t,r,"notDeepEqual",S.notDeepEqual)},S.notDeepStrictEqual=g,S.strictEqual=function(e,t,r){e!==t&&d(e,t,r,"===",S.strictEqual)},S.notStrictEqual=function(e,t,r){e===t&&d(e,t,r,"!==",S.notStrictEqual)},S.throws=function(e,t,r){v(!0,e,t,r)},S.doesNotThrow=function(e,t,r){v(!1,e,t,r)},S.ifError=function(e){if(e)throw e};var k=Object.keys||function(e){var t=[];for(var r in e)w.call(e,r)&&t.push(r);return t}}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/base64-js/index.js":function(e,t,r){function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-n(e)}function s(e){var t,r,i,s,a,o=e.length;s=n(e),a=new d(3*o/4-s),r=s>0?o-4:o;var l=0;for(t=0;t<r;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===s?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[l++]=255&i):1===s&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function o(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(a(n));return i.join("")}function l(e){for(var t,r=e.length,n=r%3,i="",s=[],a=0,l=r-n;a<l;a+=16383)s.push(o(e,a,a+16383>l?l:a+16383));return 1===n?(t=e[r-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),s.push(i),s.join("")}t.byteLength=i,t.toByteArray=s,t.fromByteArray=l;for(var u=[],c=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,p=f.length;h<p;++h)u[h]=f[h],c[f.charCodeAt(h)]=h;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},"../node_modules/browserify-zlib/lib/binding.js":function(e,t,r){(function(e,n){function i(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}var s=r("../node_modules/assert/assert.js"),a=r("../node_modules/pako/lib/zlib/zstream.js"),o=r("../node_modules/pako/lib/zlib/deflate.js"),l=r("../node_modules/pako/lib/zlib/inflate.js"),u=r("../node_modules/pako/lib/zlib/constants.js");for(var c in u)t[c]=u[c];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;i.prototype.close=function(){if(this.write_in_progress)return void(this.pending_close=!0);this.pending_close=!1,s(this.init_done,"close before init"),s(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||l.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null},i.prototype.write=function(e,t,r,n,i,s,a){return this._write(!0,e,t,r,n,i,s,a)},i.prototype.writeSync=function(e,t,r,n,i,s,a){return this._write(!1,e,t,r,n,i,s,a)},i.prototype._write=function(r,i,a,o,l,u,c,d){if(s.equal(arguments.length,8),s(this.init_done,"write before init"),s(this.mode!==t.NONE,"already finalized"),s.equal(!1,this.write_in_progress,"write already in progress"),s.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,s.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==t.Z_NO_FLUSH&&i!==t.Z_PARTIAL_FLUSH&&i!==t.Z_SYNC_FLUSH&&i!==t.Z_FULL_FLUSH&&i!==t.Z_FINISH&&i!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),l=0,o=0),this.strm.avail_in=l,this.strm.input=a,this.strm.next_in=o,this.strm.avail_out=d,this.strm.output=u,this.strm.next_out=c,this.flush=i,r){var f=this;return n.nextTick(function(){f._process(),f._after()}),this}if(this._process(),this._checkError())return this._afterSync()},i.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},i.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=l.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=l.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=l.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=l.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},i.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},i.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},i.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},i.prototype.init=function(e,r,n,i,a){s(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),s(e>=8&&e<=15,"invalid windowBits"),s(r>=-1&&r<=9,"invalid compression level"),s(n>=1&&n<=9,"invalid memlevel"),s(i===t.Z_FILTERED||i===t.Z_HUFFMAN_ONLY||i===t.Z_RLE||i===t.Z_FIXED||i===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,e,n,i,a),this._setDictionary()},i.prototype.params=function(){throw new Error("deflateParams Not supported")},i.prototype.reset=function(){this._reset(),this._setDictionary()},i.prototype._init=function(e,r,n,i,s){switch(this.level=e,this.windowBits=r,this.memLevel=n,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=l.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=s,this.write_in_progress=!1,this.init_done=!0},
i.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},i.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=l.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=i}).call(this,r("../node_modules/buffer/index.js").Buffer,r("../node_modules/process/browser.js"))},"../node_modules/browserify-zlib/lib/index.js":function(e,t,r){(function(e){function n(e,t,r){function n(){for(var t;null!==(t=e.read());)a.push(t),o+=t.length;e.once("readable",n)}function i(t){e.removeListener("end",s),e.removeListener("readable",n),r(t)}function s(){var t,n=null;o>=w?n=new RangeError(x):t=g.concat(a,o),a=[],e.close(),r(n,t)}var a=[],o=0;e.on("error",i),e.on("end",s),e.end(t),n()}function i(e,t){if("string"==typeof t&&(t=g.from(t)),!g.isBuffer(t))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(t,r)}function s(e){if(!(this instanceof s))return new s(e);h.call(this,e,_.DEFLATE)}function a(e){if(!(this instanceof a))return new a(e);h.call(this,e,_.INFLATE)}function o(e){if(!(this instanceof o))return new o(e);h.call(this,e,_.GZIP)}function l(e){if(!(this instanceof l))return new l(e);h.call(this,e,_.GUNZIP)}function u(e){if(!(this instanceof u))return new u(e);h.call(this,e,_.DEFLATERAW)}function c(e){if(!(this instanceof c))return new c(e);h.call(this,e,_.INFLATERAW)}function d(e){if(!(this instanceof d))return new d(e);h.call(this,e,_.UNZIP)}function f(e){return e===_.Z_NO_FLUSH||e===_.Z_PARTIAL_FLUSH||e===_.Z_SYNC_FLUSH||e===_.Z_FULL_FLUSH||e===_.Z_FINISH||e===_.Z_BLOCK}function h(e,r){var n=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,b.call(this,e),e.flush&&!f(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!f(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||_.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:_.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!g.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new _.Zlib(r);var i=this;this._hadError=!1,this._handle.onerror=function(e,r){p(i),i._hadError=!0;var n=new Error(e);n.errno=r,n.code=t.codes[r],i.emit("error",n)};var s=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(s=e.level);var a=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(a=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,s,e.memLevel||t.Z_DEFAULT_MEMLEVEL,a,e.dictionary),this._buffer=g.allocUnsafe(this._chunkSize),this._offset=0,this._level=s,this._strategy=a,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!n._handle},configurable:!0,enumerable:!0})}function p(t,r){r&&e.nextTick(r),t._handle&&(t._handle.close(),t._handle=null)}function m(e){e.emit("close")}var g=r("../node_modules/buffer/index.js").Buffer,b=r("../node_modules/stream-browserify/index.js").Transform,_=r("../node_modules/browserify-zlib/lib/binding.js"),v=r("../node_modules/util/util.js"),y=r("../node_modules/assert/assert.js").ok,w=r("../node_modules/buffer/index.js").kMaxLength,x="Cannot create final Buffer. It would be larger than 0x"+w.toString(16)+" bytes";_.Z_MIN_WINDOWBITS=8,_.Z_MAX_WINDOWBITS=15,_.Z_DEFAULT_WINDOWBITS=15,_.Z_MIN_CHUNK=64,_.Z_MAX_CHUNK=1/0,_.Z_DEFAULT_CHUNK=16384,_.Z_MIN_MEMLEVEL=1,_.Z_MAX_MEMLEVEL=9,_.Z_DEFAULT_MEMLEVEL=8,_.Z_MIN_LEVEL=-1,_.Z_MAX_LEVEL=9,_.Z_DEFAULT_LEVEL=_.Z_DEFAULT_COMPRESSION;for(var E=Object.keys(_),S=0;S<E.length;S++){var T=E[S];T.match(/^Z/)&&Object.defineProperty(t,T,{enumerable:!0,value:_[T],writable:!1})}for(var k={Z_OK:_.Z_OK,Z_STREAM_END:_.Z_STREAM_END,Z_NEED_DICT:_.Z_NEED_DICT,Z_ERRNO:_.Z_ERRNO,Z_STREAM_ERROR:_.Z_STREAM_ERROR,Z_DATA_ERROR:_.Z_DATA_ERROR,Z_MEM_ERROR:_.Z_MEM_ERROR,Z_BUF_ERROR:_.Z_BUF_ERROR,Z_VERSION_ERROR:_.Z_VERSION_ERROR},D=Object.keys(k),P=0;P<D.length;P++){var A=D[P];k[k[A]]=A}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(k),writable:!1}),t.Deflate=s,t.Inflate=a,t.Gzip=o,t.Gunzip=l,t.DeflateRaw=u,t.InflateRaw=c,t.Unzip=d,t.createDeflate=function(e){return new s(e)},t.createInflate=function(e){return new a(e)},t.createDeflateRaw=function(e){return new u(e)},t.createInflateRaw=function(e){return new c(e)},t.createGzip=function(e){return new o(e)},t.createGunzip=function(e){return new l(e)},t.createUnzip=function(e){return new d(e)},t.deflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),n(new s(t),e,r)},t.deflateSync=function(e,t){return i(new s(t),e)},t.gzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),n(new o(t),e,r)},t.gzipSync=function(e,t){return i(new o(t),e)},t.deflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),n(new u(t),e,r)},t.deflateRawSync=function(e,t){return i(new u(t),e)},t.unzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),n(new d(t),e,r)},t.unzipSync=function(e,t){return i(new d(t),e)},t.inflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),n(new a(t),e,r)},t.inflateSync=function(e,t){return i(new a(t),e)},t.gunzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),n(new l(t),e,r)},t.gunzipSync=function(e,t){return i(new l(t),e)},t.inflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),n(new c(t),e,r)},t.inflateRawSync=function(e,t){return i(new c(t),e)},v.inherits(h,b),h.prototype.params=function(r,n,i){if(r<t.Z_MIN_LEVEL||r>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+r);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==r||this._strategy!==n){var s=this;this.flush(_.Z_SYNC_FLUSH,function(){y(s._handle,"zlib binding closed"),s._handle.params(r,n),s._hadError||(s._level=r,s._strategy=n,i&&i())})}else e.nextTick(i)},h.prototype.reset=function(){return y(this._handle,"zlib binding closed"),this._handle.reset()},h.prototype._flush=function(e){this._transform(g.alloc(0),"",e)},h.prototype.flush=function(t,r){var n=this,i=this._writableState;("function"==typeof t||void 0===t&&!r)&&(r=t,t=_.Z_FULL_FLUSH),i.ended?r&&e.nextTick(r):i.ending?r&&this.once("end",r):i.needDrain?r&&this.once("drain",function(){return n.flush(t,r)}):(this._flushFlag=t,this.write(g.alloc(0),"",r))},h.prototype.close=function(t){p(this,t),e.nextTick(m,this)},h.prototype._transform=function(e,t,r){var n,i=this._writableState,s=i.ending||i.ended,a=s&&(!e||i.length===e.length);return null===e||g.isBuffer(e)?this._handle?(a?n=this._finishFlushFlag:(n=this._flushFlag,e.length>=i.length&&(this._flushFlag=this._opts.flush||_.Z_NO_FLUSH)),void this._processChunk(e,n,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},h.prototype._processChunk=function(e,t,r){function n(u,f){if(this&&(this.buffer=null,this.callback=null),!o._hadError){var h=s-f;if(y(h>=0,"have should not go down"),h>0){var p=o._buffer.slice(o._offset,o._offset+h);o._offset+=h,l?o.push(p):(c.push(p),d+=p.length)}if((0===f||o._offset>=o._chunkSize)&&(s=o._chunkSize,o._offset=0,o._buffer=g.allocUnsafe(o._chunkSize)),0===f){if(a+=i-u,i=u,!l)return!0;var m=o._handle.write(t,e,a,i,o._buffer,o._offset,o._chunkSize);return m.callback=n,void(m.buffer=e)}if(!l)return!1;r()}}var i=e&&e.length,s=this._chunkSize-this._offset,a=0,o=this,l="function"==typeof r;if(!l){var u,c=[],d=0;this.on("error",function(e){u=e}),y(this._handle,"zlib binding closed");do var f=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,s);while(!this._hadError&&n(f[0],f[1]))if(this._hadError)throw u;if(d>=w)throw p(this),new RangeError(x);var h=g.concat(c,d);return p(this),h}y(this._handle,"zlib binding closed");var m=this._handle.write(t,e,a,i,this._buffer,this._offset,s);m.buffer=e,m.callback=n},v.inherits(s,h),v.inherits(a,h),v.inherits(o,h),v.inherits(l,h),v.inherits(u,h),v.inherits(c,h),v.inherits(d,h)}).call(this,r("../node_modules/process/browser.js"))},"../node_modules/buffer/index.js":function(e,t,r){(function(e){function n(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=s.prototype):(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,r)}function a(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,r,n):"string"==typeof t?c(e,t,r):h(e,t)}function o(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,r,n){return o(t),t<=0?i(e,t):void 0!==r?"string"==typeof n?i(e,t).fill(r,n):i(e,t).fill(r):i(e,t)}function u(e,t){if(o(t),e=i(e,t<0?0:0|p(t)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function c(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(t,r);e=i(e,n);var a=e.write(t,r);return a!==n&&(e=e.slice(0,a)),e}function d(e,t){var r=t.length<0?0:0|p(t.length);e=i(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),s.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=s.prototype):e=d(e,t),e}function h(e,t){if(s.isBuffer(t)){var r=0|p(t.length);return e=i(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||W(t.length)?i(e,0):d(e,t);if("Buffer"===t.type&&K(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),s.alloc(+e)}function g(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return j(this,t,r);case"base64":return D(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){function s(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,o=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,o/=2,l/=2,r/=2}var u;if(i){var c=-1;for(u=r;u<o;u++)if(s(e,u)===s(t,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===l)return c*a}else c!==-1&&(u-=u-c),c=-1}else for(r+l>o&&(r=o-l),u=r;u>=0;u--){for(var d=!0,f=0;f<l;f++)if(s(e,u+f)!==s(t,f)){d=!1;break}if(d)return u}return-1}function w(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var a=0;a<n;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[r+a]=o}return a}function x(e,t,r,n){return G(H(t,e.length-r),e,r,n)}function E(e,t,r,n){return G(X(t),e,r,n)}function S(e,t,r,n){return E(e,t,r,n)}function T(e,t,r,n){return G(V(t),e,r,n)}function k(e,t,r,n){return G(Y(t,e.length-r),e,r,n)}function D(e,t,r){return 0===t&&r===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s=e[i],a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o<=r){var l,u,c,d;switch(o){case 1:s<128&&(a=s);break;case 2:l=e[i+1],128==(192&l)&&(d=(31&s)<<6|63&l)>127&&(a=d);break;case 3:l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&(d=(15&s)<<12|(63&l)<<6|63&u)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(d=(15&s)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}return A(n)}function A(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=$));return r}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function j(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=Z(e[s]);return i}function C(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,a){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function B(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,i){return i||B(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,i){return i||B(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,r,n,52,8),r+8}function N(e){if(e=q(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Z(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function X(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function Y(e,t){for(var r,n,i,s=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function V(e){return J.toByteArray(N(e))}function G(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function W(e){return e!==e}var J=r("../node_modules/base64-js/index.js"),Q=r("../node_modules/ieee754/index.js"),K=r("../node_modules/isarray/index.js");t.Buffer=s,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,r){return a(null,e,t,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,r){return l(null,e,t,r)},s.allocUnsafe=function(e){return u(null,e)},s.allocUnsafeSlow=function(e){return u(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!K(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},s.byteLength=g,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):b.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,r,n,i){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,o=r-t,l=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r),d=0;d<l;++d)if(u[d]!==c[d]){a=u[d],o=c[d];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},s.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":return E(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return T(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n;if(s.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=s.prototype;else{var i=t-e;n=new s(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},s.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},s.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},s.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},s.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),Q.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),Q.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),Q.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),Q.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){L(this,e,t,r,Math.pow(2,8*r)-1,0)}var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){L(this,e,t,r,Math.pow(2,8*r)-1,0)}var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var s=0,a=1,o=0;for(this[t]=255&e;++s<r&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var s=r-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=s.isBuffer(e)?e:H(new s(e,n).toString()),l=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/core-util-is/lib/util.js":function(e,t,r){(function(e){function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function n(e){return"boolean"==typeof e}function i(e){return null===e}function s(e){return null==e}function a(e){return"number"==typeof e}function o(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function c(e){return"[object RegExp]"===g(e)}function d(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===g(e)}function h(e){return"[object Error]"===g(e)||e instanceof Error}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function g(e){return Object.prototype.toString.call(e)}t.isArray=r,t.isBoolean=n,t.isNull=i,t.isNullOrUndefined=s,t.isNumber=a,t.isString=o,t.isSymbol=l,t.isUndefined=u,t.isRegExp=c,t.isObject=d,t.isDate=f,t.isError=h,t.isFunction=p,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(this,r("../node_modules/buffer/index.js").Buffer)},"../node_modules/events/events.js":function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,o,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(r=this._events[e],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(s(r))for(o=Array.prototype.slice.call(arguments,1),u=r.slice(),i=u.length,l=0;l<i;l++)u[l].apply(this,o);return!0},r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},
r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,a,o;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(r)){for(o=a;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){i=o;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},"../node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,l=(1<<o)-1,u=l>>1,c=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,s=h&(1<<-c)-1,h>>=-c,c+=o;c>0;s=256*s+e[t+d],d+=f,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===s)s=1-u;else{if(s===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),s-=u}return(h?-1:1)*a*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var a,o,l,u=8*s-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:s-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+d>=1?f/l:f*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=c?(o=0,a=c):a+d>=1?(o=(t*l-1)*Math.pow(2,i),a+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&o,h+=p,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*m}},"../node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"../node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"../node_modules/pako/lib/utils/common.js":function(e,t,r){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(r,r+n),i);for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,a;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},a={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,s)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(i)},"../node_modules/pako/lib/zlib/adler32.js":function(e,t,r){function n(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,a=0;0!==r;){a=r>2e3?2e3:r,r-=a;do i=i+t[n++]|0,s=s+i|0;while(--a)i%=65521,s%=65521}return i|s<<16|0}e.exports=n},"../node_modules/pako/lib/zlib/constants.js":function(e,t,r){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"../node_modules/pako/lib/zlib/crc32.js":function(e,t,r){function n(e,t,r,n){var s=i,a=n+r;e^=-1;for(var o=n;o<a;o++)e=e>>>8^s[255&(e^t[o])];return e^-1}var i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=n},"../node_modules/pako/lib/zlib/deflate.js":function(e,t,r){function n(e,t){return e.msg=R[t],t}function i(e){return(e<<1)-(e>4?9:0)}function s(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(I.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function o(e,t){j._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,I.arraySet(t,e.input,e.next_in,i,r),1===e.state.wrap?e.adler=O(e.adler,t,i,r):2===e.state.wrap&&(e.adler=C(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function d(e,t){var r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-ue?e.strstart-(e.w_size-ue):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+le,h=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do if(r=t,u[r+a]===p&&u[r+a-1]===h&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do;while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<f)if(n=le-(f-s),s=f-le,n>a){if(e.match_start=t,a=n,n>=o)break;h=u[s+a-1],p=u[s+a]}}while((t=d[t&c])>l&&0!=--i)return a<=e.lookahead?a:e.lookahead}function f(e){var t,r,n,i,s,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-ue)){I.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,r=e.hash_size,t=r;do n=e.head[--t],e.head[t]=n>=a?n-a:0;while(--r)r=a,t=r;do n=e.prev[--t],e.prev[t]=n>=a?n-a:0;while(--r)i+=a}if(0===e.strm.avail_in)break;if(r=c(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=r,e.lookahead+e.insert>=oe)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+oe-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<oe)););}while(e.lookahead<ue&&0!==e.strm.avail_in)}function h(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===L)return _e;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,o(e,!1),0===e.strm.avail_out))return _e;if(e.strstart-e.block_start>=e.w_size-ue&&(o(e,!1),0===e.strm.avail_out))return _e}return e.insert=0,t===B?(o(e,!0),0===e.strm.avail_out?ye:we):(e.strstart>e.block_start&&(o(e,!1),e.strm.avail_out),_e)}function p(e,t){for(var r,n;;){if(e.lookahead<ue){if(f(e),e.lookahead<ue&&t===L)return _e;if(0===e.lookahead)break}if(r=0,e.lookahead>=oe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-ue&&(e.match_length=d(e,r)),e.match_length>=oe)if(n=j._tr_tally(e,e.strstart-e.match_start,e.match_length-oe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=oe){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=j._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(o(e,!1),0===e.strm.avail_out))return _e}return e.insert=e.strstart<oe-1?e.strstart:oe-1,t===B?(o(e,!0),0===e.strm.avail_out?ye:we):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?_e:ve}function m(e,t){for(var r,n,i;;){if(e.lookahead<ue){if(f(e),e.lookahead<ue&&t===L)return _e;if(0===e.lookahead)break}if(r=0,e.lookahead>=oe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=oe-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-ue&&(e.match_length=d(e,r),e.match_length<=5&&(e.strategy===Y||e.match_length===oe&&e.strstart-e.match_start>4096)&&(e.match_length=oe-1)),e.prev_length>=oe&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-oe,n=j._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-oe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+oe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=oe-1,e.strstart++,n&&(o(e,!1),0===e.strm.avail_out))return _e}else if(e.match_available){if(n=j._tr_tally(e,0,e.window[e.strstart-1]),n&&o(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return _e}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=j._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<oe-1?e.strstart:oe-1,t===B?(o(e,!0),0===e.strm.avail_out?ye:we):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?_e:ve}function g(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=le){if(f(e),e.lookahead<=le&&t===L)return _e;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=oe&&e.strstart>0&&(i=e.strstart-1,(n=a[i])===a[++i]&&n===a[++i]&&n===a[++i])){s=e.strstart+le;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s)e.match_length=le-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=oe?(r=j._tr_tally(e,1,e.match_length-oe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=j._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(o(e,!1),0===e.strm.avail_out))return _e}return e.insert=0,t===B?(o(e,!0),0===e.strm.avail_out?ye:we):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?_e:ve}function b(e,t){for(var r;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===L)return _e;break}if(e.match_length=0,r=j._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(o(e,!1),0===e.strm.avail_out))return _e}return e.insert=0,t===B?(o(e,!0),0===e.strm.avail_out?ye:we):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?_e:ve}function _(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function v(e){e.window_size=2*e.w_size,s(e.head),e.max_lazy_match=A[e.level].max_lazy,e.good_match=A[e.level].good_length,e.nice_match=A[e.level].nice_length,e.max_chain_length=A[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=oe-1,e.match_available=0,e.ins_h=0}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*se),this.dyn_dtree=new I.Buf16(2*(2*ne+1)),this.bl_tree=new I.Buf16(2*(2*ie+1)),s(this.dyn_ltree),s(this.dyn_dtree),s(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(ae+1),this.heap=new I.Buf16(2*re+1),s(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*re+1),s(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Q,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?de:ge,e.adler=2===t.wrap?0:1,t.last_flush=L,j._tr_init(t),z):n(e,q)}function x(e){var t=w(e);return t===z&&v(e.state),t}function E(e,t){return e&&e.state?2!==e.state.wrap?q:(e.state.gzhead=t,z):q}function S(e,t,r,i,s,a){if(!e)return q;var o=1;if(t===X&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),s<1||s>$||r!==K||i<8||i>15||t<0||t>9||a<0||a>W)return n(e,q);8===i&&(i=9);var l=new y;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+oe-1)/oe),l.window=new I.Buf8(2*l.w_size),l.head=new I.Buf16(l.hash_size),l.prev=new I.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new I.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=r,x(e)}function T(e,t){return S(e,t,K,ee,te,J)}function k(e,t){var r,o,c,d;if(!e||!e.state||t>U||t<0)return e?n(e,q):q;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===be&&t!==B)return n(e,0===e.avail_out?H:q);if(o.strm=e,r=o.last_flush,o.last_flush=t,o.status===de)if(2===o.wrap)e.adler=0,l(o,31),l(o,139),l(o,8),o.gzhead?(l(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),l(o,255&o.gzhead.time),l(o,o.gzhead.time>>8&255),l(o,o.gzhead.time>>16&255),l(o,o.gzhead.time>>24&255),l(o,9===o.level?2:o.strategy>=V||o.level<2?4:0),l(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(l(o,255&o.gzhead.extra.length),l(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=C(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=fe):(l(o,0),l(o,0),l(o,0),l(o,0),l(o,0),l(o,9===o.level?2:o.strategy>=V||o.level<2?4:0),l(o,xe),o.status=ge);else{var f=K+(o.w_bits-8<<4)<<8,h=-1;h=o.strategy>=V||o.level<2?0:o.level<6?1:6===o.level?2:3,f|=h<<6,0!==o.strstart&&(f|=ce),f+=31-f%31,o.status=ge,u(o,f),0!==o.strstart&&(u(o,e.adler>>>16),u(o,65535&e.adler)),e.adler=1}if(o.status===fe)if(o.gzhead.extra){for(c=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),a(e),c=o.pending,o.pending!==o.pending_buf_size));)l(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=he)}else o.status=he;if(o.status===he)if(o.gzhead.name){c=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),a(e),c=o.pending,o.pending===o.pending_buf_size)){d=1;break}d=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,l(o,d)}while(0!==d)o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),0===d&&(o.gzindex=0,o.status=pe)}else o.status=pe;if(o.status===pe)if(o.gzhead.comment){c=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),a(e),c=o.pending,o.pending===o.pending_buf_size)){d=1;break}d=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,l(o,d)}while(0!==d)o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),0===d&&(o.status=me)}else o.status=me;if(o.status===me&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&a(e),o.pending+2<=o.pending_buf_size&&(l(o,255&e.adler),l(o,e.adler>>8&255),e.adler=0,o.status=ge)):o.status=ge),0!==o.pending){if(a(e),0===e.avail_out)return o.last_flush=-1,z}else if(0===e.avail_in&&i(t)<=i(r)&&t!==B)return n(e,H);if(o.status===be&&0!==e.avail_in)return n(e,H);if(0!==e.avail_in||0!==o.lookahead||t!==L&&o.status!==be){var p=o.strategy===V?b(o,t):o.strategy===G?g(o,t):A[o.level].func(o,t);if(p!==ye&&p!==we||(o.status=be),p===_e||p===ye)return 0===e.avail_out&&(o.last_flush=-1),z;if(p===ve&&(t===M?j._tr_align(o):t!==U&&(j._tr_stored_block(o,0,0,!1),t===F&&(s(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),a(e),0===e.avail_out))return o.last_flush=-1,z}return t!==B?z:o.wrap<=0?N:(2===o.wrap?(l(o,255&e.adler),l(o,e.adler>>8&255),l(o,e.adler>>16&255),l(o,e.adler>>24&255),l(o,255&e.total_in),l(o,e.total_in>>8&255),l(o,e.total_in>>16&255),l(o,e.total_in>>24&255)):(u(o,e.adler>>>16),u(o,65535&e.adler)),a(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?z:N)}function D(e){var t;return e&&e.state?(t=e.state.status)!==de&&t!==fe&&t!==he&&t!==pe&&t!==me&&t!==ge&&t!==be?n(e,q):(e.state=null,t===ge?n(e,Z):z):q}function P(e,t){var r,n,i,a,o,l,u,c,d=t.length;if(!e||!e.state)return q;if(r=e.state,2===(a=r.wrap)||1===a&&r.status!==de||r.lookahead)return q;for(1===a&&(e.adler=O(e.adler,t,d,0)),r.wrap=0,d>=r.w_size&&(0===a&&(s(r.head),r.strstart=0,r.block_start=0,r.insert=0),c=new I.Buf8(r.w_size),I.arraySet(c,t,d-r.w_size,r.w_size,0),t=c,d=r.w_size),o=e.avail_in,l=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,f(r);r.lookahead>=oe;){n=r.strstart,i=r.lookahead-(oe-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+oe-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--i)r.strstart=n,r.lookahead=oe-1,f(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=oe-1,r.match_available=0,e.next_in=l,e.input=u,e.avail_in=o,r.wrap=a,z}var A,I=r("../node_modules/pako/lib/utils/common.js"),j=r("../node_modules/pako/lib/zlib/trees.js"),O=r("../node_modules/pako/lib/zlib/adler32.js"),C=r("../node_modules/pako/lib/zlib/crc32.js"),R=r("../node_modules/pako/lib/zlib/messages.js"),L=0,M=1,F=3,B=4,U=5,z=0,N=1,q=-2,Z=-3,H=-5,X=-1,Y=1,V=2,G=3,W=4,J=0,Q=2,K=8,$=9,ee=15,te=8,re=286,ne=30,ie=19,se=2*re+1,ae=15,oe=3,le=258,ue=le+oe+1,ce=32,de=42,fe=69,he=73,pe=91,me=103,ge=113,be=666,_e=1,ve=2,ye=3,we=4,xe=3;A=[new _(0,0,0,0,h),new _(4,4,8,4,p),new _(4,5,16,8,p),new _(4,6,32,32,p),new _(4,4,16,16,m),new _(8,16,32,32,m),new _(8,16,128,128,m),new _(8,32,128,256,m),new _(32,128,258,1024,m),new _(32,258,258,4096,m)],t.deflateInit=T,t.deflateInit2=S,t.deflateReset=x,t.deflateResetKeep=w,t.deflateSetHeader=E,t.deflate=k,t.deflateEnd=D,t.deflateSetDictionary=P,t.deflateInfo="pako deflate (from Nodeca project)"},"../node_modules/pako/lib/zlib/inffast.js":function(e,t,r){e.exports=function(e,t){var r,n,i,s,a,o,l,u,c,d,f,h,p,m,g,b,_,v,y,w,x,E,S,T,k;r=e.state,n=e.next_in,T=e.input,i=n+(e.avail_in-5),s=e.next_out,k=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=r.dmax,u=r.wsize,c=r.whave,d=r.wnext,f=r.window,h=r.hold,p=r.bits,m=r.lencode,g=r.distcode,b=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{p<15&&(h+=T[n++]<<p,p+=8,h+=T[n++]<<p,p+=8),v=m[h&b];t:for(;;){if(y=v>>>24,h>>>=y,p-=y,0===(y=v>>>16&255))k[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(h&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&v,y&=15,y&&(p<y&&(h+=T[n++]<<p,p+=8),w+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=T[n++]<<p,p+=8,h+=T[n++]<<p,p+=8),v=g[h&_];r:for(;;){if(y=v>>>24,h>>>=y,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=g[(65535&v)+(h&(1<<y)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(x=65535&v,y&=15,p<y&&(h+=T[n++]<<p,(p+=8)<y&&(h+=T[n++]<<p,p+=8)),(x+=h&(1<<y)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=y,p-=y,y=s-a,x>y){if((y=x-y)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(E=0,S=f,0===d){if(E+=u-y,y<w){w-=y;do k[s++]=f[E++];while(--y)E=s-x,S=k}}else if(d<y){if(E+=u+d-y,(y-=d)<w){w-=y;do k[s++]=f[E++];while(--y)if(E=0,d<w){y=d,w-=y;do k[s++]=f[E++];while(--y)E=s-x,S=k}}}else if(E+=d-y,y<w){w-=y;do k[s++]=f[E++];while(--y)E=s-x,S=k}for(;w>2;)k[s++]=S[E++],k[s++]=S[E++],k[s++]=S[E++],w-=3;w&&(k[s++]=S[E++],w>1&&(k[s++]=S[E++]))}else{E=s-x;do k[s++]=k[E++],k[s++]=k[E++],k[s++]=k[E++],w-=3;while(w>2)w&&(k[s++]=k[E++],w>1&&(k[s++]=k[E++]))}break}}break}}while(n<i&&s<o)w=p>>3,n-=w,p-=w<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=h,r.bits=p}},"../node_modules/pako/lib/zlib/inflate.js":function(e,t,r){function n(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=F,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new _.Buf32(me),t.distcode=t.distdyn=new _.Buf32(ge),t.sane=1,t.back=-1,A):O}function a(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,s(e)):O}function o(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?O:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,a(e))):O}function l(e,t){var r,n;return e?(n=new i,e.state=n,n.window=null,r=o(e,t),r!==A&&(e.state=null),r):O}function u(e){return l(e,be)}function c(e){if(_e){var t;for(g=new _.Buf32(512),b=new _.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(x(S,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;x(T,e.lens,0,32,b,0,e.work,{bits:5}),_e=!1}e.lencode=g,e.lenbits=9,e.distcode=b,e.distbits=5}function d(e,t,r,n){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new _.Buf8(s.wsize)),n>=s.wsize?(_.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),_.arraySet(s.window,t,r-n,i,s.wnext),n-=i,n?(_.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function f(e,t){var r,i,s,a,o,l,u,f,h,p,m,g,b,me,ge,be,_e,ve,ye,we,xe,Ee,Se,Te,ke=0,De=new _.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return O;r=e.state,r.mode===G&&(r.mode=W),o=e.next_out,s=e.output,u=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,f=r.hold,h=r.bits,p=l,m=u,Ee=A;e:for(;;)switch(r.mode){case F:if(0===r.wrap){r.mode=W;break}for(;h<16;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}if(2&r.wrap&&35615===f){r.check=0,De[0]=255&f,De[1]=f>>>8&255,r.check=y(r.check,De,2,0),f=0,h=0,r.mode=B;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=fe;break}if((15&f)!==M){e.msg="unknown compression method",r.mode=fe;break}if(f>>>=4,h-=4,xe=8+(15&f),0===r.wbits)r.wbits=xe;else if(xe>r.wbits){e.msg="invalid window size",r.mode=fe;break}r.dmax=1<<xe,e.adler=r.check=1,r.mode=512&f?Y:G,f=0,h=0;break;case B:for(;h<16;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}if(r.flags=f,(255&r.flags)!==M){e.msg="unknown compression method",r.mode=fe;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=fe;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(De[0]=255&f,De[1]=f>>>8&255,r.check=y(r.check,De,2,0)),f=0,h=0,r.mode=U;case U:for(;h<32;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}r.head&&(r.head.time=f),512&r.flags&&(De[0]=255&f,De[1]=f>>>8&255,De[2]=f>>>16&255,De[3]=f>>>24&255,r.check=y(r.check,De,4,0)),f=0,h=0,r.mode=z;case z:for(;h<16;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(De[0]=255&f,De[1]=f>>>8&255,r.check=y(r.check,De,2,0)),f=0,h=0,r.mode=N;case N:if(1024&r.flags){for(;h<16;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(De[0]=255&f,De[1]=f>>>8&255,r.check=y(r.check,De,2,0)),f=0,h=0}else r.head&&(r.head.extra=null);r.mode=q;case q:if(1024&r.flags&&(g=r.length,g>l&&(g=l),g&&(r.head&&(xe=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),_.arraySet(r.head.extra,i,a,g,xe)),512&r.flags&&(r.check=y(r.check,i,g,a)),l-=g,a+=g,r.length-=g),r.length))break e;r.length=0,r.mode=Z;case Z:if(2048&r.flags){if(0===l)break e;g=0;do xe=i[a+g++],r.head&&xe&&r.length<65536&&(r.head.name+=String.fromCharCode(xe));while(xe&&g<l)if(512&r.flags&&(r.check=y(r.check,i,g,a)),l-=g,a+=g,xe)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=H;case H:if(4096&r.flags){if(0===l)break e;g=0;do xe=i[a+g++],r.head&&xe&&r.length<65536&&(r.head.comment+=String.fromCharCode(xe));while(xe&&g<l)if(512&r.flags&&(r.check=y(r.check,i,g,a)),l-=g,a+=g,xe)break e}else r.head&&(r.head.comment=null);r.mode=X;case X:if(512&r.flags){for(;h<16;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}if(f!==(65535&r.check)){e.msg="header crc mismatch",r.mode=fe;break}f=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=G;break;case Y:for(;h<32;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}e.adler=r.check=n(f),f=0,h=0,r.mode=V;case V:if(0===r.havedict)return e.next_out=o,e.avail_out=u,e.next_in=a,e.avail_in=l,r.hold=f,r.bits=h,j;e.adler=r.check=1,r.mode=G;case G:if(t===D||t===P)break e;case W:if(r.last){f>>>=7&h,h-=7&h,r.mode=ue;break}for(;h<3;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}switch(r.last=1&f,f>>>=1,h-=1,3&f){case 0:r.mode=J;break;case 1:if(c(r),r.mode=re,t===P){f>>>=2,h-=2;break e}break;case 2:r.mode=$;break;case 3:e.msg="invalid block type",r.mode=fe}f>>>=2,h-=2;break;case J:for(f>>>=7&h,h-=7&h;h<32;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=fe;break}if(r.length=65535&f,f=0,h=0,r.mode=Q,t===P)break e;case Q:r.mode=K;case K:if(g=r.length){if(g>l&&(g=l),g>u&&(g=u),0===g)break e;_.arraySet(s,i,a,g,o),l-=g,a+=g,u-=g,o+=g,r.length-=g;break}r.mode=G;break;case $:for(;h<14;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}if(r.nlen=257+(31&f),f>>>=5,h-=5,r.ndist=1+(31&f),f>>>=5,h-=5,r.ncode=4+(15&f),f>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=fe;break}r.have=0,r.mode=ee;case ee:for(;r.have<r.ncode;){for(;h<3;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}r.lens[Pe[r.have++]]=7&f,f>>>=3,h-=3}for(;r.have<19;)r.lens[Pe[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Se={bits:r.lenbits},Ee=x(E,r.lens,0,19,r.lencode,0,r.work,Se),r.lenbits=Se.bits,Ee){e.msg="invalid code lengths set",r.mode=fe;break}r.have=0,r.mode=te;case te:for(;r.have<r.nlen+r.ndist;){for(;ke=r.lencode[f&(1<<r.lenbits)-1],ge=ke>>>24,be=ke>>>16&255,_e=65535&ke,!(ge<=h);){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}if(_e<16)f>>>=ge,h-=ge,r.lens[r.have++]=_e;else{if(16===_e){for(Te=ge+2;h<Te;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}if(f>>>=ge,h-=ge,0===r.have){e.msg="invalid bit length repeat",r.mode=fe;break}xe=r.lens[r.have-1],g=3+(3&f),f>>>=2,h-=2}else if(17===_e){for(Te=ge+3;h<Te;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}f>>>=ge,h-=ge,xe=0,g=3+(7&f),f>>>=3,h-=3}else{for(Te=ge+7;h<Te;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}f>>>=ge,h-=ge,xe=0,g=11+(127&f),f>>>=7,h-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=fe;break}for(;g--;)r.lens[r.have++]=xe}}if(r.mode===fe)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=fe;break}if(r.lenbits=9,Se={bits:r.lenbits},Ee=x(S,r.lens,0,r.nlen,r.lencode,0,r.work,Se),r.lenbits=Se.bits,Ee){e.msg="invalid literal/lengths set",r.mode=fe;break}if(r.distbits=6,r.distcode=r.distdyn,Se={bits:r.distbits},Ee=x(T,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Se),r.distbits=Se.bits,Ee){e.msg="invalid distances set",r.mode=fe;break}if(r.mode=re,t===P)break e;case re:r.mode=ne;case ne:if(l>=6&&u>=258){e.next_out=o,e.avail_out=u,e.next_in=a,e.avail_in=l,r.hold=f,r.bits=h,w(e,m),o=e.next_out,s=e.output,u=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,f=r.hold,h=r.bits,r.mode===G&&(r.back=-1);break}for(r.back=0;ke=r.lencode[f&(1<<r.lenbits)-1],ge=ke>>>24,be=ke>>>16&255,_e=65535&ke,!(ge<=h);){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}if(be&&0==(240&be)){for(ve=ge,ye=be,we=_e;ke=r.lencode[we+((f&(1<<ve+ye)-1)>>ve)],ge=ke>>>24,be=ke>>>16&255,_e=65535&ke,!(ve+ge<=h);){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}f>>>=ve,h-=ve,r.back+=ve}if(f>>>=ge,h-=ge,r.back+=ge,r.length=_e,0===be){r.mode=le;break}if(32&be){r.back=-1,r.mode=G;break}if(64&be){e.msg="invalid literal/length code",r.mode=fe;break}r.extra=15&be,r.mode=ie;case ie:if(r.extra){for(Te=r.extra;h<Te;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=se;case se:for(;ke=r.distcode[f&(1<<r.distbits)-1],ge=ke>>>24,be=ke>>>16&255,_e=65535&ke,!(ge<=h);){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}if(0==(240&be)){for(ve=ge,ye=be,we=_e;ke=r.distcode[we+((f&(1<<ve+ye)-1)>>ve)],ge=ke>>>24,be=ke>>>16&255,_e=65535&ke,!(ve+ge<=h);){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}f>>>=ve,h-=ve,r.back+=ve}if(f>>>=ge,h-=ge,r.back+=ge,64&be){e.msg="invalid distance code",r.mode=fe;break}r.offset=_e,r.extra=15&be,r.mode=ae;case ae:if(r.extra){for(Te=r.extra;h<Te;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=fe;break}r.mode=oe;case oe:if(0===u)break e;if(g=m-u,r.offset>g){if((g=r.offset-g)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=fe;break}g>r.wnext?(g-=r.wnext,b=r.wsize-g):b=r.wnext-g,g>r.length&&(g=r.length),me=r.window}else me=s,b=o-r.offset,g=r.length;g>u&&(g=u),u-=g,r.length-=g;do s[o++]=me[b++];while(--g)0===r.length&&(r.mode=ne);break;case le:if(0===u)break e;s[o++]=r.length,u--,r.mode=ne;break;case ue:if(r.wrap){for(;h<32;){if(0===l)break e;l--,f|=i[a++]<<h,h+=8}if(m-=u,e.total_out+=m,r.total+=m,m&&(e.adler=r.check=r.flags?y(r.check,s,m,o-m):v(r.check,s,m,o-m)),m=u,(r.flags?f:n(f))!==r.check){e.msg="incorrect data check",r.mode=fe;break}f=0,h=0}r.mode=ce;case ce:if(r.wrap&&r.flags){for(;h<32;){if(0===l)break e;l--,f+=i[a++]<<h,h+=8}if(f!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=fe;break}f=0,h=0}r.mode=de;case de:Ee=I;break e;case fe:Ee=C;break e;case he:return R;case pe:default:return O}return e.next_out=o,e.avail_out=u,e.next_in=a,e.avail_in=l,r.hold=f,r.bits=h,
(r.wsize||m!==e.avail_out&&r.mode<fe&&(r.mode<ue||t!==k))&&d(e,e.output,e.next_out,m-e.avail_out)?(r.mode=he,R):(p-=e.avail_in,m-=e.avail_out,e.total_in+=p,e.total_out+=m,r.total+=m,r.wrap&&m&&(e.adler=r.check=r.flags?y(r.check,s,m,e.next_out-m):v(r.check,s,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===G?128:0)+(r.mode===re||r.mode===Q?256:0),(0===p&&0===m||t===k)&&Ee===A&&(Ee=L),Ee)}function h(e){if(!e||!e.state)return O;var t=e.state;return t.window&&(t.window=null),e.state=null,A}function p(e,t){var r;return e&&e.state?(r=e.state,0==(2&r.wrap)?O:(r.head=t,t.done=!1,A)):O}function m(e,t){var r,n,i=t.length;return e&&e.state?(r=e.state,0!==r.wrap&&r.mode!==V?O:r.mode===V&&(n=1,(n=v(n,t,i,0))!==r.check)?C:d(e,t,i,i)?(r.mode=he,R):(r.havedict=1,A)):O}var g,b,_=r("../node_modules/pako/lib/utils/common.js"),v=r("../node_modules/pako/lib/zlib/adler32.js"),y=r("../node_modules/pako/lib/zlib/crc32.js"),w=r("../node_modules/pako/lib/zlib/inffast.js"),x=r("../node_modules/pako/lib/zlib/inftrees.js"),E=0,S=1,T=2,k=4,D=5,P=6,A=0,I=1,j=2,O=-2,C=-3,R=-4,L=-5,M=8,F=1,B=2,U=3,z=4,N=5,q=6,Z=7,H=8,X=9,Y=10,V=11,G=12,W=13,J=14,Q=15,K=16,$=17,ee=18,te=19,re=20,ne=21,ie=22,se=23,ae=24,oe=25,le=26,ue=27,ce=28,de=29,fe=30,he=31,pe=32,me=852,ge=592,be=15,_e=!0;t.inflateReset=a,t.inflateReset2=o,t.inflateResetKeep=s,t.inflateInit=u,t.inflateInit2=l,t.inflate=f,t.inflateEnd=h,t.inflateGetHeader=p,t.inflateSetDictionary=m,t.inflateInfo="pako inflate (from Nodeca project)"},"../node_modules/pako/lib/zlib/inftrees.js":function(e,t,r){var n=r("../node_modules/pako/lib/utils/common.js"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,l,u,c,d,f){var h,p,m,g,b,_,v,y,w,x=f.bits,E=0,S=0,T=0,k=0,D=0,P=0,A=0,I=0,j=0,O=0,C=null,R=0,L=new n.Buf16(16),M=new n.Buf16(16),F=null,B=0;for(E=0;E<=15;E++)L[E]=0;for(S=0;S<l;S++)L[t[r+S]]++;for(D=x,k=15;k>=1&&0===L[k];k--);if(D>k&&(D=k),0===k)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(T=1;T<k&&0===L[T];T++);for(D<T&&(D=T),I=1,E=1;E<=15;E++)if(I<<=1,(I-=L[E])<0)return-1;if(I>0&&(0===e||1!==k))return-1;for(M[1]=0,E=1;E<15;E++)M[E+1]=M[E]+L[E];for(S=0;S<l;S++)0!==t[r+S]&&(d[M[t[r+S]]++]=S);if(0===e?(C=F=d,_=19):1===e?(C=i,R-=257,F=s,B-=257,_=256):(C=a,F=o,_=-1),O=0,S=0,E=T,b=c,P=D,A=0,m=-1,j=1<<D,g=j-1,1===e&&j>852||2===e&&j>592)return 1;for(;;){v=E-A,d[S]<_?(y=0,w=d[S]):d[S]>_?(y=F[B+d[S]],w=C[R+d[S]]):(y=96,w=0),h=1<<E-A,p=1<<P,T=p;do p-=h,u[b+(O>>A)+p]=v<<24|y<<16|w|0;while(0!==p)for(h=1<<E-1;O&h;)h>>=1;if(0!==h?(O&=h-1,O+=h):O=0,S++,0==--L[E]){if(E===k)break;E=t[r+d[S]]}if(E>D&&(O&g)!==m){for(0===A&&(A=D),b+=T,P=E-A,I=1<<P;P+A<k&&!((I-=L[P+A])<=0);)P++,I<<=1;if(j+=1<<P,1===e&&j>852||2===e&&j>592)return 1;m=O&g,u[m]=D<<24|P<<16|b-c|0}}return 0!==O&&(u[b+O]=E-A<<24|64<<16|0),f.bits=D,0}},"../node_modules/pako/lib/zlib/messages.js":function(e,t,r){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"../node_modules/pako/lib/zlib/trees.js":function(e,t,r){function n(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function s(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?se[e]:se[256+(e>>>7)]}function o(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,r){e.bi_valid>V-r?(e.bi_buf|=t<<e.bi_valid&65535,o(e,e.bi_buf),e.bi_buf=t>>V-e.bi_valid,e.bi_valid+=r-V):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function u(e,t,r){l(e,r[2*t],r[2*t+1])}function c(e,t){var r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1}function d(e){16===e.bi_valid?(o(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function f(e,t){var r,n,i,s,a,o,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=Y;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<X;r++)n=e.heap[r],s=l[2*l[2*n+1]+1]+1,s>p&&(s=p,m++),l[2*n+1]=s,n>u||(e.bl_count[s]++,a=0,n>=h&&(a=f[n-h]),o=l[2*n],e.opt_len+=o*(s+a),d&&(e.static_len+=o*(c[2*n+1]+a)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(m>0)for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)(i=e.heap[--r])>u||(l[2*i+1]!==s&&(e.opt_len+=(s-l[2*i+1])*l[2*i],l[2*i+1]=s),n--)}}function h(e,t,r){var n,i,s=new Array(Y+1),a=0;for(n=1;n<=Y;n++)s[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=c(s[o]++,o))}}function p(){var e,t,r,n,s,a=new Array(Y+1);for(r=0,n=0;n<z-1;n++)for(oe[n]=r,e=0;e<1<<$[n];e++)ae[r++]=n;for(ae[r-1]=n,s=0,n=0;n<16;n++)for(le[n]=s,e=0;e<1<<ee[n];e++)se[s++]=n;for(s>>=7;n<Z;n++)for(le[n]=s<<7,e=0;e<1<<ee[n]-7;e++)se[256+s++]=n;for(t=0;t<=Y;t++)a[t]=0;for(e=0;e<=143;)ne[2*e+1]=8,e++,a[8]++;for(;e<=255;)ne[2*e+1]=9,e++,a[9]++;for(;e<=279;)ne[2*e+1]=7,e++,a[7]++;for(;e<=287;)ne[2*e+1]=8,e++,a[8]++;for(h(ne,q+1,a),e=0;e<Z;e++)ie[2*e+1]=5,ie[2*e]=c(e,5);ue=new i(ne,$,N+1,q,Y),ce=new i(ie,ee,0,Z,Y),de=new i(new Array(0),te,0,H,G)}function m(e){var t;for(t=0;t<q;t++)e.dyn_ltree[2*t]=0;for(t=0;t<Z;t++)e.dyn_dtree[2*t]=0;for(t=0;t<H;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*W]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?o(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function b(e,t,r,n){g(e),n&&(o(e,r),o(e,~r)),O.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function _(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function v(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&_(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!_(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function y(e,t,r){var n,i,s,o,c=0;if(0!==e.last_lit)do n=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===n?u(e,i,t):(s=ae[i],u(e,s+N+1,t),o=$[s],0!==o&&(i-=oe[s],l(e,i,o)),n--,s=a(n),u(e,s,r),0!==(o=ee[s])&&(n-=le[s],l(e,n,o)));while(c<e.last_lit)u(e,W,t)}function w(e,t){var r,n,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=X,r=0;r<l;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=u<2?++u:0,s[2*i]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)v(e,s,r);i=l;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],v(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,v(e,s,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],f(e,t),h(s,u,e.bl_count)}function x(e,t,r){var n,i,s=-1,a=t[1],o=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<l&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*J]++):o<=10?e.bl_tree[2*Q]++:e.bl_tree[2*K]++,o=0,s=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function E(e,t,r){var n,i,s=-1,a=t[1],o=0,c=7,d=4;for(0===a&&(c=138,d=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<c&&i===a)){if(o<d)do u(e,i,e.bl_tree);while(0!=--o)else 0!==i?(i!==s&&(u(e,i,e.bl_tree),o--),u(e,J,e.bl_tree),l(e,o-3,2)):o<=10?(u(e,Q,e.bl_tree),l(e,o-3,3)):(u(e,K,e.bl_tree),l(e,o-11,7));o=0,s=i,0===a?(c=138,d=3):i===a?(c=6,d=3):(c=7,d=4)}}function S(e){var t;for(x(e,e.dyn_ltree,e.l_desc.max_code),x(e,e.dyn_dtree,e.d_desc.max_code),w(e,e.bl_desc),t=H-1;t>=3&&0===e.bl_tree[2*re[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function T(e,t,r,n){var i;for(l(e,t-257,5),l(e,r-1,5),l(e,n-4,4),i=0;i<n;i++)l(e,e.bl_tree[2*re[i]+1],3);E(e,e.dyn_ltree,t-1),E(e,e.dyn_dtree,r-1)}function k(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return R;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return L;for(t=32;t<N;t++)if(0!==e.dyn_ltree[2*t])return L;return R}function D(e){fe||(p(),fe=!0),e.l_desc=new s(e.dyn_ltree,ue),e.d_desc=new s(e.dyn_dtree,ce),e.bl_desc=new s(e.bl_tree,de),e.bi_buf=0,e.bi_valid=0,m(e)}function P(e,t,r,n){l(e,(F<<1)+(n?1:0),3),b(e,t,r,!0)}function A(e){l(e,B<<1,3),u(e,W,ne),d(e)}function I(e,t,r,n){var i,s,a=0;e.level>0?(e.strm.data_type===M&&(e.strm.data_type=k(e)),w(e,e.l_desc),w(e,e.d_desc),a=S(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?P(e,t,r,n):e.strategy===C||s===i?(l(e,(B<<1)+(n?1:0),3),y(e,ne,ie)):(l(e,(U<<1)+(n?1:0),3),T(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),y(e,e.dyn_ltree,e.dyn_dtree)),m(e),n&&g(e)}function j(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(ae[r]+N+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var O=r("../node_modules/pako/lib/utils/common.js"),C=4,R=0,L=1,M=2,F=0,B=1,U=2,z=29,N=256,q=N+1+z,Z=30,H=19,X=2*q+1,Y=15,V=16,G=7,W=256,J=16,Q=17,K=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(q+2));n(ne);var ie=new Array(2*Z);n(ie);var se=new Array(512);n(se);var ae=new Array(256);n(ae);var oe=new Array(z);n(oe);var le=new Array(Z);n(le);var ue,ce,de,fe=!1;t._tr_init=D,t._tr_stored_block=P,t._tr_flush_block=I,t._tr_tally=j,t._tr_align=A},"../node_modules/pako/lib/zlib/zstream.js":function(e,t,r){function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},"../node_modules/process-nextick-args/index.js":function(e,t,r){(function(t){function r(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,a,o=arguments.length;switch(o){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(s=new Array(o-1),a=0;a<s.length;)s[a++]=arguments[a];return t.nextTick(function(){e.apply(null,s)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:r}:e.exports=t}).call(this,r("../node_modules/process/browser.js"))},"../node_modules/process/browser.js":function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&h&&(m=!1,h.length?p=h.concat(p):g=-1,p.length&&o())}function o(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,m=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,d,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var h,p=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new l(e,t)),1!==p.length||m||i(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},"../node_modules/readable-stream/duplex-browser.js":function(e,t,r){e.exports=r("../node_modules/readable-stream/lib/_stream_duplex.js")},"../node_modules/readable-stream/lib/_stream_duplex.js":function(e,t,r){function n(e){if(!(this instanceof n))return new n(e);u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick(s,this)}function s(e){e.end()}var a=r("../node_modules/process-nextick-args/index.js"),o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=n;var l=r("../node_modules/core-util-is/lib/util.js");l.inherits=r("../node_modules/inherits/inherits_browser.js");var u=r("../node_modules/readable-stream/lib/_stream_readable.js"),c=r("../node_modules/readable-stream/lib/_stream_writable.js");l.inherits(n,u);for(var d=o(c.prototype),f=0;f<d.length;f++){var h=d[f];n.prototype[h]||(n.prototype[h]=c.prototype[h])}Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),n.prototype._destroy=function(e,t){this.push(null),this.end(),a.nextTick(t,e)}},"../node_modules/readable-stream/lib/_stream_passthrough.js":function(e,t,r){function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}e.exports=n;var i=r("../node_modules/readable-stream/lib/_stream_transform.js"),s=r("../node_modules/core-util-is/lib/util.js");s.inherits=r("../node_modules/inherits/inherits_browser.js"),s.inherits(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},"../node_modules/readable-stream/lib/_stream_readable.js":function(e,t,r){(function(t,n){function i(e){return F.from(e)}function s(e){return F.isBuffer(e)||e instanceof B}function a(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?R(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function o(e,t){C=C||r("../node_modules/readable-stream/lib/_stream_duplex.js"),e=e||{};var n=t instanceof C;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Z,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(q||(q=r("../node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new q(e.encoding),this.encoding=e.encoding)}function l(e){if(C=C||r("../node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof l))return new l(e);this._readableState=new o(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),M.call(this)}function u(e,t,r,n,s){var a=e._readableState;if(null===t)a.reading=!1,m(e,a);else{var o;s||(o=d(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===F.prototype||(t=i(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):c(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?c(e,a,t,!1):_(e,a)):c(e,a,t,!1))):n||(a.reading=!1)}return f(a)}function c(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&g(e)),_(e,t)}function d(e,t){var r;return s(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function f(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function h(e){return e>=Y?e=Y:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function p(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=h(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,g(e)}}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(N("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?O.nextTick(b,e):b(e))}function b(e){N("emit readable"),e.emit("readable"),S(e)}function _(e,t){t.readingMore||(t.readingMore=!0,O.nextTick(v,e,t))}function v(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(N("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function y(e){return function(){var t=e._readableState;N("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&L(e,"data")&&(t.flowing=!0,S(e))}}function w(e){N("readable nexttick read 0"),e.read(0)}function x(e,t){t.resumeScheduled||(t.resumeScheduled=!0,O.nextTick(E,e,t))}function E(e,t){t.reading||(N("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),S(e),t.flowing&&!t.reading&&e.read(0)}function S(e){var t=e._readableState;for(N("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){if(0===t.length)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=k(e,t.buffer,t.decoder),r}function k(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?D(e,t):P(e,t),n}function D(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,a=e>s.length?s.length:e;if(i+=a===s.length?s:s.slice(0,e),0===(e-=a)){a===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(a));break}++n}return t.length-=n,i}function P(e,t){var r=F.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,a=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,a),0===(e-=a)){a===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(a));break}++i}return t.length-=i,r}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,O.nextTick(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var O=r("../node_modules/process-nextick-args/index.js");e.exports=l;var C,R=r("../node_modules/isarray/index.js");l.ReadableState=o;var L=(r("../node_modules/events/events.js").EventEmitter,function(e,t){return e.listeners(t).length}),M=r("../node_modules/readable-stream/lib/internal/streams/stream-browser.js"),F=r("../node_modules/safe-buffer/index.js").Buffer,B=t.Uint8Array||function(){},U=r("../node_modules/core-util-is/lib/util.js");U.inherits=r("../node_modules/inherits/inherits_browser.js");var z=r(0),N=void 0;N=z&&z.debuglog?z.debuglog("stream"):function(){};var q,Z=r("../node_modules/readable-stream/lib/internal/streams/BufferList.js"),H=r("../node_modules/readable-stream/lib/internal/streams/destroy.js");U.inherits(l,M);var X=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),l.prototype.destroy=H.destroy,l.prototype._undestroy=H.undestroy,l.prototype._destroy=function(e,t){this.push(null),t(e)},l.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=F.from(e,t),t=""),r=!0),u(this,e,t,!1,r)},l.prototype.unshift=function(e){return u(this,e,null,!0,!1)},l.prototype.isPaused=function(){return this._readableState.flowing===!1},l.prototype.setEncoding=function(e){return q||(q=r("../node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new q(e),this._readableState.encoding=e,this};var Y=8388608;l.prototype.read=function(e){N("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return N("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):g(this),null;if(0===(e=p(e,t))&&t.ended)return 0===t.length&&A(this),null;var n=t.needReadable;N("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,N("length less than watermark",n)),t.ended||t.reading?(n=!1,N("reading or ended",n)):n&&(N("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=p(r,t)));var i;return i=e>0?T(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&A(this)),null!==i&&this.emit("data",i),i},l.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},l.prototype.pipe=function(e,t){function r(e,t){N("onunpipe"),e===f&&t&&t.hasUnpiped===!1&&(t.hasUnpiped=!0,s())}function i(){N("onend"),e.end()}function s(){N("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",g),e.removeListener("error",l),e.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",d),f.removeListener("data",o),b=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function o(t){N("ondata"),_=!1,!1!==e.write(t)||_||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&j(h.pipes,e)!==-1)&&!b&&(N("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,_=!0),f.pause())}function l(t){N("onerror",t),d(),e.removeListener("error",l),0===L(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),d()}function c(){N("onfinish"),e.removeListener("close",u),d()}function d(){N("unpipe"),f.unpipe(e)}var f=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,N("pipe count=%d opts=%j",h.pipesCount,t);var p=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,m=p?i:d;h.endEmitted?O.nextTick(m):f.once("end",m),e.on("unpipe",r);var g=y(f);e.on("drain",g);var b=!1,_=!1;return f.on("data",o),a(e,"error",l),e.once("close",u),e.once("finish",c),e.emit("pipe",f),h.flowing||(N("pipe resume"),f.resume()),e},l.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var a=j(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},l.prototype.on=function(e,t){var r=M.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&g(this):O.nextTick(w,this))}return r},l.prototype.addListener=l.prototype.on,l.prototype.resume=function(){var e=this._readableState;return e.flowing||(N("resume"),e.flowing=!0,x(this,e)),this},l.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(N("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){if(N("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){t.push(i)||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<X.length;s++)e.on(X[s],this.emit.bind(this,X[s]));return this._read=function(t){N("wrapped _read",t),n&&(n=!1,e.resume())},this},l._fromList=T}).call(this,r("../node_modules/webpack/buildin/global.js"),r("../node_modules/process/browser.js"))},"../node_modules/readable-stream/lib/_stream_transform.js":function(e,t,r){function n(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);o.call(this,e),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){a(e,t,r)}):a(this,null,null)}function a(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var o=r("../node_modules/readable-stream/lib/_stream_duplex.js"),l=r("../node_modules/core-util-is/lib/util.js");l.inherits=r("../node_modules/inherits/inherits_browser.js"),l.inherits(i,o),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,o.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var r=this;o.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},"../node_modules/readable-stream/lib/_stream_writable.js":function(e,t,r){(function(t,n,i){function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){D(t,e)}}function a(e){return R.from(e)}function o(e){return R.isBuffer(e)||e instanceof L}function l(){}function u(e,t){A=A||r("../node_modules/readable-stream/lib/_stream_duplex.js"),e=e||{};var n=t instanceof A;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,a=e.writableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=e.decodeStrings===!1;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){_(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function c(e){if(A=A||r("../node_modules/readable-stream/lib/_stream_duplex.js"),!(F.call(c,this)||this instanceof A))return new c(e);this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),C.call(this)}function d(e,t){var r=new Error("write after end");e.emit("error",r),P.nextTick(t,r)}function f(e,t,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),P.nextTick(n,s),i=!1),i}function h(e,t,r){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=R.from(t,r)),t}function p(e,t,r,n,i,s){if(!r){var a=h(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var o=t.objectMode?1:n.length;t.length+=o;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,o,n,i,s);return l}function m(e,t,r,n,i,s,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function g(e,t,r,n,i){--t.pendingcb,r?(P.nextTick(i,n),P.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),T(e,t))}function b(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function _(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(b(r),t)g(e,r,n,t,i);else{var s=x(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?I(v,e,r,s,i):v(e,r,s,i)}}function v(e,t,r,n){r||y(e,t),t.pendingcb--,n(),T(e,t)}function y(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var o=0,l=!0;r;)i[o]=r,r.isBuf||(l=!1),r=r.next,o+=1;i.allBuffers=l,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,d=r.callback;if(m(e,t,!1,t.objectMode?1:u.length,u,c,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){
e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function S(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,P.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var r=x(t);return r&&(S(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}function k(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?P.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function D(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var P=r("../node_modules/process-nextick-args/index.js");e.exports=c;var A,I=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:P.nextTick;c.WritableState=u;var j=r("../node_modules/core-util-is/lib/util.js");j.inherits=r("../node_modules/inherits/inherits_browser.js");var O={deprecate:r("../node_modules/util-deprecate/browser.js")},C=r("../node_modules/readable-stream/lib/internal/streams/stream-browser.js"),R=r("../node_modules/safe-buffer/index.js").Buffer,L=i.Uint8Array||function(){},M=r("../node_modules/readable-stream/lib/internal/streams/destroy.js");j.inherits(c,C),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:O.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var F;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!F.call(this,e)||this===c&&(e&&e._writableState instanceof u)}})):F=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,r){var n=this._writableState,i=!1,s=!n.objectMode&&o(e);return s&&!R.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=l),n.ended?d(this,r):(s||f(this,n,e,r))&&(n.pendingcb++,i=p(this,n,s,e,t,r)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},c.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||k(this,n,r)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=M.destroy,c.prototype._undestroy=M.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r("../node_modules/process/browser.js"),r("../node_modules/timers-browserify/main.js").setImmediate,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/readable-stream/lib/internal/streams/BufferList.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){e.copy(t,r)}var s=r("../node_modules/safe-buffer/index.js").Buffer,a=r(1);e.exports=function(){function e(){n(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return s.alloc(0);if(1===this.length)return this.head.data;for(var t=s.allocUnsafe(e>>>0),r=this.head,n=0;r;)i(r.data,t,n),n+=r.data.length,r=r.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},"../node_modules/readable-stream/lib/internal/streams/destroy.js":function(e,t,r){function n(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a.nextTick(s,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a.nextTick(s,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(e,t){e.emit("error",t)}var a=r("../node_modules/process-nextick-args/index.js");e.exports={destroy:n,undestroy:i}},"../node_modules/readable-stream/lib/internal/streams/stream-browser.js":function(e,t,r){e.exports=r("../node_modules/events/events.js").EventEmitter},"../node_modules/readable-stream/passthrough.js":function(e,t,r){e.exports=r("../node_modules/readable-stream/readable-browser.js").PassThrough},"../node_modules/readable-stream/readable-browser.js":function(e,t,r){t=e.exports=r("../node_modules/readable-stream/lib/_stream_readable.js"),t.Stream=t,t.Readable=t,t.Writable=r("../node_modules/readable-stream/lib/_stream_writable.js"),t.Duplex=r("../node_modules/readable-stream/lib/_stream_duplex.js"),t.Transform=r("../node_modules/readable-stream/lib/_stream_transform.js"),t.PassThrough=r("../node_modules/readable-stream/lib/_stream_passthrough.js")},"../node_modules/readable-stream/transform.js":function(e,t,r){e.exports=r("../node_modules/readable-stream/readable-browser.js").Transform},"../node_modules/readable-stream/writable-browser.js":function(e,t,r){e.exports=r("../node_modules/readable-stream/lib/_stream_writable.js")},"../node_modules/safe-buffer/index.js":function(e,t,r){function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,r){return a(e,t,r)}var s=r("../node_modules/buffer/index.js"),a=s.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=s:(n(s,t),t.Buffer=i),n(a,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s.SlowBuffer(e)}},"../node_modules/setimmediate/setImmediate.js":function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return u[l]=n,o(l),l++}function i(e){delete u[e]}function s(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function a(e){if(c)setTimeout(a,0,e);else{var t=u[e];if(t){c=!0;try{s(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var o,l=1,u={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){o=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&a(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),o=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},o=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;o=function(t){var r=d.createElement("script");r.onreadystatechange=function(){a(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function(){o=function(e){setTimeout(a,0,e)}}(),f.setImmediate=n,f.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r("../node_modules/webpack/buildin/global.js"),r("../node_modules/process/browser.js"))},"../node_modules/stream-browserify/index.js":function(e,t,r){function n(){i.call(this)}e.exports=n;var i=r("../node_modules/events/events.js").EventEmitter;r("../node_modules/inherits/inherits_browser.js")(n,i),n.Readable=r("../node_modules/readable-stream/readable-browser.js"),n.Writable=r("../node_modules/readable-stream/writable-browser.js"),n.Duplex=r("../node_modules/readable-stream/duplex-browser.js"),n.Transform=r("../node_modules/readable-stream/transform.js"),n.PassThrough=r("../node_modules/readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(e,t){function r(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function n(){u.readable&&u.resume&&u.resume()}function s(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function o(e){if(l(),0===i.listenerCount(this,"error"))throw e}function l(){u.removeListener("data",r),e.removeListener("drain",n),u.removeListener("end",s),u.removeListener("close",a),u.removeListener("error",o),e.removeListener("error",o),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}var u=this;u.on("data",r),e.on("drain",n),e._isStdio||t&&t.end===!1||(u.on("end",s),u.on("close",a));var c=!1;return u.on("error",o),e.on("error",o),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}},"../node_modules/string_decoder/lib/string_decoder.js":function(e,t,r){function n(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=n(e);if("string"!=typeof t&&(_.isEncoding===v||!v(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=f,this.end=h,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=p,this.end=m,t=3;break;default:return this.write=g,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function o(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0)}function l(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(r+2)}}function u(e){var t=this.lastTotal-this.lastNeed,r=l(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){var r=o(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t}function f(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function p(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}var _=r("../node_modules/safe-buffer/index.js").Buffer,v=_.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=d,s.prototype.text=c,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"../node_modules/timers-browserify/main.js":function(e,t,r){(function(e){function n(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r("../node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/util-deprecate/browser.js":function(e,t,r){(function(t){function r(e,t){function r(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var i=!1;return r}function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=r}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"../node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"../node_modules/util/util.js":function(e,t,r){(function(e,n){function i(e,r){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),l(n,e,n.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function a(e,t){return e}function o(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function l(e,r,n){if(e.customInspect&&r&&k(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=l(e,i,n)),i}var s=u(e,r);if(s)return s;var a=Object.keys(r),m=o(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),T(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(r);if(0===a.length){if(k(r)){var g=r.name?": "+r.name:"";return e.stylize("[Function"+g+"]","special")}if(x(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(T(r))return c(r)}var b="",_=!1,y=["{","}"];if(p(r)&&(_=!0,y=["[","]"]),k(r)){b=" [Function"+(r.name?": "+r.name:"")+"]"}if(x(r)&&(b=" "+RegExp.prototype.toString.call(r)),S(r)&&(b=" "+Date.prototype.toUTCString.call(r)),T(r)&&(b=" "+c(r)),0===a.length&&(!_||0==r.length))return y[0]+b+y[1];if(n<0)return x(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var w;return w=_?d(e,r,n,m,a):a.map(function(t){return f(e,r,n,m,t,_)}),e.seen.pop(),h(w,b,y)}function u(e,t){if(w(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return _(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i){for(var s=[],a=0,o=t.length;a<o;++a)j(t,String(a))?s.push(f(e,t,r,n,String(a),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(f(e,t,r,n,i,!0))}),s}function f(e,t,r,n,i,s){var a,o,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),j(n,i)||(a="["+i+"]"),o||(e.seen.indexOf(u.value)<0?(o=g(r)?l(e,u.value,null):l(e,u.value,r-1),o.indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n"))):o=e.stylize("[Circular]","special")),w(a)){if(s&&i.match(/^\d+$/))return o;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function h(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function b(e){return null==e}function _(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return"symbol"==typeof e}function w(e){return void 0===e}function x(e){return E(e)&&"[object RegExp]"===P(e)}function E(e){return"object"==typeof e&&null!==e}function S(e){return E(e)&&"[object Date]"===P(e)}function T(e){return E(e)&&("[object Error]"===P(e)||e instanceof Error)}function k(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function P(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function I(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,s=n.length,a=String(e).replace(/%[sdj%]/g,function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),o=n[r];r<s;o=n[++r])a+=g(o)||!E(o)?" "+o:" "+i(o);return a},t.deprecate=function(r,i){function s(){if(!a){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),a=!0}return r.apply(this,arguments)}if(w(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(n.noDeprecation===!0)return r;var a=!1;return s};var O,C={};t.debuglog=function(e){if(w(O)&&(O=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!C[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var r=n.pid;C[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else C[e]=function(){};return C[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=b,t.isNumber=_,t.isString=v,t.isSymbol=y,t.isUndefined=w,t.isRegExp=x,t.isObject=E,t.isDate=S,t.isError=T,t.isFunction=k,t.isPrimitive=D,t.isBuffer=r("../node_modules/util/support/isBufferBrowser.js");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=r("../node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,r("../node_modules/webpack/buildin/global.js"),r("../node_modules/process/browser.js"))},"../node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"../node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./alloc.js":function(e,t,r){(function(e){function r(t,r){if(void 0!==e&&t instanceof e)return e.alloc(r);if(t instanceof Uint8Array)return new Uint8Array(r);throw"dicomParser.alloc: unknown type for byteArray"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}).call(this,r("../node_modules/buffer/index.js").Buffer)},"./bigEndianByteArrayParser.js":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(e[t]<<8)+e[t+1]},readInt16:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";var r=(e[t]<<8)+e[t+1];return 32768&r&&(r=r-65535-1),r},readUint32:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*e[t]+e[t+1])+e[t+2])+e[t+3]},readInt32:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]},readFloat:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var r=new Uint8Array(4);return r[3]=e[t],r[2]=e[t+1],r[1]=e[t+2],r[0]=e[t+3],new Float32Array(r.buffer)[0]},readDouble:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var r=new Uint8Array(8);return r[7]=e[t],r[6]=e[t+1],r[5]=e[t+2],r[4]=e[t+3],r[3]=e[t+4],r[2]=e[t+5],r[1]=e[t+6],r[0]=e[t+7],new Float64Array(r.buffer)[0]}}},"./byteArrayParser.js":function(e,t,r){function n(e,t,r){if(r<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(t+r>e.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var n,i="",s=0;s<r;s++){if(0===(n=e[t+s]))return t+=r,i;i+=String.fromCharCode(n)}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.readFixedString=n},"./byteStream.js":function(e,t,r){(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r("./sharedCopy.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(s),o=r("./byteArrayParser.js"),l=function(){function t(r,i,s){if(n(this,t),void 0===r)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(void 0===i)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(i instanceof Uint8Array==!1&&i instanceof e==!1)throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(s<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(s>=i.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=r,this.byteArray=i,this.position=s?s:0,this.warnings=[]}return i(t,[{key:"seek",value:function(e){if(this.position+e<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=e}},{key:"readByteStream",value:function(e){if(this.position+e>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var r=(0,a.default)(this.byteArray,this.position,e);return this.position+=e,new t(this.byteArrayParser,r)}},{key:"readUint16",value:function(){var e=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,e}},{key:"readUint32",value:function(){var e=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,e}},{key:"readFixedString",value:function(e){var t=(0,o.readFixedString)(this.byteArray,this.position,e);return this.position+=e,t}}]),t}();t.default=l}).call(this,r("../node_modules/buffer/index.js").Buffer)},"./dataSet.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return void 0!==e.parser?e.parser:t}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r("./byteArrayParser.js"),o=function(){function e(t,r,i){n(this,e),this.byteArrayParser=t,this.byteArray=r,this.elements=i}return s(e,[{key:"uint16",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readUint16(this.byteArray,r.dataOffset+2*t)}},{key:"int16",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readInt16(this.byteArray,r.dataOffset+2*t)}},{key:"uint32",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readUint32(this.byteArray,r.dataOffset+4*t)}},{key:"int32",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readInt32(this.byteArray,r.dataOffset+4*t)}},{key:"float",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readFloat(this.byteArray,r.dataOffset+4*t)}},{key:"double",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readDouble(this.byteArray,r.dataOffset+8*t)}},{key:"numStringValues",value:function(e){var t=this.elements[e];if(t&&t.length>0){var r=(0,a.readFixedString)(this.byteArray,t.dataOffset,t.length),n=r.match(/\\/g);return null===n?1:n.length+1}}},{key:"string",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){var n=(0,a.readFixedString)(this.byteArray,r.dataOffset,r.length);if(t>=0){return n.split("\\")[t].trim()}return n.trim()}}},{key:"text",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){var n=(0,a.readFixedString)(this.byteArray,r.dataOffset,r.length);if(t>=0){return n.split("\\")[t].replace(/ +$/,"")}return n.replace(/ +$/,"")}}},{key:"floatString",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseFloat(n)}}},{key:"intString",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseInt(n)}}},{key:"attributeTag",value:function(e){var t=this.elements[e];if(t&&4===t.length){var r=i(t,this.byteArrayParser).readUint16,n=this.byteArray,s=t.dataOffset;return"x"+("00000000"+(256*r(n,s)*256+r(n,s+2)).toString(16)).substr(-8)}}}]),e}();t.default=o},"./findAndSetUNElementLength.js":function(e,t,r){function n(e,t){if(void 0===e)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var r=e.byteArray.length-8;e.position<=r;){if(65534===e.readUint16()){if(57565===e.readUint16()){return 0!==e.readUint32()&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset)}}}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"./findEndOfEncapsulatedPixelData.js":function(e,t,r){function n(e,t,r){if(void 0===e)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'"
;if(void 0===t)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(t.encapsulatedPixelData=!0,t.basicOffsetTable=[],t.fragments=[],"xfffee000"!==(0,s.default)(e))throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var n=e.readUint32(),i=n/4,a=0;a<i;a++){var o=e.readUint32();t.basicOffsetTable.push(o)}for(var l=e.position;e.position<e.byteArray.length;){var u=(0,s.default)(e),c=e.readUint32();if("xfffee0dd"===u)return e.seek(c),void(t.length=e.position-t.dataOffset);if("xfffee000"!==u)return r&&r.push("unexpected tag "+u+" while searching for end of pixel data element with undefined length"),c>e.byteArray.length-e.position&&(c=e.byteArray.length-e.position),t.fragments.push({offset:e.position-l-8,position:e.position,length:c}),e.seek(c),void(t.length=e.position-t.dataOffset);t.fragments.push({offset:e.position-l-8,position:e.position,length:c}),e.seek(c)}r&&r.push("pixel data element "+t.tag+" missing sequence delimiter tag xfffee0dd")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r("./readTag.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(i)},"./findItemDelimitationItem.js":function(e,t,r){function n(e,t){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var r=e.byteArray.length-8;e.position<=r;){if(65534===e.readUint16()){if(57357===e.readUint16()){return 0!==e.readUint32()&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset)}}}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"./index.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.readTag=t.readSequenceItem=t.readSequenceItemsImplicit=t.readSequenceItemsExplicit=t.readPart10Header=t.readEncapsulatedPixelDataFromFragments=t.readEncapsulatedPixelData=t.readEncapsulatedImageFrame=t.readDicomElementImplicit=t.readDicomElementExplicit=t.parseDicom=t.littleEndianByteArrayParser=t.findItemDelimitationItemAndSetElementLength=t.findEndOfEncapsulatedElement=t.findAndSetUNElementLength=t.DataSet=t.sharedCopy=t.ByteStream=t.bigEndianByteArrayParser=t.version=t.alloc=t.readFixedString=t.parseDicomDataSetImplicit=t.parseDicomDataSetExplicit=t.createJPEGBasicOffsetTable=t.explicitDataSetToJS=t.explicitElementToString=t.parseDA=t.parseTM=t.parsePN=t.isPrivateTag=t.isStringVr=void 0;var i=r("./util/index.js"),s=r("./parseDicomDataSet.js"),a=r("./byteArrayParser.js"),o=r("./alloc.js"),l=n(o),u=r("./version.js"),c=n(u),d=r("./bigEndianByteArrayParser.js"),f=n(d),h=r("./byteStream.js"),p=n(h),m=r("./sharedCopy.js"),g=n(m),b=r("./dataSet.js"),_=n(b),v=r("./findAndSetUNElementLength.js"),y=n(v),w=r("./findEndOfEncapsulatedPixelData.js"),x=n(w),E=r("./findItemDelimitationItem.js"),S=n(E),T=r("./littleEndianByteArrayParser.js"),k=n(T),D=r("./parseDicom.js"),P=n(D),A=r("./readDicomElementExplicit.js"),I=n(A),j=r("./readDicomElementImplicit.js"),O=n(j),C=r("./readEncapsulatedImageFrame.js"),R=n(C),L=r("./readEncapsulatedPixelData.js"),M=n(L),F=r("./readEncapsulatedPixelDataFromFragments.js"),B=n(F),U=r("./readPart10Header.js"),z=n(U),N=r("./readSequenceElementExplicit.js"),q=n(N),Z=r("./readSequenceElementImplicit.js"),H=n(Z),X=r("./readSequenceItem.js"),Y=n(X),V=r("./readTag.js"),G=n(V),W={isStringVr:i.isStringVr,isPrivateTag:i.isPrivateTag,parsePN:i.parsePN,parseTM:i.parseTM,parseDA:i.parseDA,explicitElementToString:i.explicitElementToString,explicitDataSetToJS:i.explicitDataSetToJS,createJPEGBasicOffsetTable:i.createJPEGBasicOffsetTable,parseDicomDataSetExplicit:s.parseDicomDataSetExplicit,parseDicomDataSetImplicit:s.parseDicomDataSetImplicit,readFixedString:a.readFixedString,alloc:l.default,version:c.default,bigEndianByteArrayParser:f.default,ByteStream:p.default,sharedCopy:g.default,DataSet:_.default,findAndSetUNElementLength:y.default,findEndOfEncapsulatedElement:x.default,findItemDelimitationItemAndSetElementLength:S.default,littleEndianByteArrayParser:k.default,parseDicom:P.default,readDicomElementExplicit:I.default,readDicomElementImplicit:O.default,readEncapsulatedImageFrame:R.default,readEncapsulatedPixelData:M.default,readEncapsulatedPixelDataFromFragments:B.default,readPart10Header:z.default,readSequenceItemsExplicit:q.default,readSequenceItemsImplicit:H.default,readSequenceItem:Y.default,readTag:G.default};t.isStringVr=i.isStringVr,t.isPrivateTag=i.isPrivateTag,t.parsePN=i.parsePN,t.parseTM=i.parseTM,t.parseDA=i.parseDA,t.explicitElementToString=i.explicitElementToString,t.explicitDataSetToJS=i.explicitDataSetToJS,t.createJPEGBasicOffsetTable=i.createJPEGBasicOffsetTable,t.parseDicomDataSetExplicit=s.parseDicomDataSetExplicit,t.parseDicomDataSetImplicit=s.parseDicomDataSetImplicit,t.readFixedString=a.readFixedString,t.alloc=l.default,t.version=c.default,t.bigEndianByteArrayParser=f.default,t.ByteStream=p.default,t.sharedCopy=g.default,t.DataSet=_.default,t.findAndSetUNElementLength=y.default,t.findEndOfEncapsulatedElement=x.default,t.findItemDelimitationItemAndSetElementLength=S.default,t.littleEndianByteArrayParser=k.default,t.parseDicom=P.default,t.readDicomElementExplicit=I.default,t.readDicomElementImplicit=O.default,t.readEncapsulatedImageFrame=R.default,t.readEncapsulatedPixelData=M.default,t.readEncapsulatedPixelDataFromFragments=B.default,t.readPart10Header=z.default,t.readSequenceItemsExplicit=q.default,t.readSequenceItemsImplicit=H.default,t.readSequenceItem=Y.default,t.readTag=G.default,t.default=W},"./littleEndianByteArrayParser.js":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return e[t]+256*e[t+1]},readInt16:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";var r=e[t]+(e[t+1]<<8);return 32768&r&&(r=r-65535-1),r},readUint32:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return e[t]+256*e[t+1]+256*e[t+2]*256+256*e[t+3]*256*256},readInt32:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)},readFloat:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var r=new Uint8Array(4);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],new Float32Array(r.buffer)[0]},readDouble:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var r=new Uint8Array(8);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],r[4]=e[t+4],r[5]=e[t+5],r[6]=e[t+6],r[7]=e[t+7],new Float64Array(r.buffer)[0]}}},"./parseDicom.js":function(e,t,r){(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function s(t,n){function i(e){if(void 0===e.elements.x00020010)throw"dicomParser.parseDicom: missing required meta header attribute 0002,0010";var r=e.elements.x00020010;return w.readFixedString(t,r.dataOffset,r.length)}function s(e){return"1.2.840.10008.1.2"!==e}function a(i,s){if("1.2.840.10008.1.2.1.99"===i){if(n&&n.inflater){var a=n.inflater(t,s);return new d.default(m.default,a,0)}if(void 0!==e&&this.module!==e){var l=r("../node_modules/browserify-zlib/lib/index.js"),c=(0,v.default)(t,s,t.length-s),f=l.inflateRawSync(c),h=(0,o.default)(t,f.length+s);return t.copy(h,0,0,s),f.copy(h,s),new d.default(m.default,h,0)}if("undefined"!=typeof pako){var p=t.slice(s),g=pako.inflateRaw(p),b=(0,o.default)(t,g.length+s);return b.set(t.slice(0,s),0),b.set(g,s),new d.default(m.default,b,0)}throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax"}return"1.2.840.10008.1.2.2"===i?new d.default(u.default,t,s):new d.default(m.default,t,s)}function l(e,t){for(var r in e.elements)e.elements.hasOwnProperty(r)&&(t.elements[r]=e.elements[r]);return void 0!==e.warnings&&(t.warnings=e.warnings.concat(t.warnings)),t}function c(e){var t=i(e),r=s(t),o=a(t,e.position),l={},u=new h.default(o.byteArrayParser,o.byteArray,l);u.warnings=o.warnings;try{r?E.parseDicomDataSetExplicit(u,o,o.byteArray.length,n):E.parseDicomDataSetImplicit(u,o,o.byteArray.length,n)}catch(e){throw{exception:e,dataSet:u}}return u}if(void 0===t)throw"dicomParser.parseDicom: missing required parameter 'byteArray'";return function(){var e=(0,b.default)(t,n);return l(e,c(e))}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var a=r("./alloc.js"),o=i(a),l=r("./bigEndianByteArrayParser.js"),u=i(l),c=r("./byteStream.js"),d=i(c),f=r("./dataSet.js"),h=i(f),p=r("./littleEndianByteArrayParser.js"),m=i(p),g=r("./readPart10Header.js"),b=i(g),_=r("./sharedCopy.js"),v=i(_),y=r("./byteArrayParser.js"),w=n(y),x=r("./parseDicomDataSet.js"),E=n(x)}).call(this,r("../node_modules/webpack/buildin/module.js")(e))},"./parseDicomDataSet.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r=void 0===r?t.byteArray.length:r,void 0===t)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(r<t.position||r>t.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var i=e.elements;t.position<r;){var s=(0,o.default)(t,e.warnings,n.untilTag);if(i[s.tag]=s,s.tag===n.untilTag)return}if(t.position>r)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"}function s(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r=void 0===r?e.byteArray.length:r,void 0===t)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(r<t.position||r>t.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var i=e.elements;t.position<r;){var s=(0,u.default)(t,n.untilTag,n.vrCallback);if(i[s.tag]=s,s.tag===n.untilTag)return}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseDicomDataSetExplicit=i,t.parseDicomDataSetImplicit=s;var a=r("./readDicomElementExplicit.js"),o=n(a),l=r("./readDicomElementImplicit.js"),u=n(l)},"./readDicomElementExplicit.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){if(void 0===e)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var n={tag:(0,f.default)(e),vr:e.readFixedString(2)};return 2===m(n.vr)?(n.length=e.readUint16(),n.dataOffset=e.position):(e.seek(2),n.length=e.readUint32(),n.dataOffset=e.position),4294967295===n.length&&(n.hadUndefinedLength=!0),n.tag===r?n:"SQ"===n.vr?((0,p.default)(e,n,t),n):4294967295===n.length?"x7fe00010"===n.tag?((0,a.default)(e,n,t),n):"UN"===n.vr?((0,l.default)(e,n),n):((0,c.default)(e,n),n):(e.seek(n.length),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=r("./findEndOfEncapsulatedPixelData.js"),a=n(s),o=r("./findAndSetUNElementLength.js"),l=n(o),u=r("./findItemDelimitationItem.js"),c=n(u),d=r("./readTag.js"),f=n(d),h=r("./readSequenceElementExplicit.js"),p=n(h),m=function(e){return"OB"===e||"OW"===e||"SQ"===e||"OF"===e||"UT"===e||"UN"===e?4:2}},"./readDicomElementImplicit.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var n={tag:(0,c.default)(e),length:e.readUint32(),dataOffset:e.position};return 4294967295===n.length&&(n.hadUndefinedLength=!0),n.tag===t?n:d(n,e,r)?((0,l.default)(e,n),n):n.hadUndefinedLength?((0,a.default)(e,n),n):(e.seek(n.length),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=r("./findItemDelimitationItem.js"),a=n(s),o=r("./readSequenceElementImplicit.js"),l=n(o),u=r("./readTag.js"),c=n(u),d=function(e,t,r){if(void 0!==r)return"SQ"===r(e.tag);if(t.position+4<=t.byteArray.length){var n=(0,c.default)(t);return t.seek(-4),"xfffee000"===n||"xfffee0dd"===n}return t.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1}},"./readEncapsulatedImageFrame.js":function(e,t,r){function n(e,t,r,n,i){if(n=n||t.basicOffsetTable,i=i||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(void 0===r)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(void 0===n)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(t.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(0===n.length)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(r<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(r>=n.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var l=n[r],u=a(i,l);if(void 0===u)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";var c=o(r,n,i,u);return(0,s.default)(e,t,u,c,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r("./readEncapsulatedPixelDataFromFragments.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e,t){for(var r=0;r<e.length;r++)if(e[r].offset===t)return r},o=function(e,t,r,n){if(e===t.length-1)return r.length-n;for(var i=t[e+1],s=n+1;s<r.length;s++)if(r[s].offset===i)return s-n;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"}},"./readEncapsulatedPixelData.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){if(u||(u=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),void 0===e)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(void 0===r)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(t.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(t.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(r<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return 0!==t.basicOffsetTable.length?(0,a.default)(e,t,r):(0,l.default)(e,t,0,t.fragments.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=r("./readEncapsulatedImageFrame.js"),a=n(s),o=r("./readEncapsulatedPixelDataFromFragments.js"),l=n(o),u=!1},"./readEncapsulatedPixelDataFromFragments.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n,i){if(n=n||1,i=i||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(void 0===r)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if(void 0===n)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(t.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(r<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(r>=t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(n<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(r+n>t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var s=new l.default(e.byteArrayParser,e.byteArray,t.dataOffset),o=(0,c.default)(s);if("xfffee000"!==o.tag)throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";s.seek(o.length);var u=s.position;if(1===n)return(0,f.default)(s.byteArray,u+i[r].offset+8,i[r].length);for(var d=h(i,r,n),p=(0,a.default)(s.byteArray,d),m=0,g=r;g<r+n;g++)for(var b=u+i[g].offset+8,_=0;_<i[g].length;_++)p[m++]=s.byteArray[b++];return p}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=r("./alloc.js"),a=n(s),o=r("./byteStream.js"),l=n(o),u=r("./readSequenceItem.js"),c=n(u),d=r("./sharedCopy.js"),f=n(d),h=function(e,t,r){for(var n=0,i=t;i<t+r;i++)n+=e[i].length;return n}},"./readPart10Header.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function r(){if(n.seek(128),"DICM"!==n.readFixedString(4))throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file."}if(void 0===e)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var n=new a.default(c.default,e);return function(){r();for(var e=[],t={};n.position<n.byteArray.length;){var i=n.position,s=(0,f.default)(n,e);if(s.tag>"x0002ffff"){n.position=i;break}s.parser=c.default,t[s.tag]=s}var a=new l.default(n.byteArrayParser,n.byteArray,t);return a.warnings=n.warnings,a.position=n.position,a}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=r("./byteStream.js"),a=n(s),o=r("./dataSet.js"),l=n(o),u=r("./littleEndianByteArrayParser.js"),c=n(u),d=r("./readDicomElementExplicit.js"),f=n(d)},"./readSequenceElementExplicit.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var r={};e.position<e.byteArray.length;){var n=(0,f.default)(e,t);if(r[n.tag]=n,"xfffee00d"===n.tag)return new c.default(e.byteArrayParser,e.byteArray,r)}return t.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new c.default(e.byteArrayParser,e.byteArray,r)}function s(e,t){var r=(0,p.default)(e);return 4294967295===r.length?(r.hadUndefinedLength=!0,r.dataSet=i(e,t),r.length=e.position-r.dataOffset):(r.dataSet=new c.default(e.byteArrayParser,e.byteArray,{}),_.parseDicomDataSetExplicit(r.dataSet,e,e.position+r.length)),r}function a(e,t,r){for(;e.position+4<=e.byteArray.length;){var n=(0,g.default)(e);if(e.seek(-4),"xfffee0dd"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var i=s(e,r);t.items.push(i)}r.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),t.length=e.position-t.dataOffset}function o(e,t,r){for(var n=t.dataOffset+t.length;e.position<n;){var i=s(e,r);t.items.push(i)}}function l(e,t,r){if(void 0===e)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?a(e,t,r):o(e,t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=r("./dataSet.js"),c=n(u),d=r("./readDicomElementExplicit.js"),f=n(d),h=r("./readSequenceItem.js"),p=n(h),m=r("./readTag.js"),g=n(m),b=r("./parseDicomDataSet.js"),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(b)},"./readSequenceElementImplicit.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var r={};e.position<e.byteArray.length;){var n=(0,f.default)(e,void 0,t);if(r[n.tag]=n,"xfffee00d"===n.tag)return new c.default(e.byteArrayParser,e.byteArray,r)}return e.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new c.default(e.byteArrayParser,e.byteArray,r)}function s(e,t){var r=(0,p.default)(e);return 4294967295===r.length?(r.hadUndefinedLength=!0,r.dataSet=i(e,t),r.length=e.position-r.dataOffset):(r.dataSet=new c.default(e.byteArrayParser,e.byteArray,{}),_.parseDicomDataSetImplicit(r.dataSet,e,e.position+r.length,{vrCallback:t})),r}function a(e,t,r){for(;e.position+4<=e.byteArray.length;){var n=(0,g.default)(e);if(e.seek(-4),"xfffee0dd"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var i=s(e,r);t.items.push(i)}e.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),t.length=e.byteArray.length-t.dataOffset}function o(e,t,r){for(var n=t.dataOffset+t.length;e.position<n;){var i=s(e,r);t.items.push(i)}}function l(e,t,r){if(void 0===e)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?a(e,t,r):o(e,t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=r("./dataSet.js"),c=n(u),d=r("./readDicomElementImplicit.js"),f=n(d),h=r("./readSequenceItem.js"),p=n(h),m=r("./readTag.js"),g=n(m),b=r("./parseDicomDataSet.js"),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(b)},"./readSequenceItem.js":function(e,t,r){function n(e){if(void 0===e)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var t={tag:(0,s.default)(e),length:e.readUint32(),dataOffset:e.position};if("xfffee000"!==t.tag)throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset "+e.position;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r("./readTag.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(i)},"./readTag.js":function(e,t,r){function n(e){if(void 0===e)throw"dicomParser.readTag: missing required parameter 'byteStream'";return"x"+("00000000"+(256*e.readUint16()*256+e.readUint16()).toString(16)).substr(-8)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"./sharedCopy.js":function(e,t,r){(function(e){function r(t,r,n){if(void 0!==e&&t instanceof e)return t.slice(r,r+n);if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset+r,n);throw"dicomParser.from: unknown type for byteArray"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}).call(this,r("../node_modules/buffer/index.js").Buffer)},"./util/createJPEGBasicOffsetTable.js":function(e,t,r){function n(e,t){return 255===e.byteArray[t]&&217===e.byteArray[t+1]}function i(e,t,r){var i=t.fragments[r];return!(!n(e,i.position+i.length-2)&&!n(e,i.position+i.length-3))}function s(e,t,r){for(var n=r;n<t.fragments.length;n++)if(i(e,t,n))return n}function a(e,t,r){if(void 0===e)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(void 0===t)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if("x7fe00010"!==t.tag)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(t.encapsulatedPixelData!==!0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.hadUndefinedLength!==!0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(r&&r.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";r=r||t.fragments;for(var n=[],i=0;;){n.push(t.fragments[i].offset);var a=s(e,t,i);if(void 0===a||a===t.fragments.length-1)return n;i=a+1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},"./util/dataSetToJS.js":function(e,t,r){function n(e,t){if(void 0===e)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";t=t||{omitPrivateAttibutes:!0,maxElementLength:128};var r={};for(var i in e.elements){var a=e.elements[i];if(t.omitPrivateAttibutes!==!0||!o.isPrivateTag(i))if(a.items){for(var l=[],u=0;u<a.items.length;u++)l.push(n(a.items[u].dataSet,t));r[i]=l}else{var c;c=void 0,a.length<t.maxElementLength&&(c=(0,s.default)(e,a)),r[i]=void 0!==c?c:{dataOffset:a.dataOffset,length:a.length}}}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r("./util/elementToString.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r("./util/util.js"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a)},"./util/elementToString.js":function(e,t,r){function n(e,t){function r(t,r){for(var n="",i=0;i<t;i++)0!==i&&(n+="/"),n+=r.call(e,a,i).toString();return n}if(void 0===e||void 0===t)throw"dicomParser.explicitElementToString: missing required parameters";if(void 0===t.vr)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var n,i=t.vr,a=t.tag;if(s.isStringVr(i)===!0)n=e.string(a);else{if("AT"===i){var o=e.uint32(a);if(void 0===o)return;return o<0&&(o=4294967295+o+1),"x"+o.toString(16).toUpperCase()}"US"===i?n=r(t.length/2,e.uint16):"SS"===i?n=r(t.length/2,e.int16):"UL"===i?n=r(t.length/4,e.uint32):"SL"===i?n=r(t.length/4,e.int32):"FD"===i?n=r(t.length/8,e.double):"FL"===i&&(n=r(t.length/4,e.float))}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r("./util/util.js"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i)},"./util/index.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createJPEGBasicOffsetTable=t.explicitDataSetToJS=t.explicitElementToString=t.parseDA=t.parseTM=t.parsePN=t.isPrivateTag=t.isStringVr=void 0;var i=r("./util/util.js"),s=r("./util/parseTM.js"),a=n(s),o=r("./util/parseDA.js"),l=n(o),u=r("./util/elementToString.js"),c=n(u),d=r("./util/dataSetToJS.js"),f=n(d),h=r("./util/createJPEGBasicOffsetTable.js"),p=n(h);t.isStringVr=i.isStringVr,t.isPrivateTag=i.isPrivateTag,t.parsePN=i.parsePN,t.parseTM=a.default,t.parseDA=l.default,t.explicitElementToString=c.default,t.explicitDataSetToJS=f.default,t.createJPEGBasicOffsetTable=p.default},"./util/parseDA.js":function(e,t,r){function n(e,t){switch(e){case 2:return t%4==0&&t%100||t%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}function i(e,t,r){return!isNaN(r)&&(t>0&&t<=12&&e>0&&e<=n(t,r))}function s(e,t){if(e&&8===e.length){var r=parseInt(e.substring(0,4),10),n=parseInt(e.substring(4,6),10),s=parseInt(e.substring(6,8),10);if(t&&i(s,n,r)!==!0)throw"invalid DA '"+e+"'";return{year:r,month:n,day:s}}if(t)throw"invalid DA '"+e+"'"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},"./util/parseTM.js":function(e,t,r){function n(e,t){if(e.length>=2){var r=parseInt(e.substring(0,2),10),n=e.length>=4?parseInt(e.substring(2,4),10):void 0,i=e.length>=6?parseInt(e.substring(4,6),10):void 0,s=e.length>=8?parseInt(e.substring(7,13),10):void 0;if(t&&(isNaN(r)||void 0!==n&&isNaN(n)||void 0!==i&&isNaN(i)||void 0!==s&&isNaN(s)||r<0||r>23||n&&(n<0||n>59)||i&&(i<0||i>59)||s&&(s<0||s>999999)))throw"invalid TM '"+e+"'";return{hours:r,minutes:n,seconds:i,fractionalSeconds:s}}if(t)throw"invalid TM '"+e+"'"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"./util/util.js":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0},i=function(e){return n[e]},s=function(e){return parseInt(e[4],10)%2==1},a=function(e){if(void 0!==e){var t=e.split("^");return{familyName:t[0],givenName:t[1],middleName:t[2],prefix:t[3],suffix:t[4]}}};t.isStringVr=i,t.isPrivateTag=s,t.parsePN=a},"./version.js":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default="1.8.2"},0:function(e,t){},1:function(e,t){}})}),e("dicom-parser/dist/dicomParser",function(){});var n={Unkown:0,Grayscale:1,AdobeRGB:2,RGB:3,CYMK:4},i=function(){"use strict";function e(){}function t(e,t){for(var r,n,i=0,s=[],a=16;a>0&&!e[a-1];)a--;s.push({children:[],index:0});var o,l=s[0];for(r=0;r<a;r++){for(n=0;n<e[r];n++){for(l=s.pop(),
l.children[l.index]=t[i];l.index>0;)l=s.pop();for(l.index++,s.push(l);s.length<=r;)s.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o;i++}r+1<a&&(s.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o)}return s[0].children}function r(e,t,r){return 64*((e.blocksPerLine+1)*t+r)}function i(e,t,n,i,s,a,o,u,c){function d(){if(j>0)return j--,I>>j&1;if(255==(I=e[t++])){var r=e[t++];if(r)throw"unexpected marker: "+(I<<8|r).toString(16)}return j=7,I>>>7}function f(e){for(var t,r=e;null!==(t=d());){if("number"==typeof(r=r[t]))return r;if("object"!=typeof r)throw"invalid huffman sequence"}return null}function h(e){for(var t=0;e>0;){var r=d();if(null===r)return;t=t<<1|r,e--}return t}function p(e){var t=h(e);return t>=1<<e-1?t:t+(-1<<e)+1}function m(e,t){var r=f(e.huffmanTableDC),n=0===r?0:p(r);e.blockData[t]=e.pred+=n;for(var i=1;i<64;){var s=f(e.huffmanTableAC),a=15&s,o=s>>4;if(0!==a){i+=o;var u=l[i];e.blockData[t+u]=p(a),i++}else{if(o<15)break;i+=16}}}function g(e,t){var r=f(e.huffmanTableDC),n=0===r?0:p(r)<<c;e.blockData[t]=e.pred+=n}function b(e,t){e.blockData[t]|=d()<<c}function _(e,t){if(O>0)return void O--;for(var r=a,n=o;r<=n;){var i=f(e.huffmanTableAC),s=15&i,u=i>>4;if(0!==s){r+=u;var d=l[r];e.blockData[t+d]=p(s)*(1<<c),r++}else{if(u<15){O=h(u)+(1<<u)-1;break}r+=16}}}function v(e,t){for(var r=a,n=o,i=0;r<=n;){var s=l[r];switch(C){case 0:var u=f(e.huffmanTableAC),m=15&u;if(i=u>>4,0===m)i<15?(O=h(i)+(1<<i),C=4):(i=16,C=1);else{if(1!==m)throw"invalid ACn encoding";y=p(m),C=i?2:3}continue;case 1:case 2:e.blockData[t+s]?e.blockData[t+s]+=d()<<c:0===--i&&(C=2==C?3:0);break;case 3:e.blockData[t+s]?e.blockData[t+s]+=d()<<c:(e.blockData[t+s]=y<<c,C=0);break;case 4:e.blockData[t+s]&&(e.blockData[t+s]+=d()<<c)}r++}4===C&&0===--O&&(C=0)}var y,w,x,E,S,T,k,D=(n.precision,n.samplesPerLine,n.scanLines,n.mcusPerLine),P=n.progressive,A=(n.maxH,n.maxV,t),I=0,j=0,O=0,C=0,R=i.length;k=P?0===a?0===u?g:b:0===u?_:v:m;var L,M,F=0;M=1==R?i[0].blocksPerLine*i[0].blocksPerColumn:D*n.mcusPerColumn,s||(s=M);for(var B,U;F<M;){for(x=0;x<R;x++)i[x].pred=0;if(O=0,1==R)for(w=i[0],T=0;T<s;T++)!function(e,t,n){t(e,r(e,n/e.blocksPerLine|0,n%e.blocksPerLine))}(w,k,F),F++;else for(T=0;T<s;T++){for(x=0;x<R;x++)for(w=i[x],B=w.h,U=w.v,E=0;E<U;E++)for(S=0;S<B;S++)!function(e,t,n,i,s){var a=n/D|0,o=n%D;t(e,r(e,a*e.v+i,o*e.h+s))}(w,k,F,E,S);F++}if(j=0,(L=e[t]<<8|e[t+1])<=65280)throw"marker was not found";if(!(L>=65488&&L<=65495))break;t+=2}return t-A}function s(e,t,r){var n,i,s,a,o,l,b,_,v,y,w=e.quantizationTable;for(y=0;y<64;y++)r[y]=e.blockData[t+y]*w[y];for(y=0;y<8;++y){var x=8*y;0!==r[1+x]||0!==r[2+x]||0!==r[3+x]||0!==r[4+x]||0!==r[5+x]||0!==r[6+x]||0!==r[7+x]?(n=m*r[0+x]+128>>8,i=m*r[4+x]+128>>8,s=r[2+x],a=r[6+x],o=g*(r[1+x]-r[7+x])+128>>8,_=g*(r[1+x]+r[7+x])+128>>8,l=r[3+x]<<4,b=r[5+x]<<4,v=n-i+1>>1,n=n+i+1>>1,i=v,v=s*p+a*h+128>>8,s=s*h-a*p+128>>8,a=v,v=o-b+1>>1,o=o+b+1>>1,b=v,v=_+l+1>>1,l=_-l+1>>1,_=v,v=n-a+1>>1,n=n+a+1>>1,a=v,v=i-s+1>>1,i=i+s+1>>1,s=v,v=o*f+_*d+2048>>12,o=o*d-_*f+2048>>12,_=v,v=l*c+b*u+2048>>12,l=l*u-b*c+2048>>12,b=v,r[0+x]=n+_,r[7+x]=n-_,r[1+x]=i+b,r[6+x]=i-b,r[2+x]=s+l,r[5+x]=s-l,r[3+x]=a+o,r[4+x]=a-o):(v=m*r[0+x]+512>>10,r[0+x]=v,r[1+x]=v,r[2+x]=v,r[3+x]=v,r[4+x]=v,r[5+x]=v,r[6+x]=v,r[7+x]=v)}for(y=0;y<8;++y){var E=y;0!==r[8+E]||0!==r[16+E]||0!==r[24+E]||0!==r[32+E]||0!==r[40+E]||0!==r[48+E]||0!==r[56+E]?(n=m*r[0+E]+2048>>12,i=m*r[32+E]+2048>>12,s=r[16+E],a=r[48+E],o=g*(r[8+E]-r[56+E])+2048>>12,_=g*(r[8+E]+r[56+E])+2048>>12,l=r[24+E],b=r[40+E],v=n-i+1>>1,n=n+i+1>>1,i=v,v=s*p+a*h+2048>>12,s=s*h-a*p+2048>>12,a=v,v=o-b+1>>1,o=o+b+1>>1,b=v,v=_+l+1>>1,l=_-l+1>>1,_=v,v=n-a+1>>1,n=n+a+1>>1,a=v,v=i-s+1>>1,i=i+s+1>>1,s=v,v=o*f+_*d+2048>>12,o=o*d-_*f+2048>>12,_=v,v=l*c+b*u+2048>>12,l=l*u-b*c+2048>>12,b=v,r[0+E]=n+_,r[56+E]=n-_,r[8+E]=i+b,r[48+E]=i-b,r[16+E]=s+l,r[40+E]=s-l,r[24+E]=a+o,r[32+E]=a-o):(v=m*r[y+0]+8192>>14,r[0+E]=v,r[8+E]=v,r[16+E]=v,r[24+E]=v,r[32+E]=v,r[40+E]=v,r[48+E]=v,r[56+E]=v)}for(y=0;y<64;++y){var S=t+y,T=r[y];T=T<=-2056/e.bitConversion?0:T>=2024/e.bitConversion?255/e.bitConversion:T+2056/e.bitConversion>>4,e.blockData[S]=T}}function a(e,t){for(var n=t.blocksPerLine,i=t.blocksPerColumn,a=new Int32Array(64),o=0;o<i;o++)for(var l=0;l<n;l++){var u=r(t,o,l);s(t,u,a)}return t.blockData}function o(e){return e<=0?0:e>=255?255:0|e}var l=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),u=4017,c=799,d=3406,f=2276,h=1567,p=3784,m=5793,g=2896;return e.prototype={load:function(e){var t=function(e){this.parse(e),this.onload&&this.onload()}.bind(this);if(e.indexOf("data:")>-1){for(var r=e.indexOf("base64,")+7,n=atob(e.substring(r)),i=new Uint8Array(n.length),s=n.length-1;s>=0;s--)i[s]=n.charCodeAt(s);t(n)}else{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){t(new Uint8Array(a.response))}.bind(this),a.send(null)}},parse:function(e){function r(){var t=e[u]<<8|e[u+1];return u+=2,t}var s,o,u=0,c=(e.length,null),d=null,f=[],h=[],p=[],m=r();if(65496!=m)throw"SOI not found";for(m=r();65497!=m;){var g,b,_;switch(m){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var v=function(){var t=r(),n=e.subarray(u,u+t-2);return u+=n.length,n}();65504===m&&74===v[0]&&70===v[1]&&73===v[2]&&70===v[3]&&0===v[4]&&(c={version:{major:v[5],minor:v[6]},densityUnits:v[7],xDensity:v[8]<<8|v[9],yDensity:v[10]<<8|v[11],thumbWidth:v[12],thumbHeight:v[13],thumbData:v.subarray(14,14+3*v[12]*v[13])}),65518===m&&65===v[0]&&100===v[1]&&111===v[2]&&98===v[3]&&101===v[4]&&0===v[5]&&(d={version:v[6],flags0:v[7]<<8|v[8],flags1:v[9]<<8|v[10],transformCode:v[11]});break;case 65499:for(var y=r(),w=y+u-2;u<w;){var x=e[u++],E=new Int32Array(64);if(x>>4==0)for(b=0;b<64;b++){var S=l[b];E[S]=e[u++]}else{if(x>>4!=1)throw"DQT: invalid table spec";for(b=0;b<64;b++){E[l[b]]=r()}}f[15&x]=E}break;case 65472:case 65473:case 65474:if(s)throw"Only single frame JPEGs supported";r(),s={},s.extended=65473===m,s.progressive=65474===m,s.precision=e[u++],s.scanLines=r(),s.samplesPerLine=r(),s.components=[],s.componentIds={};var T,k=e[u++],D=0,P=0;for(g=0;g<k;g++){T=e[u];var A=e[u+1]>>4,I=15&e[u+1];D<A&&(D=A),P<I&&(P=I);var j=e[u+2];_=s.components.push({h:A,v:I,quantizationTable:f[j],quantizationTableId:j,bitConversion:255/((1<<s.precision)-1)}),s.componentIds[T]=_-1,u+=3}s.maxH=D,s.maxV=P,function(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),r=Math.ceil(e.scanLines/8/e.maxV),n=0;n<e.components.length;n++){F=e.components[n];var i=Math.ceil(Math.ceil(e.samplesPerLine/8)*F.h/e.maxH),s=Math.ceil(Math.ceil(e.scanLines/8)*F.v/e.maxV),a=t*F.h,o=r*F.v,l=64*o*(a+1);F.blockData=new Int16Array(l),F.blocksPerLine=i,F.blocksPerColumn=s}e.mcusPerLine=t,e.mcusPerColumn=r}(s);break;case 65476:var O=r();for(g=2;g<O;){var C=e[u++],R=new Uint8Array(16),L=0;for(b=0;b<16;b++,u++)L+=R[b]=e[u];var M=new Uint8Array(L);for(b=0;b<L;b++,u++)M[b]=e[u];g+=17+L,(C>>4==0?p:h)[15&C]=t(R,M)}break;case 65501:r(),o=r();break;case 65498:var F,B=(r(),e[u++]),U=[];for(g=0;g<B;g++){var z=s.componentIds[e[u++]];F=s.components[z];var N=e[u++];F.huffmanTableDC=p[N>>4],F.huffmanTableAC=h[15&N],U.push(F)}var q=e[u++],Z=e[u++],H=e[u++];u+=i(e,u,s,U,o,q,Z,H>>4,15&H);break;case 65535:255!==e[u]&&u--;break;default:if(255==e[u-3]&&e[u-2]>=192&&e[u-2]<=254){u-=3;break}throw"unknown JPEG marker "+m.toString(16)}m=r()}switch(this.width=s.samplesPerLine,this.height=s.scanLines,this.jfif=c,this.adobe=d,this.components=[],s.components.length){case 1:this.colorspace=n.Grayscale;break;case 3:this.adobe?this.colorspace=n.AdobeRGB:this.colorspace=n.RGB;break;case 4:this.colorspace=n.CYMK;break;default:this.colorspace=n.Unknown}for(var g=0;g<s.components.length;g++){var F=s.components[g];F.quantizationTable||null===F.quantizationTableId||(F.quantizationTable=f[F.quantizationTableId]),this.components.push({output:a(s,F),scaleX:F.h/s.maxH,scaleY:F.v/s.maxV,blocksPerLine:F.blocksPerLine,blocksPerColumn:F.blocksPerColumn,bitConversion:F.bitConversion})}},getData16:function(e,t){if(1!==this.components.length)throw"Unsupported color mode";var n,i,s,a,o,l,u=this.width/e,c=this.height/t,d=0,f=this.components.length,h=e*t*f,p=new Uint16Array(h),m=new Uint16Array((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn*8);for(l=0;l<f;l++){n=this.components[l];for(var g,b,_=n.blocksPerLine,v=n.blocksPerColumn,y=_<<3,w=0,x=0;x<v;x++)for(var E=x<<3,S=0;S<_;S++){var T=r(n,x,S),d=0,k=S<<3;for(g=0;g<8;g++){var w=(E+g)*y;for(b=0;b<8;b++)m[w+k+b]=n.output[T+d++]}}i=n.scaleX*u,s=n.scaleY*c,d=l;var D,P,A;for(o=0;o<t;o++)for(a=0;a<e;a++)P=0|o*s,D=0|a*i,A=P*y+D,p[d]=m[A],d+=f}return p},getData:function(e,t){var n,i,s,a,l,u,c,d,f,h,p,m,g,b,_,v=this.width/e,y=this.height/t,w=0,x=this.components.length,E=e*t*x,S=new Uint8Array(E),T=new Uint8Array((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn*8);for(u=0;u<x;u++){n=this.components[u];for(var k,D,P=n.blocksPerLine,A=n.blocksPerColumn,I=P<<3,j=0,O=0;O<A;O++)for(var C=O<<3,R=0;R<P;R++){var L=r(n,O,R),w=0,M=R<<3;for(k=0;k<8;k++){var j=(C+k)*I;for(D=0;D<8;D++)T[j+M+D]=n.output[L+w++]*n.bitConversion}}i=n.scaleX*v,s=n.scaleY*y,w=u;var F,B,U;for(l=0;l<t;l++)for(a=0;a<e;a++)B=0|l*s,F=0|a*i,U=B*I+F,S[w]=T[U],w+=x}switch(x){case 1:case 2:break;case 3:if(_=!0,this.adobe&&this.adobe.transformCode?_=!0:void 0!==this.colorTransform&&(_=!!this.colorTransform),_)for(u=0;u<E;u+=x)c=S[u],d=S[u+1],f=S[u+2],m=o(c-179.456+1.402*f),g=o(c+135.459-.344*d-.714*f),b=o(c-226.816+1.772*d),S[u]=m,S[u+1]=g,S[u+2]=b;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";if(_=!1,this.adobe&&this.adobe.transformCode?_=!0:void 0!==this.colorTransform&&(_=!!this.colorTransform),_)for(u=0;u<E;u+=x)c=S[u],d=S[u+1],f=S[u+2],h=o(434.456-c-1.402*f),p=o(119.541-c+.344*d+.714*f),c=o(481.816-c-1.772*d),S[u]=h,S[u+1]=p,S[u+2]=c;break;default:throw"Unsupported color mode"}return S}},e}();e("lib/jpeg/jpeg",function(){}),function(t){if("object"==typeof exports&&void 0!==r)r.exports=t();else if("function"==typeof e&&e.amd)e("jpegLossless/release/current/lossless",[],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.jpeg=t()}}(function(){return function(){function e(r,n,i){function s(o,l){if(!n[o]){if(!r[o]){var u="function"==typeof t&&t;if(!l&&u)return u(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};r[o][0].call(d.exports,function(e){var t=r[o][1][e];return s(t?t:e)},d,d.exports,e,r,n,i)}return n[o].exports}for(var a="function"==typeof t&&t,o=0;o<i.length;o++)s(i[o]);return s}return e}()({1:[function(e,t,r){var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||function(){this.hSamp=0,this.quantTableSel=0,this.vSamp=0},void 0!==t&&t.exports&&(t.exports=n.lossless.ComponentSpec)},{}],2:[function(e,t,r){var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||function(e,t,r){this.buffer=void 0===t&&void 0===r?new Uint8Array(e):new Uint8Array(e,t,r),this.index=0},n.lossless.DataStream.prototype.get16=function(){var e=(this.buffer[this.index]<<8)+this.buffer[this.index+1];return this.index+=2,e},n.lossless.DataStream.prototype.get8=function(){var e=this.buffer[this.index];return this.index+=1,e},void 0!==t&&t.exports&&(t.exports=n.lossless.DataStream)},{}],3:[function(e,t,r){var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),n.lossless.HuffmanTable=n.lossless.HuffmanTable||(void 0!==e?e("./huffman-table.js"):null),n.lossless.QuantizationTable=n.lossless.QuantizationTable||(void 0!==e?e("./quantization-table.js"):null),n.lossless.ScanHeader=n.lossless.ScanHeader||(void 0!==e?e("./scan-header.js"):null),n.lossless.FrameHeader=n.lossless.FrameHeader||(void 0!==e?e("./frame-header.js"):null),n.lossless.Utils=n.lossless.Utils||(void 0!==e?e("./utils.js"):null),n.lossless.Decoder=n.lossless.Decoder||function(e,t){this.buffer=e,this.frame=new n.lossless.FrameHeader,this.huffTable=new n.lossless.HuffmanTable,this.quantTable=new n.lossless.QuantizationTable,this.scan=new n.lossless.ScanHeader,this.DU=n.lossless.Utils.createArray(10,4,64),this.HuffTab=n.lossless.Utils.createArray(4,2,12800),this.IDCT_Source=[],this.nBlock=[],this.acTab=n.lossless.Utils.createArray(10,1),this.dcTab=n.lossless.Utils.createArray(10,1),this.qTab=n.lossless.Utils.createArray(10,1),this.marker=0,this.markerIndex=0,this.numComp=0,this.restartInterval=0,this.selection=0,this.xDim=0,this.yDim=0,this.xLoc=0,this.yLoc=0,this.numBytes=0,this.outputData=null,this.restarting=!1,this.mask=0,void 0!==t&&(this.numBytes=t)},n.lossless.Decoder.IDCT_P=[0,5,40,16,45,2,7,42,21,56,8,61,18,47,1,4,41,23,58,13,32,24,37,10,63,17,44,3,6,43,20,57,15,34,29,48,53,26,39,9,60,19,46,22,59,12,33,31,50,55,25,36,11,62,14,35,28,49,52,27,38,30,51,54],n.lossless.Decoder.TABLE=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],n.lossless.Decoder.MAX_HUFFMAN_SUBTREE=50,n.lossless.Decoder.MSB=2147483648,n.lossless.Decoder.RESTART_MARKER_BEGIN=65488,n.lossless.Decoder.RESTART_MARKER_END=65495,n.lossless.Decoder.prototype.decompress=function(e,t,r){return this.decode(e,t,r).buffer},n.lossless.Decoder.prototype.decode=function(e,t,r,i){var s,a,o,l,u=0,c=[],d=[],f=[];if(void 0!==e&&(this.buffer=e),void 0!==i&&(this.numBytes=i),this.stream=new n.lossless.DataStream(this.buffer,t,r),this.buffer=null,this.xLoc=0,this.yLoc=0,65496!==(s=this.stream.get16()))throw new Error("Not a JPEG file");for(s=this.stream.get16();s>>4!=4092||65476===s;){switch(s){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,n.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(s>>8!=255)throw new Error("ERROR: format throw new IOException! (decode)")}s=this.stream.get16()}if(s<65472||s>65479)throw new Error("ERROR: could not handle arithmetic code!");this.frame.read(this.stream),s=this.stream.get16();do{for(;65498!==s;){switch(s){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,n.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(s>>8!=255)throw new Error("ERROR: format throw new IOException! (Parser.decode)")}s=this.stream.get16()}switch(this.precision=this.frame.precision,this.components=this.frame.components,this.numBytes||(this.numBytes=parseInt(Math.ceil(this.precision/8))),1==this.numBytes?this.mask=255:this.mask=65535,this.scan.read(this.stream),this.numComp=this.scan.numComp,this.selection=this.scan.selection,1===this.numBytes?3===this.numComp?(this.getter=this.getValueRGB,this.setter=this.setValueRGB,this.output=this.outputRGB):(this.getter=this.getValue8,this.setter=this.setValue8,this.output=this.outputSingle):(this.getter=this.getValue16,this.setter=this.setValue16,this.output=this.outputSingle),this.selection){case 2:this.selector=this.select2;break;case 3:this.selector=this.select3;break;case 4:this.selector=this.select4;break;case 5:this.selector=this.select5;break;case 6:this.selector=this.select6;break;case 7:this.selector=this.select7;break;default:this.selector=this.select1}for(this.scanComps=this.scan.components,this.quantTables=this.quantTable.quantTables,a=0;a<this.numComp;a+=1)o=this.scanComps[a].scanCompSel,this.qTab[a]=this.quantTables[this.components[o].quantTableSel],this.nBlock[a]=this.components[o].vSamp*this.components[o].hSamp,this.dcTab[a]=this.HuffTab[this.scanComps[a].dcTabSel][0],this.acTab[a]=this.HuffTab[this.scanComps[a].acTabSel][1];for(this.xDim=this.frame.dimX,this.yDim=this.frame.dimY,1==this.numBytes?this.outputData=new Uint8Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)):this.outputData=new Uint16Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)),u+=1;;){for(d[0]=0,f[0]=0,a=0;a<10;a+=1)c[a]=1<<this.precision-1;if(0===this.restartInterval){for(s=this.decodeUnit(c,d,f);0===s&&this.xLoc<this.xDim&&this.yLoc<this.yDim;)this.output(c),s=this.decodeUnit(c,d,f);break}for(l=0;l<this.restartInterval&&(this.restarting=0==l,s=this.decodeUnit(c,d,f),this.output(c),0===s);l+=1);if(0===s&&(0!==this.markerIndex?(s=65280|this.marker,this.markerIndex=0):s=this.stream.get16()),!(s>=n.lossless.Decoder.RESTART_MARKER_BEGIN&&s<=n.lossless.Decoder.RESTART_MARKER_END))break}65500===s&&1===u&&(this.readNumber(),s=this.stream.get16())}while(65497!==s&&this.xLoc<this.xDim&&this.yLoc<this.yDim&&0===u)return this.outputData},n.lossless.Decoder.prototype.decodeUnit=function(e,t,r){return 1==this.numComp?this.decodeSingle(e,t,r):3==this.numComp?this.decodeRGB(e,t,r):-1},n.lossless.Decoder.prototype.select1=function(e){return this.getPreviousX(e)},n.lossless.Decoder.prototype.select2=function(e){return this.getPreviousY(e)},n.lossless.Decoder.prototype.select3=function(e){return this.getPreviousXY(e)},n.lossless.Decoder.prototype.select4=function(e){return this.getPreviousX(e)+this.getPreviousY(e)-this.getPreviousXY(e)},n.lossless.Decoder.prototype.select5=function(e){return this.getPreviousX(e)+(this.getPreviousY(e)-this.getPreviousXY(e)>>1)},n.lossless.Decoder.prototype.select6=function(e){return this.getPreviousY(e)+(this.getPreviousX(e)-this.getPreviousXY(e)>>1)},n.lossless.Decoder.prototype.select7=function(e){return(this.getPreviousX(e)+this.getPreviousY(e))/2},n.lossless.Decoder.prototype.decodeRGB=function(e,t,r){var i,s,a,o,l,u,c,d;for(e[0]=this.selector(0),e[1]=this.selector(1),e[2]=this.selector(2),l=0;l<this.numComp;l+=1)for(o=this.qTab[l],s=this.acTab[l],a=this.dcTab[l],u=0;u<this.nBlock[l];u+=1){for(c=0;c<this.IDCT_Source.length;c+=1)this.IDCT_Source[c]=0;if((i=this.getHuffmanValue(a,t,r))>=65280)return i;for(e[l]=this.IDCT_Source[0]=e[l]+this.getn(r,i,t,r),this.IDCT_Source[0]*=o[0],d=1;d<64;d+=1){if((i=this.getHuffmanValue(s,t,r))>=65280)return i;if(d+=i>>4,0==(15&i)){if(i>>4==0)break}else this.IDCT_Source[n.lossless.Decoder.IDCT_P[d]]=this.getn(r,15&i,t,r)*o[d]}}return 0},n.lossless.Decoder.prototype.decodeSingle=function(e,t,r){var i,s,a,o;for(this.restarting?(this.restarting=!1,e[0]=1<<this.frame.precision-1):e[0]=this.selector(),s=0;s<this.nBlock[0];s+=1){if((i=this.getHuffmanValue(this.dcTab[0],t,r))>=65280)return i;if(a=this.getn(e,i,t,r),(o=a>>8)>=n.lossless.Decoder.RESTART_MARKER_BEGIN&&o<=n.lossless.Decoder.RESTART_MARKER_END)return o;e[0]+=a}return 0},n.lossless.Decoder.prototype.getHuffmanValue=function(e,t,r){var i,s,a;if(a=65535,r[0]<8?(t[0]<<=8,s=this.stream.get8(),255===s&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=s):r[0]-=8,0!=((i=e[t[0]>>r[0]])&n.lossless.Decoder.MSB)){if(0!==this.markerIndex)return this.markerIndex=0,65280|this.marker;t[0]&=a>>16-r[0],t[0]<<=8,s=this.stream.get8(),255===s&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=s,i=e[256*(255&i)+(t[0]>>r[0])],r[0]+=8}if(r[0]+=8-(i>>8),r[0]<0)throw new Error("index="+r[0]+" temp="+t[0]+" code="+i+" in HuffmanValue()");return r[0]<this.markerIndex?(this.markerIndex=0,65280|this.marker):(t[0]&=a>>16-r[0],255&i)},n.lossless.Decoder.prototype.getn=function(e,t,r,n){var i,s,a,o,l;if(s=1,a=-1,o=65535,0===t)return 0;if(16===t)return e[0]>=0?-32768:32768;if(n[0]-=t,n[0]>=0){if(n[0]<this.markerIndex&&!this.isLastPixel())return this.markerIndex=0,(65280|this.marker)<<8;i=r[0]>>n[0],r[0]&=o>>16-n[0]}else{if(r[0]<<=8,l=this.stream.get8(),255===l&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),r[0]|=l,n[0]+=8,n[0]<0){if(0!==this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;r[0]<<=8,l=this.stream.get8(),255===l&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),r[0]|=l,n[0]+=8}if(n[0]<0)throw new Error("index="+n[0]+" in getn()");if(n[0]<this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;i=r[0]>>n[0],r[0]&=o>>16-n[0]}return i<s<<t-1&&(i+=1+(a<<t)),i},n.lossless.Decoder.prototype.getPreviousX=function(e){return this.xLoc>0?this.getter(this.yLoc*this.xDim+this.xLoc-1,e):this.yLoc>0?this.getPreviousY(e):1<<this.frame.precision-1},n.lossless.Decoder.prototype.getPreviousXY=function(e){return this.xLoc>0&&this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc-1,e):this.getPreviousY(e)},n.lossless.Decoder.prototype.getPreviousY=function(e){return this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc,e):this.getPreviousX(e)},n.lossless.Decoder.prototype.isLastPixel=function(){return this.xLoc===this.xDim-1&&this.yLoc===this.yDim-1},n.lossless.Decoder.prototype.outputSingle=function(e){this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(this.yLoc*this.xDim+this.xLoc,this.mask&e[0]),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},n.lossless.Decoder.prototype.outputRGB=function(e){var t=this.yLoc*this.xDim+this.xLoc;this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(t,e[0],0),this.setter(t,e[1],1),this.setter(t,e[2],2),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},n.lossless.Decoder.prototype.setValue8=function(e,t){this.outputData[e]=t},n.lossless.Decoder.prototype.getValue8=function(e){return this.outputData[e]},function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()?(n.lossless.Decoder.prototype.setValue16=n.lossless.Decoder.prototype.setValue8,n.lossless.Decoder.prototype.getValue16=n.lossless.Decoder.prototype.getValue8):(n.lossless.Decoder.prototype.setValue16=function(e,t){this.outputData[e]=(255&t)<<8|t>>8&255},n.lossless.Decoder.prototype.getValue16=function(e){var t=this.outputData[e];return(255&t)<<8|t>>8&255}),n.lossless.Decoder.prototype.setValueRGB=function(e,t,r){this.outputData[3*e+r]=t},n.lossless.Decoder.prototype.getValueRGB=function(e,t){return this.outputData[3*e+t]},n.lossless.Decoder.prototype.readApp=function(){var e=0,t=this.stream.get16();for(e+=2;e<t;)this.stream.get8(),e+=1;return t},n.lossless.Decoder.prototype.readComment=function(){var e,t="",r=0;for(e=this.stream.get16(),r+=2;r<e;)t+=this.stream.get8(),r+=1;return t},n.lossless.Decoder.prototype.readNumber=function(){if(4!==this.stream.get16())throw new Error("ERROR: Define number format throw new IOException [Ld!=4]");return this.stream.get16()},void 0!==t&&t.exports&&(t.exports=n.lossless.Decoder)},{"./data-stream.js":2,"./frame-header.js":4,"./huffman-table.js":5,"./quantization-table.js":7,"./scan-header.js":9,"./utils.js":10}],4:[function(e,t,r){var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||(void 0!==e?e("./component-spec.js"):null),n.lossless.DataStream=n.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),n.lossless.FrameHeader=n.lossless.FrameHeader||function(){this.components=[],this.dimX=0,this.dimY=0,this.numComp=0,this.precision=0},n.lossless.FrameHeader.prototype.read=function(e){var t,r,i,s,a=0;for(t=e.get16(),a+=2,this.precision=e.get8(),a+=1,this.dimY=e.get16(),a+=2,this.dimX=e.get16(),a+=2,this.numComp=e.get8(),a+=1,r=1;r<=this.numComp;r+=1){if(a>t)throw new Error("ERROR: frame format error");if(i=e.get8(),(a+=1)>=t)throw new Error("ERROR: frame format error [c>=Lf]");s=e.get8(),a+=1,this.components[i]||(this.components[i]=new n.lossless.ComponentSpec),this.components[i].hSamp=s>>4,this.components[i].vSamp=15&s,this.components[i].quantTableSel=e.get8(),a+=1}if(a!==t)throw new Error("ERROR: frame format error [Lf!=count]");return 1},void 0!==t&&t.exports&&(t.exports=n.lossless.FrameHeader)},{"./component-spec.js":1,"./data-stream.js":2}],5:[function(e,t,r){var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),n.lossless.Utils=n.lossless.Utils||(void 0!==e?e("./utils.js"):null),n.lossless.HuffmanTable=n.lossless.HuffmanTable||function(){this.l=n.lossless.Utils.createArray(4,2,16),this.th=[],this.v=n.lossless.Utils.createArray(4,2,16,200),this.tc=n.lossless.Utils.createArray(4,2),this.tc[0][0]=0,this.tc[1][0]=0,this.tc[2][0]=0,this.tc[3][0]=0,this.tc[0][1]=0,this.tc[1][1]=0,this.tc[2][1]=0,this.tc[3][1]=0,this.th[0]=0,this.th[1]=0,this.th[2]=0,this.th[3]=0},n.lossless.HuffmanTable.MSB=2147483648,n.lossless.HuffmanTable.prototype.read=function(e,t){var r,n,i,s,a,o,l=0;for(r=e.get16(),l+=2;l<r;){if(n=e.get8(),l+=1,(i=15&n)>3)throw new Error("ERROR: Huffman table ID > 3");if((s=n>>4)>2)throw new Error("ERROR: Huffman table [Table class > 2 ]");for(this.th[i]=1,this.tc[i][s]=1,a=0;a<16;a+=1)this.l[i][s][a]=e.get8(),l+=1;for(a=0;a<16;a+=1)for(o=0;o<this.l[i][s][a];o+=1){if(l>r)throw new Error("ERROR: Huffman table format error [count>Lh]");this.v[i][s][a][o]=e.get8(),l+=1}}if(l!==r)throw new Error("ERROR: Huffman table format error [count!=Lf]");for(a=0;a<4;a+=1)for(o=0;o<2;o+=1)0!==this.tc[a][o]&&this.buildHuffTable(t[a][o],this.l[a][o],this.v[a][o]);return 1},n.lossless.HuffmanTable.prototype.buildHuffTable=function(e,t,r){var i,s,a,o,l,u;for(s=256,a=0,o=0;o<8;o+=1)for(l=0;l<t[o];l+=1)for(u=0;u<s>>o+1;u+=1)e[a]=r[o][l]|o+1<<8,a+=1;for(o=1;a<256;o+=1,a+=1)e[a]=o|n.lossless.HuffmanTable.MSB;for(i=1,a=0,o=8;o<16;o+=1)for(l=0;l<t[o];l+=1){for(u=0;u<s>>o-7;u+=1)e[256*i+a]=r[o][l]|o+1<<8,a+=1;if(a>=256){if(a>256)throw new Error("ERROR: Huffman table error(1)!");a=0,i+=1}}},void 0!==t&&t.exports&&(t.exports=n.lossless.HuffmanTable)},{"./data-stream.js":2,"./utils.js":10}],6:[function(e,t,r){var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||(void 0!==e?e("./component-spec.js"):null),n.lossless.DataStream=n.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),n.lossless.Decoder=n.lossless.Decoder||(void 0!==e?e("./decoder.js"):null),n.lossless.FrameHeader=n.lossless.FrameHeader||(void 0!==e?e("./frame-header.js"):null),n.lossless.HuffmanTable=n.lossless.HuffmanTable||(void 0!==e?e("./huffman-table.js"):null),n.lossless.QuantizationTable=n.lossless.QuantizationTable||(void 0!==e?e("./quantization-table.js"):null),n.lossless.ScanComponent=n.lossless.ScanComponent||(void 0!==e?e("./scan-component.js"):null),n.lossless.ScanHeader=n.lossless.ScanHeader||(void 0!==e?e("./scan-header.js"):null),n.lossless.Utils=n.lossless.Utils||(void 0!==e?e("./utils.js"):null),void 0!==t&&t.exports&&(t.exports=n)},{"./component-spec.js":1,"./data-stream.js":2,"./decoder.js":3,"./frame-header.js":4,"./huffman-table.js":5,"./quantization-table.js":7,"./scan-component.js":8,"./scan-header.js":9,"./utils.js":10}],7:[function(e,t,r){var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),n.lossless.Utils=n.lossless.Utils||(void 0!==e?e("./utils.js"):null),n.lossless.QuantizationTable=n.lossless.QuantizationTable||function(){this.precision=[],this.tq=[],this.quantTables=n.lossless.Utils.createArray(4,64),this.tq[0]=0,this.tq[1]=0,this.tq[2]=0,this.tq[3]=0},n.lossless.QuantizationTable.enhanceQuantizationTable=function(e,t){var r;for(r=0;r<8;r+=1)e[t[0+r]]*=90,e[t[32+r]]*=90,e[t[16+r]]*=118,e[t[48+r]]*=49,e[t[40+r]]*=71,e[t[8+r]]*=126,e[t[56+r]]*=25,e[t[24+r]]*=106;for(r=0;r<8;r+=1)e[t[0+8*r]]*=90,e[t[4+8*r]]*=90,e[t[2+8*r]]*=118,e[t[6+8*r]]*=49,e[t[5+8*r]]*=71,e[t[1+8*r]]*=126,e[t[7+8*r]]*=25,e[t[3+8*r]]*=106;for(r=0;r<64;r+=1)e[r]>>=6},n.lossless.QuantizationTable.prototype.read=function(e,t){var r,i,s,a,o=0;for(r=e.get16(),o+=2;o<r;){if(i=e.get8(),o+=1,(s=15&i)>3)throw new Error("ERROR: Quantization table ID > 3");if(this.precision[s]=i>>4,0===this.precision[s])this.precision[s]=8;else{if(1!==this.precision[s])throw new Error("ERROR: Quantization table precision error");this.precision[s]=16}if(this.tq[s]=1,8===this.precision[s]){for(a=0;a<64;a+=1){if(o>r)throw new Error("ERROR: Quantization table format error");this.quantTables[s][a]=e.get8(),o+=1}n.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[s],t)}else{for(a=0;a<64;a+=1){if(o>r)throw new Error("ERROR: Quantization table format error");this.quantTables[s][a]=e.get16(),o+=2}n.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[s],t)}}if(o!==r)throw new Error("ERROR: Quantization table error [count!=Lq]");return 1},void 0!==t&&t.exports&&(t.exports=n.lossless.QuantizationTable)},{"./data-stream.js":2,"./utils.js":10}],8:[function(e,t,r){var n=n||{};n.lossless=n.lossless||{},n.lossless.ScanComponent=n.lossless.ScanComponent||function(){this.acTabSel=0,this.dcTabSel=0,this.scanCompSel=0},void 0!==t&&t.exports&&(t.exports=n.lossless.ScanComponent)},{}],9:[function(e,t,r){var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),n.lossless.ScanComponent=n.lossless.ScanComponent||(void 0!==e?e("./scan-component.js"):null),n.lossless.ScanHeader=n.lossless.ScanHeader||function(){this.ah=0,this.al=0,this.numComp=0,this.selection=0,this.spectralEnd=0,this.components=[]},n.lossless.ScanHeader.prototype.read=function(e){var t,r,i,s=0;for(t=e.get16(),s+=2,this.numComp=e.get8(),s+=1,r=0;r<this.numComp;r+=1){if(this.components[r]=new n.lossless.ScanComponent,s>t)throw new Error("ERROR: scan header format error");this.components[r].scanCompSel=e.get8(),s+=1,i=e.get8(),s+=1,this.components[r].dcTabSel=i>>4,this.components[r].acTabSel=15&i}if(this.selection=e.get8(),s+=1,this.spectralEnd=e.get8(),s+=1,i=e.get8(),this.ah=i>>4,this.al=15&i,(s+=1)!==t)throw new Error("ERROR: scan header format error [count!=Ns]");return 1},void 0!==t&&t.exports&&(t.exports=n.lossless.ScanHeader)},{"./data-stream.js":2,"./scan-component.js":8}],10:[function(e,t,r){var n=n||{};n.lossless=n.lossless||{},n.lossless.Utils=n.lossless.Utils||{},n.lossless.Utils.createArray=function(e){var t=new Array(e||0),r=e;if(arguments.length>1)for(var i=Array.prototype.slice.call(arguments,1);r--;)t[e-1-r]=n.lossless.Utils.createArray.apply(this,i);return t},n.lossless.Utils.makeCRCTable=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t},n.lossless.Utils.crc32=function(e){for(var t=new Uint8Array(e.buffer),r=n.lossless.Utils.crcTable||(n.lossless.Utils.crcTable=n.lossless.Utils.makeCRCTable()),i=-1,s=0;s<t.length;s++)i=i>>>8^r[255&(i^t[s])];return(i^-1)>>>0},void 0!==t&&t.exports&&(t.exports=n.lossless.Utils)},{}]},{},[6])(6)}),e("jpegLossless",["jpegLossless/release/current/lossless"],function(e){return e});var s=function(){"use strict";function e(e){for(var t=1,r=0;e>t;)t<<=1,r++;return r}function t(e){T.verbosity>=T.VERBOSITY_LEVELS.infos&&console.log("Info: "+e)}function r(e){T.verbosity>=T.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+e)}function n(e,t){return e[t]<<8|e[t+1]}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function s(){this.failOnCorruptedImage=!0}function a(e,t){e.x0=Math.ceil(t.XOsiz/e.XRsiz),e.x1=Math.ceil(t.Xsiz/e.XRsiz),e.y0=Math.ceil(t.YOsiz/e.YRsiz),e.y1=Math.ceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,
e.height=e.y1-e.y0}function o(e,t){for(var r,n=e.SIZ,i=[],s=Math.ceil((n.Xsiz-n.XTOsiz)/n.XTsiz),a=Math.ceil((n.Ysiz-n.YTOsiz)/n.YTsiz),o=0;o<a;o++)for(var l=0;l<s;l++)r={},r.tx0=Math.max(n.XTOsiz+l*n.XTsiz,n.XOsiz),r.ty0=Math.max(n.YTOsiz+o*n.YTsiz,n.YOsiz),r.tx1=Math.min(n.XTOsiz+(l+1)*n.XTsiz,n.Xsiz),r.ty1=Math.min(n.YTOsiz+(o+1)*n.YTsiz,n.Ysiz),r.width=r.tx1-r.tx0,r.height=r.ty1-r.ty0,r.components=[],i.push(r);e.tiles=i;for(var u=n.Csiz,c=0,d=u;c<d;c++)for(var f=t[c],h=0,p=i.length;h<p;h++){var m={};r=i[h],m.tcx0=Math.ceil(r.tx0/f.XRsiz),m.tcy0=Math.ceil(r.ty0/f.YRsiz),m.tcx1=Math.ceil(r.tx1/f.XRsiz),m.tcy1=Math.ceil(r.ty1/f.YRsiz),m.width=m.tcx1-m.tcx0,m.height=m.tcy1-m.tcy0,r.components[c]=m}}function l(e,t,r){var n=t.codingStyleParameters,i={};return n.entropyCoderWithCustomPrecincts?(i.PPx=n.precinctsSizes[r].PPx,i.PPy=n.precinctsSizes[r].PPy):(i.PPx=15,i.PPy=15),i.xcb_=r>0?Math.min(n.xcb,i.PPx-1):Math.min(n.xcb,i.PPx),i.ycb_=r>0?Math.min(n.ycb,i.PPy-1):Math.min(n.ycb,i.PPy),i}function u(e,t,r){var n=1<<r.PPx,i=1<<r.PPy,s=0===t.resLevel,a=1<<r.PPx+(s?0:-1),o=1<<r.PPy+(s?0:-1),l=t.trx1>t.trx0?Math.ceil(t.trx1/n)-Math.floor(t.trx0/n):0,u=t.try1>t.try0?Math.ceil(t.try1/i)-Math.floor(t.try0/i):0,c=l*u;t.precinctParameters={precinctWidth:n,precinctHeight:i,numprecinctswide:l,numprecinctshigh:u,numprecincts:c,precinctWidthInSubband:a,precinctHeightInSubband:o}}function c(e,t,r){var n,i,s,a,o=r.xcb_,l=r.ycb_,u=1<<o,c=1<<l,d=t.tbx0>>o,f=t.tby0>>l,h=t.tbx1+u-1>>o,p=t.tby1+c-1>>l,m=t.resolution.precinctParameters,g=[],b=[];for(i=f;i<p;i++)for(n=d;n<h;n++){s={cbx:n,cby:i,tbx0:u*n,tby0:c*i,tbx1:u*(n+1),tby1:c*(i+1)},s.tbx0_=Math.max(t.tbx0,s.tbx0),s.tby0_=Math.max(t.tby0,s.tby0),s.tbx1_=Math.min(t.tbx1,s.tbx1),s.tby1_=Math.min(t.tby1,s.tby1);var _=Math.floor((s.tbx0_-t.tbx0)/m.precinctWidthInSubband),v=Math.floor((s.tby0_-t.tby0)/m.precinctHeightInSubband);if(a=_+v*m.numprecinctswide,s.precinctNumber=a,s.subbandType=t.type,s.Lblock=3,!(s.tbx1_<=s.tbx0_||s.tby1_<=s.tby0_)){g.push(s);var y=b[a];void 0!==y?(n<y.cbxMin?y.cbxMin=n:n>y.cbxMax&&(y.cbxMax=n),i<y.cbyMin?y.cbxMin=i:i>y.cbyMax&&(y.cbyMax=i)):b[a]=y={cbxMin:n,cbyMin:i,cbxMax:n,cbyMax:i},s.precinct=y}}t.codeblockParameters={codeblockWidth:o,codeblockHeight:l,numcodeblockwide:h-d+1,numcodeblockhigh:p-f+1},t.codeblocks=g,t.precincts=b}function d(e,t,r){for(var n=[],i=e.subbands,s=0,a=i.length;s<a;s++)for(var o=i[s],l=o.codeblocks,u=0,c=l.length;u<c;u++){var d=l[u];d.precinctNumber===t&&n.push(d)}return{layerNumber:r,codeblocks:n}}function f(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],i=n.codingStyleDefaultParameters.layersCount,s=t.Csiz,a=0,o=0;o<s;o++)a=Math.max(a,n.components[o].codingStyleParameters.decompositionLevelsCount);var l=0,u=0,c=0,f=0;this.nextPacket=function(){for(;l<i;l++){for(;u<=a;u++){for(;c<s;c++){var e=n.components[c];if(!(u>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[u],r=t.precinctParameters.numprecincts;f<r;){var o=d(t,f,l);return f++,o}f=0}}c=0}u=0}}}function h(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],i=n.codingStyleDefaultParameters.layersCount,s=t.Csiz,a=0,o=0;o<s;o++)a=Math.max(a,n.components[o].codingStyleParameters.decompositionLevelsCount);var l=0,u=0,c=0,f=0;this.nextPacket=function(){for(;l<=a;l++){for(;u<i;u++){for(;c<s;c++){var e=n.components[c];if(!(l>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[l],r=t.precinctParameters.numprecincts;f<r;){var o=d(t,f,u);return f++,o}f=0}}c=0}u=0}}}function p(e){var t,r,n,i,s=e.SIZ,a=e.currentTile.index,o=e.tiles[a],l=o.codingStyleDefaultParameters.layersCount,u=s.Csiz,c=0;for(n=0;n<u;n++){var f=o.components[n];c=Math.max(c,f.codingStyleParameters.decompositionLevelsCount)}var h=new Int32Array(c+1);for(r=0;r<=c;++r){var p=0;for(n=0;n<u;++n){var m=o.components[n].resolutions;r<m.length&&(p=Math.max(p,m[r].precinctParameters.numprecincts))}h[r]=p}t=0,r=0,n=0,i=0,this.nextPacket=function(){for(;r<=c;r++){for(;i<h[r];i++){for(;n<u;n++){var e=o.components[n];if(!(r>e.codingStyleParameters.decompositionLevelsCount)){var s=e.resolutions[r];if(!(i>=s.precinctParameters.numprecincts)){for(;t<l;){var a=d(s,i,t);return t++,a}t=0}}}n=0}i=0}}}function m(e){var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],i=n.codingStyleDefaultParameters.layersCount,s=t.Csiz,a=_(n),o=a,l=0,u=0,c=0,f=0,h=0;this.nextPacket=function(){for(;h<o.maxNumHigh;h++){for(;f<o.maxNumWide;f++){for(;c<s;c++){for(var e=n.components[c],t=e.codingStyleParameters.decompositionLevelsCount;u<=t;u++){var r=e.resolutions[u],p=a.components[c].resolutions[u],m=b(f,h,p,o,r);if(null!==m){for(;l<i;){var g=d(r,m,l);return l++,g}l=0}}u=0}c=0}f=0}}}function g(e){var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],i=n.codingStyleDefaultParameters.layersCount,s=t.Csiz,a=_(n),o=0,l=0,u=0,c=0,f=0;this.nextPacket=function(){for(;u<s;++u){for(var e=n.components[u],t=a.components[u],r=e.codingStyleParameters.decompositionLevelsCount;f<t.maxNumHigh;f++){for(;c<t.maxNumWide;c++){for(;l<=r;l++){var h=e.resolutions[l],p=t.resolutions[l],m=b(c,f,p,t,h);if(null!==m){for(;o<i;){var g=d(h,m,o);return o++,g}o=0}}l=0}c=0}f=0}}}function b(e,t,r,n,i){var s=e*n.minWidth,a=t*n.minHeight;if(s%r.width!=0||a%r.height!=0)return null;var o=a/r.width*i.precinctParameters.numprecinctswide;return s/r.height+o}function _(e){for(var t=e.components.length,r=Number.MAX_VALUE,n=Number.MAX_VALUE,i=0,s=0,a=new Array(t),o=0;o<t;o++){for(var l=e.components[o],u=l.codingStyleParameters.decompositionLevelsCount,c=new Array(u+1),d=Number.MAX_VALUE,f=Number.MAX_VALUE,h=0,p=0,m=1,g=u;g>=0;--g){var b=l.resolutions[g],_=m*b.precinctParameters.precinctWidth,v=m*b.precinctParameters.precinctHeight;d=Math.min(d,_),f=Math.min(f,v),h=Math.max(h,b.precinctParameters.numprecinctswide),p=Math.max(p,b.precinctParameters.numprecinctshigh),c[g]={width:_,height:v},m<<=1}r=Math.min(r,d),n=Math.min(n,f),i=Math.max(i,h),s=Math.max(s,p),a[o]={resolutions:c,minWidth:d,minHeight:f,maxNumWide:h,maxNumHigh:p}}return{components:a,minWidth:r,minHeight:n,maxNumWide:i,maxNumHigh:s}}function v(e){for(var t=e.SIZ,r=e.currentTile.index,n=e.tiles[r],i=t.Csiz,s=0;s<i;s++){for(var a=n.components[s],o=a.codingStyleParameters.decompositionLevelsCount,d=[],b=[],_=0;_<=o;_++){var v=l(e,a,_),y={},w=1<<o-_;y.trx0=Math.ceil(a.tcx0/w),y.try0=Math.ceil(a.tcy0/w),y.trx1=Math.ceil(a.tcx1/w),y.try1=Math.ceil(a.tcy1/w),y.resLevel=_,u(e,y,v),d.push(y);var x;if(0===_)x={},x.type="LL",x.tbx0=Math.ceil(a.tcx0/w),x.tby0=Math.ceil(a.tcy0/w),x.tbx1=Math.ceil(a.tcx1/w),x.tby1=Math.ceil(a.tcy1/w),x.resolution=y,c(e,x,v),b.push(x),y.subbands=[x];else{var E=1<<o-_+1,S=[];x={},x.type="HL",x.tbx0=Math.ceil(a.tcx0/E-.5),x.tby0=Math.ceil(a.tcy0/E),x.tbx1=Math.ceil(a.tcx1/E-.5),x.tby1=Math.ceil(a.tcy1/E),x.resolution=y,c(e,x,v),b.push(x),S.push(x),x={},x.type="LH",x.tbx0=Math.ceil(a.tcx0/E),x.tby0=Math.ceil(a.tcy0/E-.5),x.tbx1=Math.ceil(a.tcx1/E),x.tby1=Math.ceil(a.tcy1/E-.5),x.resolution=y,c(e,x,v),b.push(x),S.push(x),x={},x.type="HH",x.tbx0=Math.ceil(a.tcx0/E-.5),x.tby0=Math.ceil(a.tcy0/E-.5),x.tbx1=Math.ceil(a.tcx1/E-.5),x.tby1=Math.ceil(a.tcy1/E-.5),x.resolution=y,c(e,x,v),b.push(x),S.push(x),y.subbands=S}}a.resolutions=d,a.subbands=b}var T=n.codingStyleDefaultParameters.progressionOrder;switch(T){case 0:n.packetsIterator=new f(e);break;case 1:n.packetsIterator=new h(e);break;case 2:n.packetsIterator=new p(e);break;case 3:n.packetsIterator=new m(e);break;case 4:n.packetsIterator=new g(e);break;default:throw new Error("JPX Error: Unsupported progression order "+T)}}function y(t,r,n,i){function s(e){for(;d<e;){var t=r[n+c];c++,f?(u=u<<7|t,d+=7,f=!1):(u=u<<8|t,d+=8),255===t&&(f=!0)}return d-=e,u>>>d&(1<<e)-1}function a(e){return 255===r[n+c-1]&&r[n+c]===e?(o(1),!0):255===r[n+c]&&r[n+c+1]===e&&(o(2),!0)}function o(e){c+=e}function l(){d=0,f&&(c++,f=!1)}for(var u,c=0,d=0,f=!1,h=t.currentTile.index,p=t.tiles[h],m=t.COD.sopMarkerUsed,g=t.COD.ephMarkerUsed,b=p.packetsIterator;c<i;){l(),m&&a(145)&&o(4);var _=b.nextPacket();if(void 0===_)return;if(s(1)){for(var v,y=_.layerNumber,w=[],x=0,E=_.codeblocks.length;x<E;x++){v=_.codeblocks[x];var S=v.precinct,T=v.cbx-S.cbxMin,k=v.cby-S.cbyMin,D=!1,I=!1;if(void 0!==v.included)D=!!s(1);else{S=v.precinct;var j,O;if(void 0!==S.inclusionTree)j=S.inclusionTree;else{var C=S.cbxMax-S.cbxMin+1,R=S.cbyMax-S.cbyMin+1;j=new A(C,R,y),O=new P(C,R),S.inclusionTree=j,S.zeroBitPlanesTree=O;for(var L=0;L<y;L++)if(0!==s(1))throw new Error("JPX Error: Invalid tag tree")}if(j.reset(T,k,y))for(;;){if(!s(1)){j.incrementValue(y);break}if(!j.nextLevel()){v.included=!0,D=I=!0;break}}}if(D){if(I){for(O=S.zeroBitPlanesTree,O.reset(T,k);;)if(s(1)){if(!O.nextLevel())break}else O.incrementValue();v.zeroBitPlanes=O.value}for(var M=function(){if(0===s(1))return 1;if(0===s(1))return 2;var e=s(2);return e<3?e+3:(e=s(5))<31?e+6:(e=s(7))+37}();s(1);)v.Lblock++;var F=e(M),B=(M<1<<F?F-1:F)+v.Lblock,U=s(B);w.push({codeblock:v,codingpasses:M,dataLength:U})}}for(l(),g&&a(146);w.length>0;){var z=w.shift();v=z.codeblock,void 0===v.data&&(v.data=[]),v.data.push({data:r,start:n+c,end:n+c+z.dataLength,codingpasses:z.codingpasses}),c+=z.dataLength}}}return c}function w(e,t,r,n,i,s,a,o){for(var l=n.tbx0,u=n.tby0,c=n.tbx1-n.tbx0,d=n.codeblocks,f="H"===n.type.charAt(0)?1:0,h="H"===n.type.charAt(1)?t:0,p=0,m=d.length;p<m;++p){var g=d[p],b=g.tbx1_-g.tbx0_,_=g.tby1_-g.tby0_;if(0!==b&&0!==_&&void 0!==g.data){var v,y;v=new I(b,_,g.subbandType,g.zeroBitPlanes,s),y=2;var w,x,E,S=g.data,T=0,D=0;for(w=0,x=S.length;w<x;w++)E=S[w],T+=E.end-E.start,D+=E.codingpasses;var P=new Int16Array(T),A=0;for(w=0,x=S.length;w<x;w++){E=S[w];var j=E.data.subarray(E.start,E.end);P.set(j,A),A+=j.length}var O=new k(P,0,T);for(v.setDecoder(O),w=0;w<D;w++){switch(y){case 0:v.runSignificancePropogationPass();break;case 1:v.runMagnitudeRefinementPass();break;case 2:v.runCleanupPass(),o&&v.checkSegmentationSymbol()}y=(y+1)%3}var C,R,L,M=g.tbx0_-l+(g.tby0_-u)*c,F=v.coefficentsSign,B=v.coefficentsMagnitude,U=v.bitsDecoded,z=a?0:.5;A=0;var N="LL"!==n.type;for(w=0;w<_;w++){var q=M/c|0,Z=2*q*(t-c)+f+h;for(C=0;C<b;C++){if(0!==(R=B[A])){R=(R+z)*i,0!==F[A]&&(R=-R),L=U[A];var H=N?Z+(M<<1):M;e[H]=a&&L>=s?R:R*(1<<s-L)}M++,A++}M+=c-b}}}}function x(e,t,r){for(var n=t.components[r],i=n.codingStyleParameters,s=n.quantizationParameters,a=i.decompositionLevelsCount,o=s.SPqcds,l=s.scalarExpounded,u=s.guardBits,c=i.segmentationSymbolUsed,d=e.components[r].precision,f=i.reversibleTransformation,h=f?new C:new O,p=[],m=0,g=0;g<=a;g++){for(var b=n.resolutions[g],_=b.trx1-b.trx0,v=b.try1-b.try0,y=new Float32Array(_*v),x=0,E=b.subbands.length;x<E;x++){var S,T;l?(S=o[m].mu,T=o[m].epsilon,m++):(S=o[0].mu,T=o[0].epsilon+(g>0?1-g:0));var k=b.subbands[x],P=D[k.type];w(y,_,v,k,f?1:Math.pow(2,d+P-T)*(1+S/2048),u+T-1,f,c)}p.push({width:_,height:v,items:y})}var A=h.calculate(p,n.tcx0,n.tcy0);return{left:n.tcx0,top:n.tcy0,width:A.width,height:A.height,items:A.items}}function E(e){for(var t=e.SIZ,r=e.components,n=t.Csiz,i=[],s=0,a=e.tiles.length;s<a;s++){var o,l=e.tiles[s],u=[];for(o=0;o<n;o++)u[o]=x(e,l,o);var c,d,f,h,p,m,g,b,_,v,y,w,E,S,T,k=u[0],D=new Int16Array(k.items.length*n),P={left:k.left,top:k.top,width:k.width,height:k.height,items:D},A=0;if(l.codingStyleDefaultParameters.multipleComponentTransform){var I=4===n,j=u[0].items,O=u[1].items,C=u[2].items,R=I?u[3].items:null;c=r[0].precision-8,d=.5+(128<<c),f=255*(1<<c),p=.5*f,h=-p;var L=l.components[0],M=n-3;if(g=j.length,L.codingStyleParameters.reversibleTransformation)for(m=0;m<g;m++,A+=M)b=j[m]+d,_=O[m],v=C[m],w=b-(v+_>>2),y=w+v,E=w+_,D[A++]=y<=0?0:y>=f?255:y>>c,D[A++]=w<=0?0:w>=f?255:w>>c,D[A++]=E<=0?0:E>=f?255:E>>c;else for(m=0;m<g;m++,A+=M)b=j[m]+d,_=O[m],v=C[m],y=b+1.402*v,w=b-.34413*_-.71414*v,E=b+1.772*_,D[A++]=y<=0?0:y>=f?255:y>>c,D[A++]=w<=0?0:w>=f?255:w>>c,D[A++]=E<=0?0:E>=f?255:E>>c;if(I)for(m=0,A=3;m<g;m++,A+=4)S=R[m],D[A]=S<=h?0:S>=p?255:S+d>>c}else for(o=0;o<n;o++)if(8===r[o].precision){var F=u[o].items;for(c=r[o].precision-8,d=.5+(128<<c),f=127.5*(1<<c),h=-f,A=o,m=0,g=F.length;m<g;m++)T=F[m],D[A]=T<=h?0:T>=f?255:T+d>>c,A+=n}else{var B=r[o].isSigned,F=u[o].items;for(B?(c=0,d=0):(c=r[o].precision-8,d=.5+(128<<c)),A=o,m=0,g=F.length;m<g;m++)T=F[m],D[A]=T+d,A+=n}i.push(P)}return i}function S(e,t){for(var r=e.SIZ,n=r.Csiz,i=e.tiles[t],s=0;s<n;s++){var a=i.components[s],o=void 0!==e.currentTile.QCC[s]?e.currentTile.QCC[s]:e.currentTile.QCD;a.quantizationParameters=o;var l=void 0!==e.currentTile.COC[s]?e.currentTile.COC[s]:e.currentTile.COD;a.codingStyleParameters=l}i.codingStyleDefaultParameters=e.currentTile.COD}var T={};T.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var k=function(){function e(e,t,r){this.data=e,this.bp=t,this.dataEnd=r,this.chigh=e[t],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}var t=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];return e.prototype={byteIn:function(){var e=this.data,t=this.bp;if(255===e[t]){e[t+1]>143?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t)}else t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t;this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function(e,r){var n,i=e[r]>>1,s=1&e[r],a=t[i],o=a.qe,l=this.a-o;if(this.chigh<o)l<o?(l=o,n=s,i=a.nmps):(l=o,n=1^s,1===a.switchFlag&&(s=n),i=a.nlps);else{if(this.chigh-=o,0!=(32768&l))return this.a=l,s;l<o?(n=1^s,1===a.switchFlag&&(s=n),i=a.nlps):(n=s,i=a.nmps)}do 0===this.ct&&this.byteIn(),l<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(0==(32768&l))return this.a=l,e[r]=i<<1|s,n}},e}(),D={LL:0,LH:1,HL:1,HH:2};s.prototype={parse:function(e){if(65359===n(e,0))return void this.parseCodestream(e,0,e.length);for(var s=0,a=e.length;s<a;){var o=8,l=i(e,s),u=i(e,s+4);if(s+=o,1===l&&(l=4294967296*i(e,s)+i(e,s+4),s+=8,o+=8),0===l&&(l=a-s+o),l<o)throw new Error("JPX Error: Invalid box field size");var c=l-o,d=!0;switch(u){case 1785737832:d=!1;break;case 1668246642:var f=e[s];e[s+1],e[s+2];if(1===f){var h=i(e,s+3);switch(h){case 16:case 17:case 18:break;default:r("Unknown colorspace "+h)}}else 2===f&&t("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,s,s+c);break;case 1783636e3:218793738!==i(e,s)&&r("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:r("Unsupported header type "+u+" ("+String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,255&u)+")")}d&&(s+=c)}},parseImageProperties:function(e){for(var t=e.getByte();t>=0;){var r=t;t=e.getByte();if(65361===(r<<8|t)){e.skip(4);var n=e.getInt32()>>>0,i=e.getInt32()>>>0,s=e.getInt32()>>>0,a=e.getInt32()>>>0;e.skip(16);var o=e.getUint16();return this.width=n-s,this.height=i-a,this.componentsCount=o,void(this.bitsPerComponent=8)}}throw new Error("JPX Error: No size marker found in JPX stream")},parseCodestream:function(e,t,s){var l={};try{for(var u=!1,c=t;c+1<s;){var d=n(e,c);c+=2;var f,h,p,m,g,b,_=0;switch(d){case 65359:l.mainHeader=!0;break;case 65497:break;case 65361:_=n(e,c);var w={};w.Xsiz=i(e,c+4),w.Ysiz=i(e,c+8),w.XOsiz=i(e,c+12),w.YOsiz=i(e,c+16),w.XTsiz=i(e,c+20),w.YTsiz=i(e,c+24),w.XTOsiz=i(e,c+28),w.YTOsiz=i(e,c+32);var x=n(e,c+36);w.Csiz=x;var T=[];f=c+38;for(var k=0;k<x;k++){var D={precision:1+(127&e[f]),isSigned:!!(128&e[f]),XRsiz:e[f+1],YRsiz:e[f+1]};a(D,w),T.push(D)}l.SIZ=w,l.components=T,o(l,T),l.QCC=[],l.COC=[];break;case 65372:_=n(e,c);var P={};switch(f=c+2,31&(h=e[f++])){case 0:m=8,g=!0;break;case 1:m=16,g=!1;break;case 2:m=16,g=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+h)}for(P.noQuantization=8===m,P.scalarExpounded=g,P.guardBits=h>>5,p=[];f<_+c;){var A={};8===m?(A.epsilon=e[f++]>>3,A.mu=0):(A.epsilon=e[f]>>3,A.mu=(7&e[f])<<8|e[f+1],f+=2),p.push(A)}P.SPqcds=p,l.mainHeader?l.QCD=P:(l.currentTile.QCD=P,l.currentTile.QCC=[]);break;case 65373:_=n(e,c);var I={};f=c+2;var j;switch(l.SIZ.Csiz<257?j=e[f++]:(j=n(e,f),f+=2),31&(h=e[f++])){case 0:m=8,g=!0;break;case 1:m=16,g=!1;break;case 2:m=16,g=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+h)}for(I.noQuantization=8===m,I.scalarExpounded=g,I.guardBits=h>>5,p=[];f<_+c;)A={},8===m?(A.epsilon=e[f++]>>3,A.mu=0):(A.epsilon=e[f]>>3,A.mu=(7&e[f])<<8|e[f+1],f+=2),p.push(A);I.SPqcds=p,l.mainHeader?l.QCC[j]=I:l.currentTile.QCC[j]=I;break;case 65362:_=n(e,c);var O={};f=c+2;var C=e[f++];O.entropyCoderWithCustomPrecincts=!!(1&C),O.sopMarkerUsed=!!(2&C),O.ephMarkerUsed=!!(4&C),O.progressionOrder=e[f++],O.layersCount=n(e,f),f+=2,O.multipleComponentTransform=e[f++],O.decompositionLevelsCount=e[f++],O.xcb=2+(15&e[f++]),O.ycb=2+(15&e[f++]);var R=e[f++];if(O.selectiveArithmeticCodingBypass=!!(1&R),O.resetContextProbabilities=!!(2&R),O.terminationOnEachCodingPass=!!(4&R),O.verticalyStripe=!!(8&R),O.predictableTermination=!!(16&R),O.segmentationSymbolUsed=!!(32&R),O.reversibleTransformation=e[f++],O.entropyCoderWithCustomPrecincts){for(var L=[];f<_+c;){var M=e[f++];L.push({PPx:15&M,PPy:M>>4})}O.precinctsSizes=L}var F=[];if(O.selectiveArithmeticCodingBypass&&F.push("selectiveArithmeticCodingBypass"),O.resetContextProbabilities&&F.push("resetContextProbabilities"),O.terminationOnEachCodingPass&&F.push("terminationOnEachCodingPass"),O.verticalyStripe&&F.push("verticalyStripe"),O.predictableTermination&&F.push("predictableTermination"),F.length>0)throw u=!0,new Error("JPX Error: Unsupported COD options ("+F.join(", ")+")");l.mainHeader?l.COD=O:(l.currentTile.COD=O,l.currentTile.COC=[]);break;case 65424:_=n(e,c),b={},b.index=n(e,c+2),b.length=i(e,c+4),b.dataEnd=b.length+c-2,b.partIndex=e[c+8],b.partsCount=e[c+9],l.mainHeader=!1,0===b.partIndex&&(b.COD=l.COD,b.COC=l.COC.slice(0),b.QCD=l.QCD,b.QCC=l.QCC.slice(0)),l.currentTile=b;break;case 65427:b=l.currentTile,0===b.partIndex&&(S(l,b.index),v(l)),_=b.dataEnd-c,y(l,e,c,_);break;case 65365:case 65367:case 65368:case 65380:case 65363:_=n(e,c);break;default:throw new Error("JPX Error: Unknown codestream code: "+d.toString(16))}c+=_}}catch(e){if(u||this.failOnCorruptedImage)throw e;r("Trying to recover from "+e.message)}this.tiles=E(l),this.width=l.SIZ.Xsiz-l.SIZ.XOsiz,this.height=l.SIZ.Ysiz-l.SIZ.YOsiz,this.componentsCount=l.SIZ.Csiz}};var P=function(){function t(t,r){var n=e(Math.max(t,r))+1;this.levels=[];for(var i=0;i<n;i++){var s={width:t,height:r,items:[]};this.levels.push(s),t=Math.ceil(t/2),r=Math.ceil(r/2)}}return t.prototype={reset:function(e,t){for(var r,n=0,i=0;n<this.levels.length;){r=this.levels[n];var s=e+t*r.width;if(void 0!==r.items[s]){i=r.items[s];break}r.index=s,e>>=1,t>>=1,n++}n--,r=this.levels[n],r.items[r.index]=i,this.currentLevel=n,delete this.value},incrementValue:function(){var e=this.levels[this.currentLevel];e.items[e.index]++},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];return--e<0?(this.value=r,!1):(this.currentLevel=e,t=this.levels[e],t.items[t.index]=r,!0)}},t}(),A=function(){function t(t,r,n){var i=e(Math.max(t,r))+1;this.levels=[];for(var s=0;s<i;s++){for(var a=new Int16Array(t*r),o=0,l=a.length;o<l;o++)a[o]=n;var u={width:t,height:r,items:a};this.levels.push(u),t=Math.ceil(t/2),r=Math.ceil(r/2)}}return t.prototype={reset:function(e,t,r){for(var n=0;n<this.levels.length;){var i=this.levels[n],s=e+t*i.width;i.index=s;var a=i.items[s];if(255===a)break;if(a>r)return this.currentLevel=n,this.propagateValues(),!1;e>>=1,t>>=1,n++}return this.currentLevel=n-1,!0},incrementValue:function(e){var t=this.levels[this.currentLevel];t.items[t.index]=e+1,this.propagateValues()},propagateValues:function(){for(var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];--e>=0;)t=this.levels[e],t.items[t.index]=r},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],r=t.items[t.index];return t.items[t.index]=255,!(--e<0)&&(this.currentLevel=e,t=this.levels[e],t.items[t.index]=r,!0)}},t}(),I=function(){function e(e,i,s,a,o){this.width=e,this.height=i,this.contextLabelTable="HH"===s?n:"HL"===s?r:t;var l=e*i;this.neighborsSignificance=new Uint8Array(l),this.coefficentsSign=new Uint8Array(l),this.coefficentsMagnitude=o>14?new Uint32Array(l):o>6?new Uint16Array(l):new Uint8Array(l),this.processingFlags=new Uint8Array(l);var u=new Uint8Array(l);if(0!==a)for(var c=0;c<l;c++)u[c]=a;this.bitsDecoded=u,this.reset()}var t=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),r=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),n=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return e.prototype={setDecoder:function(e){this.decoder=e},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6},setNeighborsSignificance:function(e,t,r){var n,i=this.neighborsSignificance,s=this.width,a=this.height,o=t>0,l=t+1<s;e>0&&(n=r-s,o&&(i[n-1]+=16),l&&(i[n+1]+=16),i[n]+=4),e+1<a&&(n=r+s,o&&(i[n-1]+=16),l&&(i[n+1]+=16),i[n]+=4),o&&(i[r-1]+=1),l&&(i[r+1]+=1),i[r]|=128},runSignificancePropogationPass:function(){for(var e=this.decoder,t=this.width,r=this.height,n=this.coefficentsMagnitude,i=this.coefficentsSign,s=this.neighborsSignificance,a=this.processingFlags,o=this.contexts,l=this.contextLabelTable,u=this.bitsDecoded,c=0;c<r;c+=4)for(var d=0;d<t;d++)for(var f=c*t+d,h=0;h<4;h++,f+=t){var p=c+h;if(p>=r)break;if(a[f]&=-2,!n[f]&&s[f]){var m=l[s[f]],g=e.readBit(o,m);if(g){var b=this.decodeSignBit(p,d,f);i[f]=b,n[f]=1,this.setNeighborsSignificance(p,d,f),a[f]|=2}u[f]++,a[f]|=1}}},decodeSignBit:function(e,t,r){var n,i,s,a,o,l,u=this.width,c=this.height,d=this.coefficentsMagnitude,f=this.coefficentsSign;a=t>0&&0!==d[r-1],t+1<u&&0!==d[r+1]?(s=f[r+1],a?(i=f[r-1],n=1-s-i):n=1-s-s):a?(i=f[r-1],n=1-i-i):n=0;var h=3*n;return a=e>0&&0!==d[r-u],e+1<c&&0!==d[r+u]?(s=f[r+u],a?(i=f[r-u],n=1-s-i+h):n=1-s-s+h):a?(i=f[r-u],n=1-i-i+h):n=h,n>=0?(o=9+n,l=this.decoder.readBit(this.contexts,o)):(o=9-n,l=1^this.decoder.readBit(this.contexts,o)),l},runMagnitudeRefinementPass:function(){for(var e,t=this.decoder,r=this.width,n=this.height,i=this.coefficentsMagnitude,s=this.neighborsSignificance,a=this.contexts,o=this.bitsDecoded,l=this.processingFlags,u=r*n,c=4*r,d=0;d<u;d=e){e=Math.min(u,d+c);for(var f=0;f<r;f++)for(var h=d+f;h<e;h+=r)if(i[h]&&0==(1&l[h])){var p=16;if(0!=(2&l[h])){l[h]^=2;var m=127&s[h];p=0===m?15:14}var g=t.readBit(a,p);i[h]=i[h]<<1|g,o[h]++,l[h]|=1}}},runCleanupPass:function(){for(var e,t=this.decoder,r=this.width,n=this.height,i=this.neighborsSignificance,s=this.coefficentsMagnitude,a=this.coefficentsSign,o=this.contexts,l=this.contextLabelTable,u=this.bitsDecoded,c=this.processingFlags,d=r,f=2*r,h=3*r,p=0;p<n;p=e){e=Math.min(p+4,n);for(var m=p*r,g=p+3<n,b=0;b<r;b++){var _,v=m+b,y=g&&0===c[v]&&0===c[v+d]&&0===c[v+f]&&0===c[v+h]&&0===i[v]&&0===i[v+d]&&0===i[v+f]&&0===i[v+h],w=0,x=v,E=p;if(y){if(!t.readBit(o,18)){u[v]++,u[v+d]++,u[v+f]++,u[v+h]++;continue}w=t.readBit(o,17)<<1|t.readBit(o,17),0!==w&&(E=p+w,x+=w*r),_=this.decodeSignBit(E,b,x),a[x]=_,s[x]=1,this.setNeighborsSignificance(E,b,x),c[x]|=2,x=v;for(var S=p;S<=E;S++,x+=r)u[x]++;w++}for(E=p+w;E<e;E++,x+=r)if(!s[x]&&0==(1&c[x])){var T=l[i[x]],k=t.readBit(o,T);1===k&&(_=this.decodeSignBit(E,b,x),a[x]=_,s[x]=1,this.setNeighborsSignificance(E,b,x),c[x]|=2),u[x]++}}}},checkSegmentationSymbol:function(){var e=this.decoder,t=this.contexts;if(10!=(e.readBit(t,17)<<3|e.readBit(t,17)<<2|e.readBit(t,17)<<1|e.readBit(t,17)))throw new Error("JPX Error: Invalid segmentation symbol")}},e}(),j=function(){function e(){}return e.prototype.calculate=function(e,t,r){for(var n=e[0],i=1,s=e.length;i<s;i++)n=this.iterate(n,e[i],t,r);return n},e.prototype.extend=function(e,t,r){var n=t-1,i=t+1,s=t+r-2,a=t+r;e[n--]=e[i++],e[a++]=e[s--],e[n--]=e[i++],e[a++]=e[s--],e[n--]=e[i++],e[a++]=e[s--],e[n]=e[i],e[a]=e[s]},e.prototype.iterate=function(e,t,r,n){var i,s,a,o,l,u,c=e.width,d=e.height,f=e.items,h=t.width,p=t.height,m=t.items;for(a=0,i=0;i<d;i++)for(o=2*i*h,s=0;s<c;s++,a++,o+=2)m[o]=f[a];f=e.items=null;var g=new Float32Array(h+8);if(1===h){if(0!=(1&r))for(u=0,a=0;u<p;u++,a+=h)m[a]*=.5}else for(u=0,a=0;u<p;u++,a+=h)g.set(m.subarray(a,a+h),4),this.extend(g,4,h),this.filter(g,4,h),m.set(g.subarray(4,4+h),a);var b=16,_=[];for(i=0;i<b;i++)_.push(new Float32Array(p+8));var v,y=0;if(e=4+p,1===p){if(0!=(1&n))for(l=0;l<h;l++)m[l]*=.5}else for(l=0;l<h;l++){if(0===y){for(b=Math.min(h-l,b),a=l,o=4;o<e;a+=h,o++)for(v=0;v<b;v++)_[v][o]=m[a+v];y=b}y--;var w=_[y];if(this.extend(w,4,p),this.filter(w,4,p),0===y)for(a=l-b+1,o=4;o<e;a+=h,o++)for(v=0;v<b;v++)m[a+v]=_[v][o]}return{width:h,height:p,items:m}},e}(),O=function(){function e(){j.call(this)}return e.prototype=Object.create(j.prototype),e.prototype.filter=function(e,t,r){var n=r>>1;t|=0;var i,s,a,o,l=-1.586134342059924,u=-.052980118572961,c=.882911075530934,d=.443506852043971,f=1.230174104914001;for(i=t-3,s=n+4;s--;i+=2)e[i]*=1/f;for(i=t-2,a=d*e[i-1],s=n+3;s--&&(o=d*e[i+1],e[i]=f*e[i]-a-o,s--);i+=2)i+=2,a=d*e[i+1],e[i]=f*e[i]-a-o;for(i=t-1,a=c*e[i-1],s=n+2;s--&&(o=c*e[i+1],e[i]-=a+o,s--);i+=2)i+=2,a=c*e[i+1],e[i]-=a+o;for(i=t,a=u*e[i-1],s=n+1;s--&&(o=u*e[i+1],e[i]-=a+o,s--);i+=2)i+=2,a=u*e[i+1],e[i]-=a+o;if(0!==n)for(i=t+1,a=l*e[i-1],s=n;s--&&(o=l*e[i+1],e[i]-=a+o,s--);i+=2)i+=2,a=l*e[i+1],e[i]-=a+o},e}(),C=function(){function e(){j.call(this)}return e.prototype=Object.create(j.prototype),e.prototype.filter=function(e,t,r){var n=r>>1;t|=0;var i,s;for(i=t,s=n+1;s--;i+=2)e[i]-=e[i-1]+e[i+1]+2>>2;for(i=t+1,s=n;s--;i+=2)e[i]+=e[i-1]+e[i+1]>>1},e}();return s}();e("lib/jpeg/jpx",function(){}),e("x_ite/Browser/Texturing3D/DICOMParser",["dicom-parser","lib/jpeg/jpeg","jpegLossless","lib/jpeg/jpx"],function(e,t,r,n){"use strict";function a(){this.dicom={dicom:!1}}return a.prototype={parse:function(t){try{for(var r=new Uint8Array(t.length),n=0,i=t.length;n<i;++n)r[n]=t.charCodeAt(n);this.dataSet=e.parseDicom(r),this.dicom.dicom=!0}catch(e){return console.log(e),this.dicom.dicom=!1,this.dicom}return this.getPhotometricInterpretation(),this.getComponents(),this.getWidth(),this.getHeight(),this.getDepth(),this.getBitsAllocated(),this.getPixelRepresentation(),this.getPlanarConfiguration(),this.getTansferSyntax(),this.getPixelData(),console.log(this),this.dicom},getPhotometricInterpretation:function(){this.photometricInterpretation=this.dataSet.string("x00280004")},getComponents:function(){this.dicom.components=this.dataSet.uint16("x00280002")},getWidth:function(){this.dicom.width=this.dataSet.uint16("x00280011")},getHeight:function(){this.dicom.height=this.dataSet.uint16("x00280010")},getDepth:function(){this.dataSet.elements.x00280008?this.dicom.depth=this.dataSet.intString("x00280008"):this.dicom.depth=1},getBitsAllocated:function(){this.bitsAllocated=this.dataSet.uint16("x00280100")},getPixelRepresentation:function(){this.pixelRepresentation=this.dataSet.uint16("x00280103")},getPlanarConfiguration:function(){this.planarConfiguration=this.dataSet.uint16("x00280006")||0},getTansferSyntax:function(){this.transferSyntax=this.dataSet.string("x00020010")},getPixelData:function(){var e=this.dicom,t=this.dataSet.elements.x7fe00010||this.dataSet.elements.x7fe00008,r=e.width*e.height*e.components,n=r*e.depth,i=new Uint8Array(n);this.getFrames(t).forEach(function(e,t){switch(this.transferSyntax){case"1.2.840.10008.1.2":case"1.2.840.10008.1.2.1":case"1.2.840.10008.1.2.1.99":break;case"1.2.840.10008.1.2.5":e=this.decodeRLE(e.buffer,e.byteOffset,e.length,r*this.bitsAllocated/8);break;case"1.2.840.10008.1.2.4.50":case"1.2.840.10008.1.2.4.51":e=this.decodeJPEGBaseline(e);break;case"1.2.840.10008.1.2.4.57":case"1.2.840.10008.1.2.4.70":e=this.decodeJPEGLossless(e);break;case"1.2.840.10008.1.2.4.90":case"1.2.840.10008.1.2.4.91":e=this.decodeJPEG2000(e);break;case"1.2.840.10008.1.2.2":throw new Error("DICOM: Explicit VR Big Endian is not supported.");case"1.2.840.10008.1.2.4.52":case"1.2.840.10008.1.2.4.53":case"1.2.840.10008.1.2.4.54":case"1.2.840.10008.1.2.4.55":case"1.2.840.10008.1.2.4.56":case"1.2.840.10008.1.2.4.58":case"1.2.840.10008.1.2.4.59":case"1.2.840.10008.1.2.4.60":case"1.2.840.10008.1.2.4.61":case"1.2.840.10008.1.2.4.62":case"1.2.840.10008.1.2.4.63":case"1.2.840.10008.1.2.4.64":case"1.2.840.10008.1.2.4.65":case"1.2.840.10008.1.2.4.66":case"1.2.840.10008.1.2.4.80":case"1.2.840.10008.1.2.4.81":case"1.2.840.10008.1.2.4.92":case"1.2.840.10008.1.2.4.93":throw console.log(this.transferSyntax),new Error("DICOM: this JPEG encoding is not supported.");default:throw new Error("DICOM: unsupported transfer syntax '"+this.transferSyntax+"'.")}var n=t*r;switch(this.photometricInterpretation){case"MONOCHROME1":case"MONOCHROME2":case"RGB":switch(this.bitsAllocated){case 8:for(var s=this.pixelRepresentation?Int8Array:Uint8Array,a=new s(e.buffer,e.byteOffset,e.length),o=this.getPixelOffsetAndFactor(a),l=0,u=a.length;l<u;++l,++n)i[n]=(a[l]-o.offset)*o.factor;break;case 16:for(var s=this.pixelRepresentation?Int16Array:Uint16Array,a=new s(e.buffer,e.byteOffset,e.length/2),o=this.getPixelOffsetAndFactor(a),l=0,u=a.length;l<u;++l,++n)i[n]=(a[l]-o.offset)*o.factor;break;case 32:for(var a=new Float32Array(e.buffer,e.byteOffset,e.length/4),o=this.getPixelOffsetAndFactor(a),l=0,u=a.length;l<u;++l,++n)i[n]=(a[l]-o.offset)*o.factor}if("MONOCHROME1"===this.photometricInterpretation)for(var l=0,u=i.length;l<u;++l)i[l]=255-i[l];break;default:throw new Error("DICOM: unsupported image type '"+this.photometricInterpretation+"'.")}}.bind(this)),e.data=i},getFrames:function(t){var r=[]
;if(t.encapsulatedPixelData)if(t.basicOffsetTable.length)for(var n=0,i=this.dicom.depth;n<i;++n)r.push(e.readEncapsulatedImageFrame(this.dataSet,t,n));else if(this.dicom.depth!==t.fragments.length)for(var s=e.createJPEGBasicOffsetTable(this.dataSet,t),n=0,i=this.dicom.depth;n<i;++n)r.push(e.readEncapsulatedImageFrame(this.dataSet,t,n,s));else for(var n=0,i=this.dicom.depth;n<i;++n)r.push(e.readEncapsulatedPixelDataFromFragments(this.dataSet,t,n));else t.fragments?t.fragments.forEach(function(e){r.push(new Uint8Array(this.dataSet.byteArray.buffer,e.position,e.length))}.bind(this)):r.push(new Uint8Array(this.dataSet.byteArray.buffer,t.dataOffset,t.length));return r},getPixelOffsetAndFactor:function(e){for(var t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=0,i=e.length;n<i;++n)t=Math.min(t,e[n]),r=Math.max(r,e[n]);return{offset:t,factor:1/(r-t)*255}},decodeRLE:function(e,t,r,n){for(var i=new DataView(e,t,64),s=[],a=1,o=i.getUint32(0,!0)+1;a<o;++a)s.push(i.getUint32(4*a,!0));s.push(r);for(var l=s.length-1,u=new Uint8Array(n),c=0;c<l;++c)for(var d=s[c],f=s[c+1],h=new Int8Array(e,t+d,f-d),a=0,p=0;a<h.length;){var m=h[a++];if(m>=0&&m<=127)for(var g=a+m+1;a<g;++a,++p)u[p*l+c]=h[a];else if(m<=-1&&m>=-127)for(var b=h[a++],_=0,g=1-m;_<g;++_,++p)u[p*l+c]=b}return u},decodeJPEGBaseline:function(e){var t=new i;t.parse(e),t.colorTransform=!0;var r=t.getData(this.dicom.width,this.dicom.height);return this.bitsAllocated=8,r},decodeJPEGLossless:function(e){var t=new r.lossless.Decoder,n=t.decompress(e);return new Uint8Array(n)},decodeJPEG2000:function(e){var t=new s;t.parse(e);var r=t.tiles.length;if(1!==r)throw new Error("DICOM: JPEG2000 decoder returned a tileCount of "+r+", when 1 is expected.");return new Uint8Array(t.tiles[0].items.buffer)}},a}),e("x_ite/Components/Texturing3D/ImageTexture3D",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Texturing3D/X3DTexture3DNode","x_ite/Components/Networking/X3DUrlObject","x_ite/Bits/X3DConstants","x_ite/Browser/Texturing3D/NRRDParser","x_ite/Browser/Texturing3D/DICOMParser","x_ite/InputOutput/FileLoader"],function(e,t,r,n,i,s,a,o,l){"use strict";function u(t){n.call(this,t),i.call(this,t),this.addType(s.ImageTexture3D),this.addChildObjects("buffer",new e.MFString)}return u.prototype=Object.assign(Object.create(n.prototype),i.prototype,{constructor:u,fieldDefinitions:new r([new t(s.inputOutput,"metadata",new e.SFNode),new t(s.inputOutput,"url",new e.MFString),new t(s.initializeOnly,"repeatS",new e.SFBool),new t(s.initializeOnly,"repeatT",new e.SFBool),new t(s.initializeOnly,"repeatR",new e.SFBool),new t(s.initializeOnly,"textureProperties",new e.SFNode)]),getTypeName:function(){return"ImageTexture3D"},getComponentName:function(){return"Texturing3D"},getContainerField:function(){return"texture"},initialize:function(){n.prototype.initialize.call(this),i.prototype.initialize.call(this),this.url_.addInterest("set_url__",this),this.buffer_.addInterest("set_buffer__",this),this.set_url__()},set_url__:function(){this.setLoadState(s.NOT_STARTED_STATE),this.requestAsyncLoad()},requestAsyncLoad:function(){this.checkLoadState()!==s.COMPLETE_STATE&&this.checkLoadState()!==s.IN_PROGRESS_STATE&&(this.setLoadState(s.IN_PROGRESS_STATE),this.buffer_=this.url_)},getInternalType:function(e,t){switch(t){case 1:return e.LUMINANCE;case 2:return e.LUMINANCE_ALPHA;case 3:return e.RGB;case 4:return e.RGBA}},set_buffer__:function(){new l(this).loadBinaryDocument(this.buffer_,function(e){if(null!==e){var t=(new a).parse(e);if(t.nrrd){var r=this.getBrowser().getContext(),n=this.getInternalType(r,t.components);return this.setTexture(t.width,t.height,t.depth,!1,n,t.data),void this.setLoadState(s.COMPLETE_STATE)}var i=(new o).parse(e);if(i.dicom){var r=this.getBrowser().getContext(),n=this.getInternalType(r,i.components);return this.setTexture(i.width,i.height,i.depth,!1,n,i.data),void this.setLoadState(s.COMPLETE_STATE)}throw new Error("ImageTexture3D: no appropriate file type handler found.")}this.setLoadState(s.FAILED_STATE),this.clearTexture()}.bind(this))}}),u}),e("x_ite/Components/Texturing3D/PixelTexture3D",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Texturing3D/X3DTexture3DNode","x_ite/Bits/X3DConstants"],function(e,t,r,n,i){"use strict";function s(t){n.call(this,t),this.addType(i.PixelTexture3D),this.addChildObjects("loadState",new e.SFInt32(i.NOT_STARTED_STATE))}return s.prototype=Object.assign(Object.create(n.prototype),{constructor:s,fieldDefinitions:new r([new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"image",new e.MFInt32(0,0,0,0)),new t(i.initializeOnly,"repeatS",new e.SFBool),new t(i.initializeOnly,"repeatT",new e.SFBool),new t(i.initializeOnly,"repeatR",new e.SFBool),new t(i.initializeOnly,"textureProperties",new e.SFNode)]),getTypeName:function(){return"PixelTexture3D"},getComponentName:function(){return"Texturing3D"},getContainerField:function(){return"texture"},initialize:function(){n.prototype.initialize.call(this),this.image_.addInterest("set_image__",this),this.set_image__()},checkLoadState:function(){return this.loadState_.getValue()},set_image__:function(){return function(){var e=this.image_;if(e.length<4)return this.clearTexture(),void(this.loadState_=i.FAILED_STATE);var t=this.getBrowser().getContext(),r=e[0],n=e[1],s=e[2],a=e[3],o=!(1&r),l=n*s*a;switch(r){case 1:for(var u=t.LUMINANCE,c=new Uint8Array(l),d=4,f=4+l,h=0;d<f;++d)c[h++]=e[d];break;case 2:for(var u=t.LUMINANCE_ALPHA,c=new Uint8Array(2*l),d=4,f=4+l,h=0;d<f;++d){var p=e[d];c[h++]=p>>>8&255,c[h++]=255&p}break;case 3:for(var u=t.RGB,c=new Uint8Array(3*l),d=4,f=4+l,h=0;d<f;++d){var p=e[d];c[h++]=p>>>16&255,c[h++]=p>>>8&255,c[h++]=255&p}break;case 4:for(var u=t.RGBA,c=new Uint8Array(4*l),d=4,f=4+l,h=0;d<f;++d){var p=e[d];c[h++]=p>>>24&255,c[h++]=p>>>16&255,c[h++]=p>>>8&255,c[h++]=255&p}break;default:return this.clearTexture(),void(this.loadState_=i.FAILED_STATE)}this.setTexture(n,s,a,o,u,c),this.loadState_=i.COMPLETE_STATE}}()}),s}),e("x_ite/Components/Texturing3D/TextureCoordinate3D",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Texturing/X3DTextureCoordinateNode","x_ite/Bits/X3DConstants"],function(e,t,r,n,i){"use strict";function s(e){n.call(this,e),this.addType(i.TextureCoordinate3D)}return s.prototype=Object.assign(Object.create(n.prototype),{constructor:s,fieldDefinitions:new r([new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"point",new e.MFVec3f)]),getTypeName:function(){return"TextureCoordinate3D"},getComponentName:function(){return"Texturing3D"},getContainerField:function(){return"texCoord"},initialize:function(){n.prototype.initialize.call(this),this.point_.addInterest("set_point__",this),this.set_point__()},set_point__:function(){this.point=this.point_.getValue(),this.length=this.point_.length},isEmpty:function(){return 0===this.length},getSize:function(){return this.length},get1Point:function(e,t){if(e<this.length){const r=this.point;return e*=3,t.set(r[e],r[e+1],r[e+2],1)}return t.set(0,0,0,1)},addTexCoordToChannel:function(e,t){if(e>=0&&e<this.length){var r=this.point;e*=3,t.push(r[e],r[e+1],r[e+2],1)}else t.push(0,0,0,1)},getTexCoord:function(e){for(var t=this.point_,r=0,n=t.length;r<n;++r){var i=t[r];e[r]=new Vector4(i.x,i.y,i.z,1)}return e.length=n,e}}),s}),e("x_ite/Components/Texturing3D/TextureCoordinate4D",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Texturing/X3DTextureCoordinateNode","x_ite/Bits/X3DConstants"],function(e,t,r,n,i){"use strict";function s(e){n.call(this,e),this.addType(i.TextureCoordinate4D)}return s.prototype=Object.assign(Object.create(n.prototype),{constructor:s,fieldDefinitions:new r([new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"point",new e.MFVec4f)]),getTypeName:function(){return"TextureCoordinate4D"},getComponentName:function(){return"Texturing3D"},getContainerField:function(){return"texCoord"},initialize:function(){n.prototype.initialize.call(this),this.point_.addInterest("set_point__",this),this.set_point__()},set_point__:function(){this.point=this.point_.getValue(),this.length=this.point_.length},isEmpty:function(){return 0===this.length},getSize:function(){return this.length},get1Point:function(e,t){if(e<this.length){const r=this.point;return e*=4,t.set(r[e],r[e+1],r[e+2],r[e+3])}return t.set(0,0,0,1)},addTexCoordToChannel:function(e,t){if(e>=0&&e<this.length){var r=this.point;e*=4,t.push(r[e],r[e+1],r[e+2],r[e+3])}else t.push(0,0,0,1)},getTexCoord:function(e){for(var t=this.point_,r=0,n=t.length;r<n;++r){var i=t[r];e[r]=new Vector4(i.x,i.y,i.z,i.w)}return e.length=n,e}}),s}),e("x_ite/Components/Texturing3D/TextureTransform3D",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Texturing/X3DTextureTransformNode","x_ite/Bits/X3DConstants","standard/Math/Numbers/Vector3","standard/Math/Numbers/Rotation4"],function(e,t,r,n,i,s,a){"use strict";function o(e){n.call(this,e),this.addType(i.TextureTransform3D)}var l=new s(0,0,0);return o.prototype=Object.assign(Object.create(n.prototype),{constructor:o,fieldDefinitions:new r([new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"translation",new e.SFVec3f),new t(i.inputOutput,"rotation",new e.SFRotation),new t(i.inputOutput,"scale",new e.SFVec3f(1,1,1)),new t(i.inputOutput,"center",new e.SFVec3f)]),getTypeName:function(){return"TextureTransform3D"},getComponentName:function(){return"Texturing3D"},getContainerField:function(){return"textureTransform"},initialize:function(){n.prototype.initialize.call(this),this.addInterest("eventsProcessed",this),this.eventsProcessed()},eventsProcessed:function(){var e=this.translation_.getValue(),t=this.rotation_.getValue(),r=this.scale_.getValue(),n=this.center_.getValue(),i=this.getMatrix();i.identity(),n.equals(s.Zero)||i.translate(l.assign(n).negate()),r.equals(s.One)||i.scale(r),t.equals(a.Identity)||i.rotate(t),n.equals(s.Zero)||i.translate(n),e.equals(s.Zero)||i.translate(e),this.setMatrix(i)}}),o}),e("x_ite/Components/Texturing3D/TextureTransformMatrix3D",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Texturing/X3DTextureTransformNode","x_ite/Bits/X3DConstants"],function(e,t,r,n,i){"use strict";function s(e){n.call(this,e),this.addType(i.TextureTransformMatrix3D)}return s.prototype=Object.assign(Object.create(n.prototype),{constructor:s,fieldDefinitions:new r([new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"matrix",new e.SFMatrix4f(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1))]),getTypeName:function(){return"TextureTransformMatrix3D"},getComponentName:function(){return"Texturing3D"},getContainerField:function(){return"textureTransform"},ininitialize:function(){n.prototype.ininitialize.call(this),this.addInterest("eventsProcessed",this),this.eventsProcessed()},eventsProcessed:function(){var e=this.getMatrix();e.assign(this.matrix_.getValue()),this.setMatrix(e)}}),s}),e(["x_ite/Components","x_ite/Components/Texturing3D/ComposedTexture3D","x_ite/Components/Texturing3D/ImageTexture3D","x_ite/Components/Texturing3D/PixelTexture3D","x_ite/Components/Texturing3D/TextureCoordinate3D","x_ite/Components/Texturing3D/TextureCoordinate4D","x_ite/Components/Texturing3D/TextureTransform3D","x_ite/Components/Texturing3D/TextureTransformMatrix3D","x_ite/Components/Texturing3D/X3DTexture3DNode"],function(e,t,r,n,i,s,a,o,l){"use strict";e.addComponent({name:"Texturing3D",types:{ComposedTexture3D:t,ImageTexture3D:r,PixelTexture3D:n,TextureCoordinate3D:i,TextureCoordinate4D:s,TextureTransform3D:a,TextureTransformMatrix3D:o},abstractTypes:{X3DTexture3DNode:l}})})}();
