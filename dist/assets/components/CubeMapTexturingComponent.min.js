/* X_ITE v10.2.0 */
const e=window[Symbol.for("X_ITE.X3D-10.2.0")];(()=>{var t={254:t=>{t.exports=e.jquery}},r={};function i(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const a=e.Components;var s=i.n(a);const n=e.Namespace;var o=i.n(n);const u=o().add("Panorama1.fs","\nprecision highp float;precision highp int;precision highp sampler2D;const float M_PI=3.1415926535897932384626433832795;varying vec2 texCoord;uniform sampler2D x3d_PanoramaTexture;uniform int x3d_CurrentFace;vec3 uvToXYZ(const in int face,const in vec2 uv){vec3 xyz;if(face==0)xyz=vec3(1.0,uv.y,uv.x);else if(face==1)xyz=vec3(-1.0,uv.y,-uv.x);else if(face==2)xyz=vec3(uv.x,uv.y,-1.0);else if(face==3)xyz=vec3(-uv.x,uv.y,1.0);else if(face==4)xyz=vec3(uv.y,-1.0,uv.x);else xyz=vec3(-uv.y,1.0,uv.x);return xyz;}vec2 dirToUV(const in vec3 dir){return vec2(0.5+0.5*atan(dir.z,dir.x)/M_PI,1.0-acos(dir.y)/M_PI);}vec3 panoramaToCubeMap(const in int face,const in vec2 texCoord){vec3 scan=uvToXYZ(face,texCoord);vec3 direction=normalize(scan);vec2 src=dirToUV(direction);return texture2D(x3d_PanoramaTexture,src).rgb;}void main(){gl_FragColor=vec4(panoramaToCubeMap(x3d_CurrentFace,texCoord),1.0);}"),h=o().add("Panorama2.fs","#version 300 es\nprecision highp float;precision highp int;precision highp sampler2D;const float M_PI=3.1415926535897932384626433832795;in vec2 texCoord;out vec4 x3d_FragColor;uniform sampler2D x3d_PanoramaTexture;uniform int x3d_CurrentFace;vec3 uvToXYZ(const in int face,const in vec2 uv){switch(face){case 0:return vec3(1.0,uv.y,uv.x);case 1:return vec3(-1.0,uv.y,-uv.x);case 2:return vec3(uv.x,uv.y,-1.0);case 3:return vec3(-uv.x,uv.y,1.0);case 4:return vec3(uv.y,-1.0,uv.x);default:return vec3(-uv.y,1.0,uv.x);}}vec2 dirToUV(const in vec3 dir){return vec2(0.5+0.5*atan(dir.z,dir.x)/M_PI,1.0-acos(dir.y)/M_PI);}vec3 panoramaToCubeMap(const in int face,const in vec2 texCoord){vec3 scan=uvToXYZ(face,texCoord);vec3 direction=normalize(scan);vec2 src=dirToUV(direction);return texture(x3d_PanoramaTexture,src).rgb;}void main(){x3d_FragColor=vec4(panoramaToCubeMap(x3d_CurrentFace,texCoord),1.0);}"),c=Symbol();function d(){}Object.assign(d.prototype,{getPanoramaShader(){return this[c]?this[c]:this[c]=this.createShader("Panorama","FullScreen","data:x-shader/x-fragment,"+["",u,h][this.getContext().getVersion()],[],["x3d_PanoramaTexture","x3d_CurrentFace"])}});const T=d,p=o().add("X3DCubeMapTexturingContext",T),x=e.Fields;var l=i.n(x);const g=e.X3DFieldDefinition;var _=i.n(g);const m=e.FieldDefinitionArray;var f=i.n(m);const E=e.X3DSingleTextureNode;var b=i.n(E);const v=e.X3DConstants;var w=i.n(v);function R(e){b().call(this,e),this.addType(w().X3DEnvironmentTextureNode);const t=this.getBrowser().getContext();this.target=t.TEXTURE_CUBE_MAP,this.targets=[t.TEXTURE_CUBE_MAP_POSITIVE_Z,t.TEXTURE_CUBE_MAP_NEGATIVE_Z,t.TEXTURE_CUBE_MAP_NEGATIVE_X,t.TEXTURE_CUBE_MAP_POSITIVE_X,t.TEXTURE_CUBE_MAP_POSITIVE_Y,t.TEXTURE_CUBE_MAP_NEGATIVE_Y],this.size=1,this.levels=0}Object.assign(Object.setPrototypeOf(R.prototype,b().prototype),{getTarget(){return this.target},getTextureType:()=>4,getTargets(){return this.targets},getSize(){return this.size},setSize(e){this.size=e,this.levels=Math.floor(Math.log2(Math.max(e,1)))},getLevels(){return this.levels},clearTexture:(()=>{const e=new Uint8Array([255,255,255,255]);return function(){const t=this.getBrowser().getContext();t.bindTexture(this.getTarget(),this.getTexture());for(const r of this.getTargets())t.texImage2D(r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,e);this.setSize(1),this.setTransparent(!1),this.updateTextureParameters()}})(),updateTextureParameters(){b().prototype.updateTextureParameters.call(this,this.target,this._textureProperties.getValue(),this.texturePropertiesNode,this.size,this.size,!1,!1,!1)},setShaderUniforms(e,t,r,i=t.x3d_Texture[0]){const a=this.getBrowser().getTextureCubeUnit();e.activeTexture(e.TEXTURE0+a),e.bindTexture(e.TEXTURE_CUBE_MAP,this.getTexture()),e.uniform1i(i.textureCube,a)}}),Object.defineProperties(R,{typeName:{value:"X3DEnvironmentTextureNode",enumerable:!0},componentInfo:{value:Object.freeze({name:"CubeMapTexturing",level:1}),enumerable:!0}});const M=R,y=o().add("X3DEnvironmentTextureNode",M),C=e.X3DCast;var S=i.n(C);const O=e.BitSet;var U=i.n(O);function I(e){y.call(this,e),this.addType(w().ComposedCubeMapTexture),this.addChildObjects(w().inputOutput,"update",new(l().SFTime)),e.getSpecificationVersion()<=3.3&&(this.addAlias("front",this._frontTexture),this.addAlias("back",this._backTexture),this.addAlias("left",this._leftTexture),this.addAlias("right",this._rightTexture),this.addAlias("top",this._topTexture),this.addAlias("bottom",this._bottomTexture)),this.textureNodes=[null,null,null,null,null,null],this.textureBits=new(U())}Object.assign(Object.setPrototypeOf(I.prototype,y.prototype),{initialize(){y.prototype.initialize.call(this);const e=this.getBrowser().getContext();this.frameBuffer=e.createFramebuffer(),this.clearTexture(),this._frontTexture.addInterest("set_texture__",this,0),this._backTexture.addInterest("set_texture__",this,1),this._leftTexture.addInterest("set_texture__",this,2),this._rightTexture.addInterest("set_texture__",this,3),this._topTexture.addInterest("set_texture__",this,5),this._bottomTexture.addInterest("set_texture__",this,4),this._update.addInterest("update",this),this.set_texture__(0,this._frontTexture),this.set_texture__(1,this._backTexture),this.set_texture__(2,this._leftTexture),this.set_texture__(3,this._rightTexture),this.set_texture__(4,this._topTexture),this.set_texture__(5,this._bottomTexture)},set_texture__(e,t){let r=this.textureNodes[e];r?.removeInterest(`set_loadState${e}__`,this),r=this.textureNodes[e]=S()(w().X3DTexture2DNode,t),r?.addInterest(`set_loadState${e}__`,this,e,r),this.set_loadState__(e,r)},set_loadState__(e,t){this.setTextureBit(e,t?.checkLoadState()),this._update.addEvent()},setTextureBit(e,t){this.textureBits.set(e,t===w().COMPLETE_STATE)},isComplete(){if(63!=+this.textureBits)return!1;const e=this.textureNodes,t=e[0].getWidth();for(const r of e){if(r.getWidth()!==t)return!1;if(r.getHeight()!==t)return!1}return!0},update(){if(this.isComplete()){const e=this.getBrowser().getContext(),t=this.textureNodes,r=t[0].getWidth();if(r!==this.getSize()){const t=new Uint8Array(r*r*4);e.bindTexture(this.getTarget(),this.getTexture());for(let i=0;i<6;++i)e.texImage2D(this.getTargets()[i],0,e.RGBA,r,r,0,e.RGBA,e.UNSIGNED_BYTE,t);this.setSize(r),this.updateTextureParameters()}e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer);for(let i=0;i<6;++i){const a=t[i];if(e.bindTexture(e.TEXTURE_2D,a.getTexture()),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a.getTexture(),0),e.bindTexture(this.getTarget(),this.getTexture()),1===a.getTextureType())e.copyTexSubImage2D(this.getTargets()[i],0,0,0,0,0,r,r);else for(let t=0;t<r;++t)e.copyTexSubImage2D(this.getTargets()[i],0,0,r-t-1,0,t,r,1)}this.setTransparent(t.some((e=>e.isTransparent()))),this.setLinear(t.some((e=>e.isLinear()))),this.setMipMaps(t.every((e=>e.canMipMaps()))),this.updateTextureParameters()}else this.clearTexture()}}),Object.defineProperties(I,{typeName:{value:"ComposedCubeMapTexture",enumerable:!0},componentInfo:{value:Object.freeze({name:"CubeMapTexturing",level:1}),enumerable:!0},containerField:{value:"texture",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.1",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(f())([new(_())(w().inputOutput,"metadata",new(l().SFNode)),new(_())(w().inputOutput,"description",new(l().SFString)),new(_())(w().inputOutput,"frontTexture",new(l().SFNode)),new(_())(w().inputOutput,"backTexture",new(l().SFNode)),new(_())(w().inputOutput,"leftTexture",new(l().SFNode)),new(_())(w().inputOutput,"rightTexture",new(l().SFNode)),new(_())(w().inputOutput,"topTexture",new(l().SFNode)),new(_())(w().inputOutput,"bottomTexture",new(l().SFNode)),new(_())(w().initializeOnly,"textureProperties",new(l().SFNode))]),enumerable:!0}});for(let e=0;e<6;++e)I.prototype[`set_loadState${e}__`]=function(e,t){this.set_loadState__(e,t)};const A=I,P=o().add("ComposedCubeMapTexture",A),F=e.X3DBaseNode;var N=i.n(F);const B=e.X3DRenderObject;var D=i.n(B);const z=e.TraverseType;var L=i.n(z);function X(e,t,r){N().call(this,e),D().call(this,e),this.node=r,this.renderObject=t}Object.assign(Object.setPrototypeOf(X.prototype,N().prototype),D().prototype,{initialize(){N().prototype.initialize.call(this),D().prototype.initialize.call(this)},isIndependent:()=>!1,getNode(){return this.node},getLayer(){return this.renderObject.getLayer()},getBackground(){return this.renderObject.getBackground()},getFog(){return this.renderObject.getFog()},getNavigationInfo(){return this.renderObject.getNavigationInfo()},getViewpoint(){return this.renderObject.getViewpoint()},getViewpointStack(){return this.renderObject.getViewpointStack()},getLightContainer(){return this.renderObject.getLights()[this.lightIndex++]},render(e,t,r){switch(e){case L().COLLISION:case L().SHADOW:D().prototype.render.call(this,e,t,r);break;case L().DISPLAY:this.lightIndex=0,D().prototype.render.call(this,e,t,r);for(const e of this.renderObject.getLights())e.modelViewMatrix.pop()}}});for(const e of Object.keys(X.prototype))Object.defineProperty(X.prototype,e,{enumerable:!1});const V=X,j=o().add("DependentRenderer",V),G=e.TextureBuffer;var k=i.n(G);const Y=e.Camera;var W=i.n(Y);const H=e.ViewVolume;var $=i.n(H);const Z=e.Rotation4;var K=i.n(Z);const q=e.Vector3;var J=i.n(q);const Q=e.Vector4;var ee=i.n(Q);const te=e.Matrix4;var re=i.n(te);const ie=e.Algorithm;var ae=i.n(ie);function se(e){y.call(this,e),this.addType(w().GeneratedCubeMapTexture),this.dependentRenderers=new WeakMap,this.projectionMatrix=new(re()),this.modelMatrix=new(re()),this.viewVolume=new($())}Object.assign(Object.setPrototypeOf(se.prototype,y.prototype),{initialize(){y.prototype.initialize.call(this),this._size.addInterest("set_size__",this),this.set_size__()},set_size__(){const e=this.getBrowser().getContext(),t=e.getVersion()>=2?this._size.getValue():ae().nextPowerOfTwo(this._size.getValue());if(t>0){const r=new Uint8Array(t*t*4);e.bindTexture(this.getTarget(),this.getTexture());for(const i of this.getTargets())e.texImage2D(i,0,e.RGBA,t,t,0,e.RGBA,e.UNSIGNED_BYTE,r);this.updateTextureParameters(),this.viewport=new(ee())(0,0,t,t),this.frameBuffer=new(k())(this.getBrowser(),t,t),this.setSize(t)}else this.frameBuffer=null,this.setSize(0)},traverse(e,t){"NONE"!==this._update.getValue()&&t.isIndependent()&&this.frameBuffer&&(t.getGeneratedCubeMapTextures().push(this),this.modelMatrix.assign(t.getModelViewMatrix().get()).multRight(t.getCameraSpaceMatrix().get()))},renderTexture:(()=>{const e=[new(K())(J().zAxis,new(J())(0,0,-1)),new(K())(J().zAxis,new(J())(0,0,1)),new(K())(J().zAxis,new(J())(1,0,0)),new(K())(J().zAxis,new(J())(-1,0,0)),new(K())(J().zAxis,new(J())(0,-1,0)),new(K())(J().zAxis,new(J())(0,1,0))],t=[new(J())(-1,-1,1),new(J())(-1,-1,1),new(J())(-1,-1,1),new(J())(-1,-1,1),new(J())(1,1,1),new(J())(1,1,1)],r=new(re());return function(i){if(!this.dependentRenderers.has(i)){const e=new j(this.getExecutionContext(),i,this);e.setup(),this.dependentRenderers.set(i,e)}const a=this.dependentRenderers.get(i),s=this.getBrowser(),n=i.getLayer(),o=s.getContext(),u=a.getBackground(),h=a.getNavigationInfo(),c=a.getViewpoint(),d=s.getHeadlight(),T=h._headlight.getValue(),p=h.getNearValue(),x=h.getFarValue(c),l=W().perspective(ae().radians(90),p,x,1,1,this.projectionMatrix),g=this.frameBuffer.getWidth(),_=this.frameBuffer.getHeight();this.setTransparent(u.isTransparent()),this.frameBuffer.bind(),a.getViewVolumes().push(this.viewVolume.set(l,this.viewport,this.viewport)),a.getProjectionMatrix().pushMatrix(l),o.bindTexture(this.getTarget(),this.getTexture());for(let i=0;i<6;++i)o.clear(o.COLOR_BUFFER_BIT),a.getCameraSpaceMatrix().pushMatrix(this.modelMatrix),a.getCameraSpaceMatrix().rotate(e[i]),a.getCameraSpaceMatrix().scale(t[i]),a.getViewMatrix().pushMatrix(r.assign(a.getCameraSpaceMatrix().get()).inverse()),a.getModelViewMatrix().pushMatrix(r),T&&(d.modelViewMatrix.pushMatrix(r),d.modelViewMatrix.multLeft(c.getCameraSpaceMatrix())),n.traverse(L().DISPLAY,a),T&&d.modelViewMatrix.pop(),a.getModelViewMatrix().pop(),a.getCameraSpaceMatrix().pop(),a.getViewMatrix().pop(),o.bindTexture(this.getTarget(),this.getTexture()),o.copyTexSubImage2D(this.getTargets()[i],0,0,0,0,0,g,_);this.updateTextureParameters(),a.getProjectionMatrix().pop(),a.getViewVolumes().pop(),"NEXT_FRAME_ONLY"===this._update.getValue()&&(this._update="NONE")}})(),setShaderUniforms:(()=>{const e=new Float32Array(16);return function(t,r,i,a){y.prototype.setShaderUniforms.call(this,t,r,i,a),i.getNode()===this&&t.uniformMatrix4fv(r.x3d_ModelViewMatrix,!1,e)}})()}),Object.defineProperties(se,{typeName:{value:"GeneratedCubeMapTexture",enumerable:!0},componentInfo:{value:Object.freeze({name:"CubeMapTexturing",level:3}),enumerable:!0},containerField:{value:"texture",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(f())([new(_())(w().inputOutput,"metadata",new(l().SFNode)),new(_())(w().inputOutput,"description",new(l().SFString)),new(_())(w().inputOutput,"update",new(l().SFString)("NONE")),new(_())(w().initializeOnly,"size",new(l().SFInt32)(128)),new(_())(w().initializeOnly,"textureProperties",new(l().SFNode))]),enumerable:!0}});const ne=se,oe=o().add("GeneratedCubeMapTexture",ne),ue=e.X3DUrlObject;var he=i.n(ue);const ce=e.Vector2;var de=i.n(ce);const Te=e.DEVELOPMENT;var pe=i.n(Te),xe=i(254);const le=new Uint8Array([255,255,255,255]);function ge(e){y.call(this,e),he().call(this,e),this.addType(w().ImageCubeMapTexture),this.image=xe("<img></img>"),this.urlStack=new(l().MFString)}Object.assign(Object.setPrototypeOf(ge.prototype,y.prototype),he().prototype,{initialize(){y.prototype.initialize.call(this),he().prototype.initialize.call(this);const e=this.getBrowser().getContext();e.bindTexture(this.getTarget(),this.getTexture());for(let t=0;t<6;++t)e.texImage2D(this.getTargets()[t],0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,le);this.image.on("load",this.setImage.bind(this)),this.image.on("abort error",this.setError.bind(this)),this.image.prop("crossOrigin","Anonymous"),this.requestImmediateLoad().catch(Function.prototype)},unloadData(){this.clearTexture()},loadData(){this.urlStack.setValue(this._url),this.loadNext()},loadNext(){if(0===this.urlStack.length)return this.clearTexture(),void this.setLoadState(w().FAILED_STATE);this.URL=new URL(this.urlStack.shift(),this.getExecutionContext().getBaseURL()),this.URL.pathname.match(/\.ktx2?(?:\.gz)?$/)||this.URL.href.match(/^data:image\/ktx2[;,]/)?(this.setLinear(!0),this.setMipMaps(!1),this.getBrowser().getKTXDecoder().then((e=>e.loadKTXFromURL(this.URL,this.getCache()))).then((e=>this.setKTXTexture(e))).catch((e=>this.setError({type:e.message})))):(this.setLinear(!1),this.setMipMaps(!0),"data:"!==this.URL.protocol&&(this.getCache()||this.URL.searchParams.set("_",Date.now())),this.image.attr("src",this.URL.href))},setError(e){"data:"!==this.URL.protocol&&console.warn(`Error loading image '${decodeURI(this.URL.href)}'`,e.type),this.loadNext()},setKTXTexture(e){if(e.target!==this.getTarget())return this.setError({type:"Invalid KTX texture target, must be 'TEXTURE_CUBE_MAP'."});pe()&&"data:"!==this.URL.protocol&&console.info(`Done loading image cube map texture '${decodeURI(this.URL.href)}'.`);try{this.setTexture(e),this.setTransparent(!1),this.setSize(e.baseWidth),this.updateTextureParameters(),this.setLoadState(w().COMPLETE_STATE)}catch(e){this.setError({type:e.message})}},setImage(){pe()&&"data:"!==this.URL.protocol&&console.info(`Done loading image cube map texture '${decodeURI(this.URL.href)}'.`);try{const e=this.getBrowser().getContext(),t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.image[0]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.imageToCubeMap(t,this.image.prop("width"),this.image.prop("height"),!1),this.setLoadState(w().COMPLETE_STATE)}catch(e){this.setError({type:e.message})}},imageToCubeMap(e,t,r){const i=t/r;Math.abs(i-4/3)<.01&&this.skyBoxToCubeMap(e,t,r),Math.abs(i-2)<.01&&this.panoramaToCubeMap(e,t,r),this.updateTextureParameters()},skyBoxToCubeMap:function(){const e=[new(de())(1,1),new(de())(3,1),new(de())(0,1),new(de())(2,1),new(de())(1,0),new(de())(1,2)];return function(t,r,i){const a=this.getBrowser().getContext(),s=a.createFramebuffer(),n=Math.floor(r/4),o=Math.floor(i/3),u=new Uint8Array(n*o*4);a.bindTexture(this.getTarget(),this.getTexture());for(let e=0;e<6;++e)a.texImage2D(this.getTargets()[e],0,a.RGBA,n,o,0,a.RGBA,a.UNSIGNED_BYTE,null);a.bindFramebuffer(a.FRAMEBUFFER,s),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,t,0);let h=!1;a.bindTexture(this.getTarget(),this.getTexture());for(let t=0;t<6;++t)a.copyTexSubImage2D(this.getTargets()[t],0,0,0,e[t].x*n,e[t].y*o,n,o),h||(a.readPixels(e[t].x*n,e[t].y*o,n,o,a.RGBA,a.UNSIGNED_BYTE,u),h=this.isImageTransparent(u));a.deleteFramebuffer(s),a.deleteTexture(t),this.setTransparent(h),this.setSize(n)}}(),panoramaToCubeMap(e,t,r){const i=this.getBrowser(),a=i.getContext(),s=i.getPanoramaShader(),n=a.createFramebuffer(),o=i.getTextureCubeUnit(),u=Math.floor(r/2),h=new Uint8Array(u*u*4);a.bindTexture(a.TEXTURE_2D,e),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.MIRRORED_REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.MIRRORED_REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.bindTexture(this.getTarget(),this.getTexture());for(let e=0;e<6;++e)a.texImage2D(this.getTargets()[e],0,a.RGBA,u,u,0,a.RGBA,a.UNSIGNED_BYTE,null);a.useProgram(s.getProgram()),a.activeTexture(a.TEXTURE0+o),a.bindTexture(a.TEXTURE_2D,e),a.uniform1i(s.x3d_PanoramaTexture,o),a.bindFramebuffer(a.FRAMEBUFFER,n),a.viewport(0,0,u,u),a.scissor(0,0,u,u),a.disable(a.DEPTH_TEST),a.enable(a.CULL_FACE),a.frontFace(a.CCW),a.clearColor(0,0,0,0),a.bindVertexArray(i.getFullscreenVertexArrayObject());let c=!1;for(let e=0;e<6;++e)a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,this.getTargets()[e],this.getTexture(),0),a.clear(a.COLOR_BUFFER_BIT),a.uniform1i(s.x3d_CurrentFace,e),a.drawArrays(a.TRIANGLES,0,6),c||(a.readPixels(0,0,u,u,a.RGBA,a.UNSIGNED_BYTE,h),c=this.isImageTransparent(h));a.enable(a.DEPTH_TEST),a.deleteFramebuffer(n),a.deleteTexture(e),i.resetTextureUnits(),this.setTransparent(c),this.setSize(u)},dispose(){he().prototype.dispose.call(this),y.prototype.dispose.call(this)}}),Object.defineProperties(ge,{typeName:{value:"ImageCubeMapTexture",enumerable:!0},componentInfo:{value:Object.freeze({name:"CubeMapTexturing",level:2}),enumerable:!0},containerField:{value:"texture",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(f())([new(_())(w().inputOutput,"metadata",new(l().SFNode)),new(_())(w().inputOutput,"description",new(l().SFString)),new(_())(w().inputOutput,"load",new(l().SFBool)(!0)),new(_())(w().inputOutput,"url",new(l().MFString)),new(_())(w().inputOutput,"autoRefresh",new(l().SFTime)),new(_())(w().inputOutput,"autoRefreshTimeLimit",new(l().SFTime)(3600)),new(_())(w().initializeOnly,"textureProperties",new(l().SFNode))]),enumerable:!0}});const _e=ge,me=o().add("ImageCubeMapTexture",_e);s().add({name:"CubeMapTexturing",concreteNodes:[P,oe,me],abstractNodes:[y],browserContext:p});o().add("CubeMapTexturingComponent",undefined)})();