/* X_ITE v9.1.6 */(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components");var i=e.n(t);const n=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Fields");var o=e.n(n);const s=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Base/X3DFieldDefinition");var r=e.n(s);const a=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Base/FieldDefinitionArray");var l=e.n(a);const h=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Rendering/X3DCoordinateNode");var d=e.n(h);const c=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Base/X3DConstants");var u=e.n(c);const p=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Namespace");var g=e.n(p);function _(e,t){switch(arguments.length){case 0:this.semiMajorAxis=0,this.semiMinorAxis=0;break;case 2:this.semiMajorAxis=e,this.semiMinorAxis=t;break;case 3:const i=arguments[1];this.semiMajorAxis=e,this.semiMinorAxis=e*(1-1/i)}}Object.assign(_.prototype,{getSemiMajorAxis(){return this.semiMajorAxis},getSemiMinorAxis(){return this.semiMinorAxis},toString(){return`${this.semiMajorAxis} ${this.semiMinorAxis}`}});const w=_;g().add("Spheroid3","standard/Math/Geometry/Spheroid3",w);const m=w,O={AA:new m(6377563.396,299.3249646,!0),AM:new m(6377340.189,299.3249646,!0),AN:new m(6378160,298.25,!0),BN:new m(6377483.865,299.1528128,!0),BR:new m(6377397.155,299.1528128,!0),CC:new m(6378206.4,294.9786982,!0),CD:new m(6378249.145,293.465,!0),EA:new m(6377276.345,300.8017,!0),EB:new m(6377298.556,300.8017,!0),EC:new m(6377301.243,300.8017,!0),ED:new m(6377295.664,300.8017,!0),EE:new m(6377304.063,300.8017,!0),EF:new m(6377309.613,300.8017,!0),FA:new m(6378155,298.3,!0),HE:new m(6378200,298.3,!0),HO:new m(6378270,297,!0),ID:new m(6378160,298.247,!0),IN:new m(6378388,297,!0),KA:new m(6378245,298.3,!0),RF:new m(6378137,298.257222101,!0),SA:new m(6378160,298.25,!0),WD:new m(6378135,298.26,!0),WE:new m(6378137,298.257223563,!0),SUN:new m(696342e3,1/9e-6,!0),MERCURY:new m(2439700,2439700),VENUS:new m(6051800,6051800),MOON:new m(1738140,1735970),MARS:new m(3395428,3377678),JUPITER:new m(71492e3,66854e3),SATURN:new m(60268e3,54364e3),URANUS:new m(2555e3,24973e3),NEPTUNE:new m(24764e3,24341e3),PLUTO:new m(1153e3,1153e3)};g().add("ReferenceEllipsoids","standard/Geospatial/ReferenceEllipsoids",O);const y=O,b=window[Symbol.for("X_ITE.X3D-9.1.6")].require("standard/Math/Numbers/Vector3");var f=e.n(b);const S=window[Symbol.for("X_ITE.X3D-9.1.6")].require("standard/Math/Algorithm");var I=e.n(S);function v(e,t,i){this.longitudeFirst=!t,this.degrees=!i,this.a=e.getSemiMajorAxis(),this.c=e.getSemiMinorAxis(),this.c2a2=(e.getSemiMinorAxis()/this.a)**2,this.ecc2=1-this.c2a2}Object.assign(v.prototype,{convert(e,t){const i=e.z;if(this.longitudeFirst)var n=e.y,o=e.x;else n=e.x,o=e.y;return this.degrees&&(n*=Math.PI/180,o*=Math.PI/180),this.convertRadians(n,o,i,t)},convertRadians(e,t,i,n){const o=Math.sin(e),s=o**2,r=Math.cos(e),a=this.a/Math.sqrt(1-this.ecc2*s),l=(a+i)*r;return n.set(l*Math.cos(t),l*Math.sin(t),(a*this.c2a2+i)*o)},apply(e,t){if(this.applyRadians(e,t),this.degrees&&(t.x*=180/Math.PI,t.y*=180/Math.PI),this.longitudeFirst){const e=t.x;t.x=t.y,t.y=e}return t},applyRadians(e,t){const i=e.x,n=e.y,o=e.z,s=Math.sqrt(i*i+n*n);if(0==s)return t.set(Math.PI,0,o-this.c);let r=0,a=Math.atan2(n,i),l=0,h=this.a,d=h,c=this.ecc2;for(let e=0;e<30;++e){const e=l,t=r;r=Math.atan(o/s/(1-c*d/(d+l)));const i=Math.sin(r);if(d=h/Math.sqrt(1-c*i*i),l=s/Math.cos(r)-d,Math.abs(l-e)<.001&&Math.abs(r-t)<1e-10)break}return t.set(r,a,l)},normal(e,t){const i=this.applyRadians(e,t),n=i.x,o=i.y,s=Math.cos(n),r=Math.cos(o)*s,a=Math.sin(o)*s,l=Math.sin(n);return t.set(r,a,l)}});const F=v;g().add("Geodetic","standard/Geospatial/Geodetic",F);const x=F,C=1e7,N=5e5,j=.9996;function M(e,t,i,n){const o=e.getSemiMajorAxis(),s=1-(e.getSemiMinorAxis()/o)**2,r=s/(1-s),a=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s));this.southernHemisphere=!i,this.eastingFirst=!n,this.a=o,this.ecc2=s,this.EE=r,this.E8=8*r,this.E9=9*r,this.E252=252*r,this.e1=a,this.A=j*(o*(1-s/4-3*s*s/64-5*s*s*s/256)),this.B=3*a/2-7*a*a*a/32,this.C=21*a*a/16-55*a*a*a*a/32,this.D=151*a*a*a/96,this.E=o*(1-s),this.W=1-s/4-3*s*s/64-5*s*s*s/256,this.X=3*s/8+3*s*s/32+45*s*s*s/1024,this.Y=15*s*s/256+45*s*s*s/1024,this.Z=35*s*s*s/3072,this.longitude0=I().radians(6*t-183),this.geodeticConverter=new x(e,!0,!0)}Object.assign(M.prototype,{convert(e,t){if(this.eastingFirst)var i=e.y,n=e.x;else i=e.x,n=e.y;let o=this.southernHemisphere;i<0&&(o=!this.southernHemisphere,i=-i),o&&(i-=C),n-=N;const s=i/this.A,r=s+this.B*Math.sin(2*s)+this.C*Math.sin(4*s)+this.D*Math.sin(6*s),a=Math.sin(r)**2,l=Math.cos(r),h=Math.tan(r),d=this.a/Math.sqrt(1-this.ecc2*a),c=h**2,u=h**8,p=this.EE*c,g=p*p,_=this.E/(1-this.ecc2*a)**1.5,w=n/(d*j),m=(5+3*c+10*p-4*g-this.E9)*w**4/24,O=(61+90*c+298*p+45*u-this.E252-3*g)*w**6/720,y=(5-2*p+28*c-3*g+this.E8+24*u)*w**5/120,b=r-d*h/_*(w*w/2-m+O),f=this.longitude0+(w-(1+2*c+p)*w**3/6+y)/l;return this.geodeticConverter.convertRadians(b,f,e.z,t)},apply(e,t){const i=this.geodeticConverter.applyRadians(e,t),n=i.x,o=i.y,s=Math.tan(n),r=Math.cos(n),a=this.EE,l=this.a/Math.sqrt(1-this.ecc2*Math.sin(n)**2),h=s*s,d=h*h*h,c=a*r*r,u=r*(o-this.longitude0),p=this.a*(this.W*n-this.X*Math.sin(2*n)+this.Y*Math.sin(4*n)-this.Z*Math.sin(6*n)),g=j*l*(u+(1-h+c)*u**3/6+(5-18*d+72*c-58*a)*u**5/120)+N;let _=j*(p+l*s*(u*u/2+(5-h+9*c+4*c*c)*u**4/24+(61-58*d+600*c-330*a)*u**6/720));return n<0?(_+=C,this.southernHemisphere||(_=-_)):this.southernHemisphere&&(_=-_),this.eastingFirst?t.set(g,_,i.z):t.set(_,g,i.z)}});const G=M;g().add("UniversalTransverseMercator","standard/Geospatial/UniversalTransverseMercator",G);const z=G;function V(){}Object.assign(V.prototype,{convert:(e,t)=>t.assign(e),apply:(e,t)=>t.assign(e),slerp(e,t,i){const n=e.magnitude(),o=t.magnitude();return e.normalize(),t.normalize(),I().simpleSlerp(e,t,i).multiply(I().lerp(n,o,i))}});const D=V;g().add("Geocentric","x_ite/Browser/Geospatial/Geocentric",D);const P=D;let T=0;const E=T++,X=T++,k=T++,L={GD:E,GDC:E,UTM:X,GC:k,GCC:k,GS:k},R=/^Z(\d+)$/,A={GD:E,UTM:X,GC:k,getReferenceFrame(e,t){switch(this.getCoordinateSystem(e)){case E:return new x(this.getEllipsoid(e),this.getLatitudeFirst(e),t);case X:return new z(this.getEllipsoid(e),this.getZone(e),this.getNorthernHemisphere(e),this.getNorthingFirst(e));case k:return new P}return new x(y.WE,!0,t)},getElevationFrame(e,t){return new x(this.getEllipsoid(e),!0,t)},getCoordinateSystem(e){for(const t of e){const e=L[t];if(void 0!==e)return e}return E},getEllipsoid(e){for(const t of e){const e=y[t];if(void 0!==e)return e}return y.WE},getEllipsoidString(e){for(const t of e){if(void 0!==y[t])return t}return"WE"},isStandardOrder(e){switch(this.getCoordinateSystem(e)){case E:return this.getLatitudeFirst(e);case X:return this.getNorthingFirst(e);case k:return!0}return this.getLatitudeFirst(e)},getLatitudeFirst(e){for(const t of e)if("longitude_first"===t)return!1;return!0},getNorthingFirst(e){for(const t of e)if("easting_first"===t)return!1;return!0},getZone(e){for(const t of e){const e=t.match(R);if(e)return parseInt(e[1])}return 1},getNorthernHemisphere(e){for(const t of e)if("S"===t)return!1;return!0}};g().add("GeospatialObject","x_ite/Browser/Geospatial/GeospatialObject",A);const B=A,U=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Base/X3DCast");var q=e.n(U);const W=window[Symbol.for("X_ITE.X3D-9.1.6")].require("standard/Math/Numbers/Matrix4");var H=e.n(W);const Y=new(f())(0,0,0),Z=new(f())(0,0,0),$=new(f())(0,0,0),K=new(f())(0,0,0),J=new(f())(0,0,0),Q=new(f())(0,0,0);function ee(e){this.addType(u().X3DGeospatialObject),this.radians=!1,this.origin=new(f())(0,0,0),this.originMatrix=new(H()),this.invOriginMatrix=new(H())}function te(e,t){return this.invOriginMatrix.multVecMatrix(this.referenceFrame.convert(e,t))}function ie(e,t){return this.referenceFrame.apply(this.originMatrix.multVecMatrix(Y.assign(e)),t)}function ne(e,t){return this.invOriginMatrix.multDirMatrix(this.elevationFrame.normal(this.originMatrix.multVecMatrix(Y.assign(e)),t))}function oe(e,t){return se.call(this,e,t).multRight(this.invOriginMatrix)}function se(e,t){return this.referenceFrame.convert(e,$),this.elevationFrame.normal($,J),K.set(0,0,1).cross(J),K.equals(f().Zero)&&K.set(1,0,0),Q.assign(K).cross(J),K.normalize(),Q.normalize(),t.set(K.x,K.y,K.z,0,J.x,J.y,J.z,0,Q.x,Q.y,Q.z,0,$.x,$.y,$.z,1)}Object.assign(ee.prototype,{initialize(){this._geoSystem.addInterest("set_geoSystem__",this),this._geoOrigin.addInterest("set_geoOrigin__",this),this.set_geoSystem__(),this.set_geoOrigin__()},set_geoSystem__(){this.coordinateSystem=B.getCoordinateSystem(this._geoSystem),this.referenceFrame=B.getReferenceFrame(this._geoSystem,this.radians),this.elevationFrame=B.getElevationFrame(this._geoSystem,this.radians),this.standardOrder=B.isStandardOrder(this._geoSystem)},set_geoOrigin__(){this.geoOriginNode&&(this.geoOriginNode.removeInterest("set_origin__",this),this.geoOriginNode.removeInterest("set_rotateYUp__",this),this.geoOriginNode.removeInterest("addNodeEvent",this)),this.geoOriginNode=q()(u().GeoOrigin,this._geoOrigin),this.geoOriginNode&&(this.geoOriginNode.addInterest("set_origin__",this),this.geoOriginNode.addInterest("set_rotateYUp__",this),this.geoOriginNode.addInterest("addNodeEvent",this)),this.set_origin__(),this.set_rotateYUp__()},set_origin__(){this.geoOriginNode?this.geoOriginNode.getOrigin(this.origin):this.origin.set(0,0,0),this.set_originMatrix__()},set_originMatrix__(){if(this.geoOriginNode){var e=this.origin;this.elevationFrame.normal(e,J),K.set(0,0,1).cross(J),K.equals(f().Zero)&&K.set(1,0,0),Q.assign(K).cross(J),K.normalize(),Q.normalize(),this.originMatrix.set(K.x,K.y,K.z,0,J.x,J.y,J.z,0,Q.x,Q.y,Q.z,0,e.x,e.y,e.z,1),this.invOriginMatrix.assign(this.originMatrix).inverse()}},set_rotateYUp__(){this.geoOriginNode&&this.geoOriginNode._rotateYUp.getValue()?(this.getCoord=te,this.getGeoCoord=ie,this.getGeoUpVector=ne,this.getLocationMatrix=oe):(delete this.getCoord,delete this.getGeoCoord,delete this.getGeoUpVector,delete this.getLocationMatrix)},getReferenceFrame(){return this.referenceFrame},getStandardOrder(){return this.standardOrder},getCoord(e,t){return this.referenceFrame.convert(e,t).subtract(this.origin)},getGeoCoord(e,t){return this.referenceFrame.apply(Y.assign(e).add(this.origin),t)},getGeoElevation(e){return this.getGeoCoord(e,Z).z},getGeoUpVector(e,t){return this.elevationFrame.normal(Y.assign(e).add(this.origin),t)},getLocationMatrix(e,t){var i=this.origin,n=se.call(this,e,t);return n[12]-=i.x,n[13]-=i.y,n[14]-=i.z,n},dispose(){}}),Object.defineProperties(ee,{typeName:{value:"X3DGeospatialObject",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:1}),enumerable:!0}});const re=ee;g().add("X3DGeospatialObject","x_ite/Components/Geospatial/X3DGeospatialObject",re);const ae=re,le=window[Symbol.for("X_ITE.X3D-9.1.6")].require("standard/Math/Geometry/Triangle3");var he=e.n(le);function de(e){d().call(this,e),ae.call(this,e),this.addType(u().GeoCoordinate)}Object.assign(Object.setPrototypeOf(de.prototype,d().prototype),ae.prototype,{initialize(){d().prototype.initialize.call(this),ae.prototype.initialize.call(this)},set1Point:(()=>{const e=new(f())(0,0,0);return function(t,i){this._point[t]=this.getGeoCoord(i,e)}})(),get1Point:(()=>{const e=new(f())(0,0,0);return function(t,i){if(t<this.length){const n=this.point;return t*=3,this.getCoord(e.set(n[t],n[t+1],n[t+2]),i)}return i.set(0,0,0)}})(),addPoint:(()=>{const e=new(f())(0,0,0),t=new(f())(0,0,0);return function(i,n){if(i<this.length){const o=this.point;i*=3,this.getCoord(e.set(o[i],o[i+1],o[i+2]),t),n.push(t[0],t[1],t[2],1)}else n.push(0,0,0,1)}})(),addPoints:(()=>{const e=new(f())(0,0,0),t=new(f())(0,0,0);return function(i){const n=this.point,o=3*this.length;for(let s=0;s<o;s+=3)this.getCoord(e.set(n[s],n[s+1],n[s+2]),t),i.push(t[0],t[1],t[2],1);return i}})(),getNormal:(()=>{const e=new(f())(0,0,0),t=new(f())(0,0,0),i=new(f())(0,0,0);return function(n,o,s){const r=this.length;return n<r&&o<r&&s<r?he().normal(this.get1Point(n,e),this.get1Point(o,t),this.get1Point(s,i),new(f())(0,0,0)):new(f())(0,0,0)}})(),getQuadNormal:(()=>{const e=new(f())(0,0,0),t=new(f())(0,0,0),i=new(f())(0,0,0),n=new(f())(0,0,0);return function(o,s,r,a){const l=this.length;return o<l&&s<l&&r<l&&a<l?he().quadNormal(this.get1Point(o,e),this.get1Point(s,t),this.get1Point(r,i),this.get1Point(a,n),new(f())(0,0,0)):new(f())(0,0,0)}})(),dispose(){ae.prototype.dispose.call(this),d().prototype.dispose.call(this)}}),Object.defineProperties(de,{typeName:{value:"GeoCoordinate",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:1}),enumerable:!0},containerField:{value:"coord",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().initializeOnly,"geoOrigin",new(o().SFNode)),new(r())(u().initializeOnly,"geoSystem",new(o().MFString)("GD","WE")),new(r())(u().inputOutput,"point",new(o().MFVec3d))]),enumerable:!0}});const ce=de;g().add("GeoCoordinate","x_ite/Components/Geospatial/GeoCoordinate",ce);const ue=ce,pe=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Rendering/X3DGeometryNode");var ge=e.n(pe);const _e=window[Symbol.for("X_ITE.X3D-9.1.6")].require("standard/Math/Numbers/Vector2");var we=e.n(_e);function me(e){ge().call(this,e),ae.call(this,e),this.addType(u().GeoElevationGrid),this._set_height.setUnit("length"),this._creaseAngle.setUnit("angle"),this._height.setUnit("length"),this.colorNode=null,this.texCoordNode=null,this.normalNode=null}Object.assign(Object.setPrototypeOf(me.prototype,ge().prototype),ae.prototype,{initialize(){ge().prototype.initialize.call(this),ae.prototype.initialize.call(this),this._set_height.addFieldInterest(this._height),this._color.addInterest("set_color__",this),this._texCoord.addInterest("set_texCoord__",this),this._normal.addInterest("set_normal__",this),this.set_color__(),this.set_texCoord__(),this.set_normal__()},set_color__(){this.colorNode?.removeInterest("requestRebuild",this),this.colorNode=q()(u().X3DColorNode,this._color),this.colorNode?.addInterest("requestRebuild",this),this.setTransparent(this.colorNode?.isTransparent()??!1)},set_texCoord__(){this.texCoordNode?.removeInterest("requestRebuild",this),this.texCoordNode=q()(u().X3DTextureCoordinateNode,this._texCoord),this.texCoordNode?.addInterest("requestRebuild",this),this.setTextureCoordinate(this.texCoordNode)},set_normal__(){this.normalNode?.removeInterest("requestRebuild",this),this.normalNode=q()(u().X3DNormalNode,this._normal),this.normalNode?.addInterest("requestRebuild",this)},getColor(){return this.colorNode},getTexCoord(){return this.texCoordNode},getNormal(){return this.normalNode},getHeight(e){return e<this._height.length?this._height[e]*this._yScale.getValue():0},createTexCoords(){const e=[],t=this._xDimension.getValue(),i=this._zDimension.getValue(),n=t-1,o=i-1;for(let s=0;s<i;++s)for(let i=0;i<t;++i)e.push(new(we())(i/n,s/o));return e},createNormals(e,t,i){const n=!this._ccw.getValue(),o=new Map,s=[];for(let t=0;t<e.length;++t)o.set(t,[]);for(let i=0;i<t.length;i+=3){const r=t[i],a=t[i+1],l=t[i+2];o.get(r).push(s.length),o.get(a).push(s.length+1),o.get(l).push(s.length+2);const h=he().normal(e[r],e[a],e[l],new(f())(0,0,0));n&&h.negate(),s.push(h),s.push(h),s.push(h)}return this._normalPerVertex.getValue()?this.refineNormals(o,s,this._creaseAngle.getValue()):s},createCoordIndex(){const e=[],t=this._xDimension.getValue(),i=t-1,n=this._zDimension.getValue()-1;for(let o=0;o<n;++o)for(let n=0;n<i;++n){const i=o*t+n,s=(o+1)*t+n,r=(o+1)*t+(n+1),a=o*t+(n+1);e.push(i),e.push(r),e.push(s),e.push(i),e.push(a),e.push(r)}return e},createPoints(){const e=[],t=this._xDimension.getValue(),i=this._zDimension.getValue(),n=this._xSpacing.getValue(),o=this._zSpacing.getValue();if(this.getStandardOrder())for(let s=0;s<i;++s)for(let i=0;i<t;++i){const r=new(f())(o*s,n*i,this.getHeight(i+s*t));r.add(this._geoGridOrigin.getValue()),e.push(this.getCoord(r,r))}else for(let s=0;s<i;++s)for(let i=0;i<t;++i){const r=new(f())(n*i,o*s,this.getHeight(i+s*t));r.add(this._geoGridOrigin.getValue()),e.push(this.getCoord(r,r))}return e},build(){if(this._xDimension.getValue()<2||this._zDimension.getValue()<2)return;const e=this._colorPerVertex.getValue(),t=this._normalPerVertex.getValue(),i=this.createCoordIndex(),n=this.getColor(),o=this.getTexCoord(),s=this.getNormal(),r=this.createPoints(),a=this.getColors(),l=this.getMultiTexCoords(),h=this.getNormals(),d=this.getVertices();let c=0;if(o)o.init(l);else{var u=this.createTexCoords(),p=this.getTexCoords();l.push(p)}for(let g=0;g<i.length;++c)for(let _=0;_<6;++_,++g){const _=i[g],w=r[_];if(n&&(e?n.addColor(_,a):n.addColor(c,a)),o)o.addPoint(_,l);else{const e=u[_];p.push(e.x,e.y,0,1)}s&&(t?s.addVector(_,h):s.addVector(c,h)),d.push(w.x,w.y,w.z,1)}if(!s){const e=this.createNormals(r,i);for(let t=0;t<e.length;++t){const i=e[t];h.push(i.x,i.y,i.z)}}this.setSolid(this._solid.getValue()),this.setCCW(this._ccw.getValue())},dispose(){ae.prototype.dispose.call(this),ge().prototype.dispose.call(this)}}),Object.defineProperties(me,{typeName:{value:"GeoElevationGrid",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:1}),enumerable:!0},containerField:{value:"geometry",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().initializeOnly,"geoOrigin",new(o().SFNode)),new(r())(u().initializeOnly,"geoSystem",new(o().MFString)("GD","WE")),new(r())(u().inputOnly,"set_height",new(o().MFDouble)),new(r())(u().initializeOnly,"geoGridOrigin",new(o().SFVec3d)),new(r())(u().initializeOnly,"xDimension",new(o().SFInt32)),new(r())(u().initializeOnly,"zDimension",new(o().SFInt32)),new(r())(u().initializeOnly,"xSpacing",new(o().SFDouble)(1)),new(r())(u().initializeOnly,"zSpacing",new(o().SFDouble)(1)),new(r())(u().inputOutput,"yScale",new(o().SFFloat)(1)),new(r())(u().initializeOnly,"solid",new(o().SFBool)(!0)),new(r())(u().initializeOnly,"ccw",new(o().SFBool)(!0)),new(r())(u().initializeOnly,"creaseAngle",new(o().SFDouble)),new(r())(u().initializeOnly,"colorPerVertex",new(o().SFBool)(!0)),new(r())(u().initializeOnly,"normalPerVertex",new(o().SFBool)(!0)),new(r())(u().inputOutput,"color",new(o().SFNode)),new(r())(u().inputOutput,"texCoord",new(o().SFNode)),new(r())(u().inputOutput,"normal",new(o().SFNode)),new(r())(u().initializeOnly,"height",new(o().MFDouble)(0,0))]),enumerable:!0}});const Oe=me;g().add("GeoElevationGrid","x_ite/Components/Geospatial/GeoElevationGrid",Oe);const ye=Oe,be=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Core/X3DChildNode");var fe=e.n(be);const Se=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Grouping/X3DBoundedObject");var Ie=e.n(Se);const ve=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Rendering/TraverseType");var Fe=e.n(ve);const xe=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Grouping/Group");var Ce=e.n(xe);const Ne=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Networking/Inline");var je=e.n(Ne);const Me=window[Symbol.for("X_ITE.X3D-9.1.6")].require("standard/Math/Geometry/Box3");var Ge=e.n(Me),ze=new(f())(0,0,0);function Ve(e){fe().call(this,e),Ie().call(this,e),ae.call(this,e),this.addType(u().GeoLOD),this._range.setUnit("length"),this.unload=!1,this.rootGroup=new(Ce())(this.getBrowser().getPrivateScene()),this.rootInline=new(je())(e),this.child1Inline=new(je())(e),this.child2Inline=new(je())(e),this.child3Inline=new(je())(e),this.child4Inline=new(je())(e),this.childrenLoaded=!1,this.childBBox=new(Ge()),this.keepCurrentLevel=!1,this.modelViewMatrix=new(H())}Object.assign(Object.setPrototypeOf(Ve.prototype,fe().prototype),Ie().prototype,ae.prototype,{initialize(){fe().prototype.initialize.call(this),Ie().prototype.initialize.call(this),ae.prototype.initialize.call(this),this._rootNode.addFieldInterest(this.rootGroup._children),this.rootGroup._children=this._rootNode,this.rootGroup.setPrivate(!0),this.rootGroup.setup(),this.rootInline._loadState.addInterest("set_rootLoadState__",this),this.child1Inline._loadState.addInterest("set_childLoadState__",this),this.child2Inline._loadState.addInterest("set_childLoadState__",this),this.child3Inline._loadState.addInterest("set_childLoadState__",this),this.child4Inline._loadState.addInterest("set_childLoadState__",this),this._rootUrl.addFieldInterest(this.rootInline._url),this._child1Url.addFieldInterest(this.child1Inline._url),this._child2Url.addFieldInterest(this.child2Inline._url),this._child3Url.addFieldInterest(this.child3Inline._url),this._child4Url.addFieldInterest(this.child4Inline._url),this.rootInline._load=!0,this.child1Inline._load=!1,this.child2Inline._load=!1,this.child3Inline._load=!1,this.child4Inline._load=!1,this.rootInline._url=this._rootUrl,this.child1Inline._url=this._child1Url,this.child2Inline._url=this._child2Url,this.child3Inline._url=this._child3Url,this.child4Inline._url=this._child4Url,this.rootInline.setup(),this.child1Inline.setup(),this.child2Inline.setup(),this.child3Inline.setup(),this.child4Inline.setup()},getBBox(e,t){if(this._bboxSize.getValue().equals(this.getDefaultBBoxSize())){switch(this.childrenLoaded?this._level_changed.getValue():0){case 0:return this._rootNode.length?this.rootGroup.getBBox(e,t):this.rootInline.getBBox(e,t);case 1:{const i=this.childBBox;return e.set(),e.add(this.child1Inline.getBBox(i,t)),e.add(this.child2Inline.getBBox(i,t)),e.add(this.child3Inline.getBBox(i,t)),e.add(this.child4Inline.getBBox(i,t)),e}}return e.set()}return e.set(this._bboxSize.getValue(),this._bboxCenter.getValue())},set_rootLoadState__(){0===this._level_changed.getValue()&&(this._rootNode.length||this.rootInline.checkLoadState()===u().COMPLETE_STATE&&(this._children=this.rootInline.getInternalScene().getRootNodes(),this.childrenLoaded=!1))},set_childLoadState__(){if(1===this._level_changed.getValue()){var e=0;if(this.child1Inline.checkLoadState()!==u().COMPLETE_STATE&&this.child1Inline.checkLoadState()!==u().FAILED_STATE||++e,this.child2Inline.checkLoadState()!==u().COMPLETE_STATE&&this.child2Inline.checkLoadState()!==u().FAILED_STATE||++e,this.child3Inline.checkLoadState()!==u().COMPLETE_STATE&&this.child3Inline.checkLoadState()!==u().FAILED_STATE||++e,this.child4Inline.checkLoadState()!==u().COMPLETE_STATE&&this.child4Inline.checkLoadState()!==u().FAILED_STATE||++e,4===e){this.childrenLoaded=!0;var t=this._children;t.length=0;for(var i=0,n=(o=this.child1Inline.getInternalScene().getRootNodes()).length;i<n;++i)t.push(o[i]);for(i=0,n=(o=this.child2Inline.getInternalScene().getRootNodes()).length;i<n;++i)t.push(o[i]);for(i=0,n=(o=this.child3Inline.getInternalScene().getRootNodes()).length;i<n;++i)t.push(o[i]);var o;for(i=0,n=(o=this.child4Inline.getInternalScene().getRootNodes()).length;i<n;++i)t.push(o[i])}}},set_childCameraObject__(){this.setCameraObject(this.child1Inline.isCameraObject()||this.child2Inline.isCameraObject()||this.child3Inline.isCameraObject()||this.child4Inline.isCameraObject())},set_childPickableObject__(){this.setPickableObject(this.child1Inline.isPickableObject()||this.child2Inline.isPickableObject()||this.child3Inline.isPickableObject()||this.child4Inline.isPickableObject())},getLevel(e){return this.getDistance(e)<this._range.getValue()?1:0},getDistance(e){return e.translate(this.getCoord(this._center.getValue(),ze)),e.origin.magnitude()},traverse(e,t){switch(e){case Fe().PICKING:var i=this.getBrowser().getPickingHierarchy();return i.push(this),this.traverseChildren(e,t),void i.pop();case Fe().DISPLAY:var n=this.getLevel(this.modelViewMatrix.assign(t.getModelViewMatrix().get()));if(n!==this._level_changed.getValue())switch(this._level_changed=n,n){case 0:this.child1Inline._isCameraObject.removeInterest("set_childCameraObject__",this),this.child2Inline._isCameraObject.removeInterest("set_childCameraObject__",this),this.child3Inline._isCameraObject.removeInterest("set_childCameraObject__",this),this.child4Inline._isCameraObject.removeInterest("set_childCameraObject__",this),this.child1Inline._isPickableObject.removeInterest("set_childPickableObject__",this),this.child2Inline._isPickableObject.removeInterest("set_childPickableObject__",this),this.child3Inline._isPickableObject.removeInterest("set_childPickableObject__",this),this.child4Inline._isPickableObject.removeInterest("set_childPickableObject__",this),this._rootNode.length?(this.rootGroup._isCameraObject.addFieldInterest(this._isCameraObject),this.rootGroup._isPickableObject.addFieldInterest(this._isPickableObject),this.setCameraObject(this.rootGroup.isCameraObject()),this.setPickableObject(this.rootGroup.isPickableObject()),this._children=this._rootNode,this.childrenLoaded=!1):this.rootInline.checkLoadState()==u().COMPLETE_STATE&&(this.rootInline._isCameraObject.addFieldInterest(this._isCameraObject),this.rootInline._isPickableObject.addFieldInterest(this._isPickableObject),this.setCameraObject(this.rootInline.isCameraObject()),this.setPickableObject(this.rootInline.isPickableObject()),this._children=this.rootInline.getInternalScene().getRootNodes(),this.childrenLoaded=!1),this.unload&&(this.child1Inline._load=!1,this.child2Inline._load=!1,this.child3Inline._load=!1,this.child4Inline._load=!1);break;case 1:this._rootNode.length?(this.rootGroup._isCameraObject.removeFieldInterest(this._isCameraObject),this.rootGroup._isPickableObject.removeFieldInterest(this._isPickableObject)):(this.rootInline._isCameraObject.removeFieldInterest(this._isCameraObject),this.rootInline._isPickableObject.removeFieldInterest(this._isPickableObject)),this.child1Inline._isCameraObject.addInterest("set_childCameraObject__",this),this.child2Inline._isCameraObject.addInterest("set_childCameraObject__",this),this.child3Inline._isCameraObject.addInterest("set_childCameraObject__",this),this.child4Inline._isCameraObject.addInterest("set_childCameraObject__",this),this.child1Inline._isPickableObject.addInterest("set_childPickableObject__",this),this.child2Inline._isPickableObject.addInterest("set_childPickableObject__",this),this.child3Inline._isPickableObject.addInterest("set_childPickableObject__",this),this.child4Inline._isPickableObject.addInterest("set_childPickableObject__",this),this.set_childCameraObject__(),this.set_childPickableObject__(),this.child1Inline._load.getValue()?this.set_childLoadState__():(this.child1Inline._load=!0,this.child2Inline._load=!0,this.child3Inline._load=!0,this.child4Inline._load=!0)}return void this.traverseChildren(e,t);default:return void this.traverseChildren(e,t)}},traverseChildren(e,t){switch(this.childrenLoaded?this._level_changed.getValue():0){case 0:this._rootNode.length?this.rootGroup.traverse(e,t):this.rootInline.traverse(e,t);break;case 1:this.child1Inline.traverse(e,t),this.child2Inline.traverse(e,t),this.child3Inline.traverse(e,t),this.child4Inline.traverse(e,t)}},dispose(){ae.prototype.dispose.call(this),Ie().prototype.dispose.call(this),fe().prototype.dispose.call(this)}}),Object.defineProperties(Ve,{typeName:{value:"GeoLOD",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:1}),enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().initializeOnly,"geoOrigin",new(o().SFNode)),new(r())(u().initializeOnly,"geoSystem",new(o().MFString)("GD","WE")),new(r())(u().initializeOnly,"rootUrl",new(o().MFString)),new(r())(u().initializeOnly,"child1Url",new(o().MFString)),new(r())(u().initializeOnly,"child2Url",new(o().MFString)),new(r())(u().initializeOnly,"child3Url",new(o().MFString)),new(r())(u().initializeOnly,"child4Url",new(o().MFString)),new(r())(u().initializeOnly,"center",new(o().SFVec3d)),new(r())(u().initializeOnly,"range",new(o().SFFloat)(10)),new(r())(u().outputOnly,"level_changed",new(o().SFInt32)(-1)),new(r())(u().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(u().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(u().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(u().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(u().initializeOnly,"rootNode",new(o().MFNode)),new(r())(u().outputOnly,"children",new(o().MFNode))]),enumerable:!0}});const De=Ve;g().add("GeoLOD","x_ite/Components/Geospatial/GeoLOD",De);const Pe=De,Te=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Grouping/X3DTransformMatrix3DNode");var Ee=e.n(Te),Xe=new(H());function ke(e){Ee().call(this,e),ae.call(this,e),this.addType(u().GeoLocation)}Object.assign(Object.setPrototypeOf(ke.prototype,Ee().prototype),ae.prototype,{initialize(){Ee().prototype.initialize.call(this),ae.prototype.initialize.call(this),this.addInterest("eventsProcessed",this),this.eventsProcessed()},eventsProcessed(){this.setMatrix(this.getLocationMatrix(this._geoCoords.getValue(),Xe))},dispose(){ae.prototype.dispose.call(this),Ee().prototype.dispose.call(this)}}),Object.defineProperties(ke,{typeName:{value:"GeoLocation",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:1}),enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().initializeOnly,"geoOrigin",new(o().SFNode)),new(r())(u().initializeOnly,"geoSystem",new(o().MFString)("GD","WE")),new(r())(u().inputOutput,"geoCoords",new(o().SFVec3d)),new(r())(u().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(u().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(u().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(u().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(u().inputOnly,"addChildren",new(o().MFNode)),new(r())(u().inputOnly,"removeChildren",new(o().MFNode)),new(r())(u().inputOutput,"children",new(o().MFNode))]),enumerable:!0}});const Le=ke;g().add("GeoLocation","x_ite/Components/Geospatial/GeoLocation",Le);const Re=Le,Ae=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Core/X3DInfoNode");var Be=e.n(Ae);const Ue=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Networking/X3DUrlObject");var qe=e.n(Ue);function We(e){Be().call(this,e),qe().call(this,e),this.addType(u().GeoMetadata)}Object.assign(Object.setPrototypeOf(We.prototype,Be().prototype),qe().prototype,{initialize(){Be().prototype.initialize.call(this),qe().prototype.initialize.call(this)},requestImmediateLoad(e=!0){},dispose(){qe().prototype.dispose.call(this),Be().prototype.dispose.call(this)}}),Object.defineProperties(We,{typeName:{value:"GeoMetadata",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:1}),enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().inputOutput,"description",new(o().SFString)),new(r())(u().inputOutput,"load",new(o().SFBool)(!0)),new(r())(u().inputOutput,"url",new(o().MFString)),new(r())(u().inputOutput,"autoRefresh",new(o().SFTime)),new(r())(u().inputOutput,"autoRefreshTimeLimit",new(o().SFTime)(3600)),new(r())(u().inputOutput,"summary",new(o().MFString)),new(r())(u().inputOutput,"data",new(o().MFNode))]),enumerable:!0}});const He=We;g().add("GeoMetadata","x_ite/Components/Geospatial/GeoMetadata",He);const Ye=He,Ze=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Core/X3DNode");var $e=e.n(Ze);function Ke(e){$e().call(this,e),this.addType(u().GeoOrigin),this.radians=!1}Object.assign(Object.setPrototypeOf(Ke.prototype,$e().prototype),{initialize(){$e().prototype.initialize.call(this),this._geoSystem.addInterest("set_geoSystem__",this),this.set_geoSystem__()},set_geoSystem__(){this.referenceFrame=B.getReferenceFrame(this._geoSystem,this.radians)},getOrigin(e){return this.referenceFrame.convert(this._geoCoords.getValue(),e)}}),Object.defineProperties(Ke,{typeName:{value:"GeoOrigin",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:1}),enumerable:!0},containerField:{value:"geoOrigin",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().initializeOnly,"geoSystem",new(o().MFString)("GD","WE")),new(r())(u().inputOutput,"geoCoords",new(o().SFVec3d)),new(r())(u().initializeOnly,"rotateYUp",new(o().SFBool))]),enumerable:!0}});const Je=Ke;g().add("GeoOrigin","x_ite/Components/Geospatial/GeoOrigin",Je);const Qe=Je,et=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Interpolation/X3DInterpolatorNode");var tt=e.n(et);function it(e){tt().call(this,e),ae.call(this,e),this.addType(u().GeoPositionInterpolator),this._value_changed.setUnit("length"),this.geocentric=new P}Object.assign(Object.setPrototypeOf(it.prototype,tt().prototype),ae.prototype,{setup(){ae.prototype.initialize.call(this),tt().prototype.setup.call(this)},initialize(){tt().prototype.initialize.call(this),this._keyValue.addInterest("set_keyValue__",this)},set_keyValue__(){const e=this._key,t=this._keyValue;t.length<e.length&&t.resize(e.length,t.length?t[t.length-1]:new(o().SFVec3f))},interpolate:(()=>{const e=new(f())(0,0,0),t=new(f())(0,0,0),i=new(f())(0,0,0);return function(n,o,s){this.getCoord(this._keyValue[n].getValue(),e),this.getCoord(this._keyValue[o].getValue(),t);const r=this.geocentric.slerp(e,t,s);this._geovalue_changed=this.getGeoCoord(r,i),this._value_changed=r}})(),dispose(){ae.prototype.dispose.call(this),tt().prototype.dispose.call(this)}}),Object.defineProperties(it,{typeName:{value:"GeoPositionInterpolator",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:1}),enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().initializeOnly,"geoOrigin",new(o().SFNode)),new(r())(u().initializeOnly,"geoSystem",new(o().MFString)("GD","WE")),new(r())(u().inputOnly,"set_fraction",new(o().SFFloat)),new(r())(u().inputOutput,"key",new(o().MFFloat)),new(r())(u().inputOutput,"keyValue",new(o().MFVec3d)),new(r())(u().outputOnly,"value_changed",new(o().SFVec3f)),new(r())(u().outputOnly,"geovalue_changed",new(o().SFVec3d))]),enumerable:!0}});const nt=it;g().add("GeoPositionInterpolator","x_ite/Components/Geospatial/GeoPositionInterpolator",nt);const ot=nt,st=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/EnvironmentalSensor/X3DEnvironmentalSensorNode");var rt=e.n(st);const at=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/EnvironmentalSensor/ProximitySensor");var lt=e.n(at),ht=new(f())(0,0,0);function dt(e){rt().call(this,e),ae.call(this,e),this.addType(u().GeoProximitySensor),this._position_changed.setUnit("length"),this._centerOfRotation_changed.setUnit("length"),this.proximitySensor=new(lt())(e),this.setCameraObject(this.proximitySensor.isCameraObject()),this.setPickableObject(this.proximitySensor.isPickableObject())}Object.assign(Object.setPrototypeOf(dt.prototype,rt().prototype),ae.prototype,{initialize(){rt().prototype.initialize.call(this),ae.prototype.initialize.call(this),this._enabled.addFieldInterest(this.proximitySensor._enabled),this._size.addFieldInterest(this.proximitySensor._size),this._center.addFieldInterest(this.proximitySensor._center),this._geoCenter.addFieldInterest(this._center),this.proximitySensor._isCameraObject.addFieldInterest(this._isCameraObject),this.proximitySensor._isPickableObject.addFieldInterest(this._isPickableObject),this.proximitySensor._isActive.addFieldInterest(this._isActive),this.proximitySensor._enterTime.addFieldInterest(this._enterTime),this.proximitySensor._exitTime.addFieldInterest(this._exitTime),this.proximitySensor._position_changed.addFieldInterest(this._position_changed),this.proximitySensor._orientation_changed.addFieldInterest(this._orientation_changed),this.proximitySensor._centerOfRotation_changed.addFieldInterest(this._centerOfRotation_changed),this.proximitySensor._position_changed.addInterest("set_position__",this),this.proximitySensor._enabled=this._enabled,this.proximitySensor._size=this._size,this.proximitySensor._center=this._center,this.proximitySensor.setup()},set_position__(e){this._geoCoord_changed=this.getGeoCoord(this.proximitySensor._position_changed.getValue(),ht)},traverse(e,t){this.proximitySensor.traverse(e,t)},dispose(){ae.prototype.dispose.call(this),rt().prototype.dispose.call(this)}}),Object.defineProperties(dt,{typeName:{value:"GeoProximitySensor",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:2}),enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.2",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().inputOutput,"description",new(o().SFString)),new(r())(u().initializeOnly,"geoOrigin",new(o().SFNode)),new(r())(u().initializeOnly,"geoSystem",new(o().MFString)("GD","WE")),new(r())(u().inputOutput,"enabled",new(o().SFBool)(!0)),new(r())(u().inputOutput,"size",new(o().SFVec3f)),new(r())(u().inputOutput,"center",new(o().SFVec3d)),new(r())(u().inputOutput,"geoCenter",new(o().SFVec3d)),new(r())(u().outputOnly,"isActive",new(o().SFBool)),new(r())(u().outputOnly,"enterTime",new(o().SFTime)),new(r())(u().outputOnly,"exitTime",new(o().SFTime)),new(r())(u().outputOnly,"geoCoord_changed",new(o().SFVec3d)),new(r())(u().outputOnly,"position_changed",new(o().SFVec3f)),new(r())(u().outputOnly,"orientation_changed",new(o().SFRotation)),new(r())(u().outputOnly,"centerOfRotation_changed",new(o().SFVec3f))]),enumerable:!0}});const ct=dt;g().add("GeoProximitySensor","x_ite/Components/Geospatial/GeoProximitySensor",ct);const ut=ct,pt=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/PointingDeviceSensor/X3DTouchSensorNode");var gt=e.n(pt);function _t(e){gt().call(this,e),ae.call(this,e),this.addType(u().GeoTouchSensor),this._hitPoint_changed.setUnit("length")}Object.assign(Object.setPrototypeOf(_t.prototype,gt().prototype),ae.prototype,{initialize(){gt().prototype.initialize.call(this),ae.prototype.initialize.call(this)},set_over__:(()=>{const e=new(f())(0,0,0);return function(t,i,n,o,s){gt().prototype.set_over__.call(this,t,i,n,o,s),this._isOver.getValue()&&(this._hitGeoCoord_changed=this.getGeoCoord(this._hitPoint_changed.getValue(),e))}})(),dispose(){ae.prototype.dispose.call(this),gt().prototype.dispose.call(this)}}),Object.defineProperties(_t,{typeName:{value:"GeoTouchSensor",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:1}),enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().inputOutput,"description",new(o().SFString)),new(r())(u().initializeOnly,"geoOrigin",new(o().SFNode)),new(r())(u().initializeOnly,"geoSystem",new(o().MFString)("GD","WE")),new(r())(u().inputOutput,"enabled",new(o().SFBool)(!0)),new(r())(u().outputOnly,"hitTexCoord_changed",new(o().SFVec2f)),new(r())(u().outputOnly,"hitNormal_changed",new(o().SFVec3f)),new(r())(u().outputOnly,"hitPoint_changed",new(o().SFVec3f)),new(r())(u().outputOnly,"hitGeoCoord_changed",new(o().SFVec3d)),new(r())(u().outputOnly,"isOver",new(o().SFBool)),new(r())(u().outputOnly,"isActive",new(o().SFBool)),new(r())(u().outputOnly,"touchTime",new(o().SFTime))]),enumerable:!0}});const wt=_t;g().add("GeoTouchSensor","x_ite/Components/Geospatial/GeoTouchSensor",wt);const mt=wt;var Ot=new(H()),yt=new(H());function bt(e){Ee().call(this,e),ae.call(this,e),this.addType(u().GeoTransform),this._translation.setUnit("length")}Object.assign(Object.setPrototypeOf(bt.prototype,Ee().prototype),ae.prototype,{initialize(){Ee().prototype.initialize.call(this),ae.prototype.initialize.call(this),this.addInterest("eventsProcessed",this),this.eventsProcessed()},eventsProcessed(){this.getLocationMatrix(this._geoCenter.getValue(),yt),Ot.set(this._translation.getValue(),this._rotation.getValue(),this._scale.getValue(),this._scaleOrientation.getValue()),this.setMatrix(Ot.multRight(yt).multLeft(yt.inverse()))},dispose(){ae.prototype.dispose.call(this),Ee().prototype.dispose.call(this)}}),Object.defineProperties(bt,{typeName:{value:"GeoTransform",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:2}),enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().inputOutput,"translation",new(o().SFVec3f)),new(r())(u().inputOutput,"rotation",new(o().SFRotation)),new(r())(u().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(u().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(u().initializeOnly,"geoOrigin",new(o().SFNode)),new(r())(u().initializeOnly,"geoSystem",new(o().MFString)("GD","WE")),new(r())(u().inputOutput,"geoCenter",new(o().SFVec3d)),new(r())(u().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(u().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(u().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(u().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(u().inputOnly,"addChildren",new(o().MFNode)),new(r())(u().inputOnly,"removeChildren",new(o().MFNode)),new(r())(u().inputOutput,"children",new(o().MFNode))]),enumerable:!0}});const ft=bt;g().add("GeoTransform","x_ite/Components/Geospatial/GeoTransform",ft);const St=ft,It=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Navigation/X3DViewpointNode");var vt=e.n(It);const Ft=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Navigation/Viewpoint");var xt=e.n(Ft);const Ct=window[Symbol.for("X_ITE.X3D-9.1.6")].require("x_ite/Components/Navigation/NavigationInfo");var Nt=e.n(Ct);const jt=window[Symbol.for("X_ITE.X3D-9.1.6")].require("standard/Math/Numbers/Rotation4");var Mt=e.n(jt);function Gt(e){vt().call(this,e),ae.call(this,e),this.addType(u().GeoViewpoint),this.addChildObjects(u().inputOutput,"navType",new(o().MFString)("EXAMINE","ANY"),u().inputOutput,"headlight",new(o().SFBool)(!0)),this._centerOfRotation.setUnit("length"),this._fieldOfView.setUnit("angle"),e.getSpecificationVersion()<=3.2&&(this.addAlias("navType",this._navType),this.addAlias("headlight",this._headlight),this.traverse=zt),this.geoNavigationInfoNode=new(Nt())(e),this.projectionMatrix=new(H()),this.elevation=0}function zt(e,t){vt().prototype.traverse.call(this,e,t),this.geoNavigationInfoNode.traverse(e,t)}Object.assign(Object.setPrototypeOf(Gt.prototype,vt().prototype),ae.prototype,{initialize(){vt().prototype.initialize.call(this),ae.prototype.initialize.call(this);const e=this.getBrowser().getContext();this.logarithmicDepthBuffer=e.HAS_FEATURE_FRAG_DEPTH,this._position.addInterest("set_position__",this),this._positionOffset.addInterest("set_position__",this),this._navType.addFieldInterest(this.geoNavigationInfoNode._type),this._headlight.addFieldInterest(this.geoNavigationInfoNode._headlight),this.geoNavigationInfoNode._type=this._navType,this.geoNavigationInfoNode._headlight=this._headlight,this.geoNavigationInfoNode.setup(),this.getExecutionContext().getSpecificationVersion()<=3.2&&(this._navigationInfo=this.geoNavigationInfoNode),this.set_position__()},getRelativeTransformation:xt().prototype.getRelativeTransformation,setInterpolators:xt().prototype.setInterpolators,getFieldOfView:xt().prototype.getFieldOfView,getScreenScale:xt().prototype.getScreenScale,getViewportSize:xt().prototype.getViewportSize,getLookAtDistance:xt().prototype.getLookAtDistance,getProjectionMatrixWithLimits:xt().prototype.getProjectionMatrixWithLimits,getLogarithmicDepthBuffer(){return this.logarithmicDepthBuffer},setPosition:(()=>{const e=new(f())(0,0,0);return function(t){this._position.setValue(this.getGeoCoord(t,e))}})(),getPosition:(()=>{const e=new(f())(0,0,0);return function(){return this.getCoord(this._position.getValue(),e)}})(),set_position__:(()=>{const e=new(f())(0,0,0);return function(){this.getCoord(this._position.getValue(),e),this.elevation=this.getGeoElevation(e.add(this._positionOffset.getValue()))}})(),setOrientation:(()=>{const e=new(H()),t=new(Mt());return function(i){const n=this.getLocationMatrix(this._position.getValue(),e).submatrix;t.setMatrix(n),this._orientation.setValue(t.inverse().multLeft(i))}})(),getOrientation:(()=>{const e=new(H()),t=new(Mt());return function(){const i=this.getLocationMatrix(this._position.getValue(),e).submatrix;return t.setMatrix(i),t.multLeft(this._orientation.getValue())}})(),getCenterOfRotation:(()=>{const e=new(f())(0,0,0);return function(){return this.getCoord(this._centerOfRotation.getValue(),e)}})(),getMaxFarValue:()=>1e9,getUpVector:(()=>{const e=new(f())(0,0,0),t=new(f())(0,0,0);return function(i=!1){return!i||this.getUserPosition().magnitude()<65e5?(this.getCoord(this._position.getValue(),e),this.getGeoUpVector(e.add(this._positionOffset.getValue()),t)):t.assign(f().zAxis)}})(),getSpeedFactor(){return(Math.max(this.elevation,0)+10)/10*this._speedFactor.getValue()},dispose(){ae.prototype.dispose.call(this),vt().prototype.dispose.call(this)}}),Object.defineProperties(Gt,{typeName:{value:"GeoViewpoint",enumerable:!0},componentInfo:{value:Object.freeze({name:"Geospatial",level:1}),enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(l())([new(r())(u().inputOutput,"metadata",new(o().SFNode)),new(r())(u().initializeOnly,"geoOrigin",new(o().SFNode)),new(r())(u().initializeOnly,"geoSystem",new(o().MFString)("GD","WE")),new(r())(u().inputOnly,"set_bind",new(o().SFBool)),new(r())(u().inputOutput,"description",new(o().SFString)),new(r())(u().inputOutput,"position",new(o().SFVec3d)(0,0,1e5)),new(r())(u().inputOutput,"orientation",new(o().SFRotation)),new(r())(u().inputOutput,"centerOfRotation",new(o().SFVec3d)),new(r())(u().inputOutput,"fieldOfView",new(o().SFFloat)(.785398)),new(r())(u().inputOutput,"nearDistance",new(o().SFFloat)(-1)),new(r())(u().inputOutput,"farDistance",new(o().SFFloat)(-1)),new(r())(u().inputOutput,"viewAll",new(o().SFBool)),new(r())(u().inputOutput,"jump",new(o().SFBool)(!0)),new(r())(u().inputOutput,"retainUserOffsets",new(o().SFBool)),new(r())(u().initializeOnly,"speedFactor",new(o().SFFloat)(1)),new(r())(u().outputOnly,"isBound",new(o().SFBool)),new(r())(u().outputOnly,"bindTime",new(o().SFTime)),new(r())(u().inputOutput,"navigationInfo",new(o().SFNode))]),enumerable:!0}});const Vt=Gt;g().add("GeoViewpoint","x_ite/Components/Geospatial/GeoViewpoint",Vt);const Dt=Vt;i().add({name:"Geospatial",concreteNodes:[ue,ye,Pe,Re,Ye,Qe,ot,ut,mt,St,Dt],abstractNodes:[ae]});const Pt=void 0;g().add("Geospatial","assets/components/Geospatial",Pt)})();