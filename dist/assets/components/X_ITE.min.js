/* X_ITE v9.7.0 */(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Components");var n=e.n(t);const i=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Fields");var s=e.n(i);const o=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Base/X3DFieldDefinition");var a=e.n(o);const r=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Base/FieldDefinitionArray");var u=e.n(r);const p=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Components/Shape/X3DAppearanceChildNode");var l=e.n(p);const _=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Base/X3DConstants");var h=e.n(_);const c=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Namespace");var T=e.n(c);function d(e){l().call(this,e),this.addType(h().BlendMode),this.factorTypes=new Map,this.equationTypes=new Map}Object.assign(Object.setPrototypeOf(d.prototype,l().prototype),{initialize(){l().prototype.initialize.call(this);const e=this.getBrowser().getContext(),t=e.getExtension("EXT_blend_minmax");this.factorTypes.set("ZERO",e.ZERO),this.factorTypes.set("ONE",e.ONE),this.factorTypes.set("SRC_COLOR",e.SRC_COLOR),this.factorTypes.set("ONE_MINUS_SRC_COLOR",e.ONE_MINUS_SRC_COLOR),this.factorTypes.set("DST_COLOR",e.DST_COLOR),this.factorTypes.set("ONE_MINUS_DST_COLOR",e.ONE_MINUS_DST_COLOR),this.factorTypes.set("SRC_ALPHA",e.SRC_ALPHA),this.factorTypes.set("ONE_MINUS_SRC_ALPHA",e.ONE_MINUS_SRC_ALPHA),this.factorTypes.set("DST_ALPHA",e.DST_ALPHA),this.factorTypes.set("ONE_MINUS_DST_ALPHA",e.ONE_MINUS_DST_ALPHA),this.factorTypes.set("SRC_ALPHA_SATURATE",e.SRC_ALPHA_SATURATE),this.factorTypes.set("CONSTANT_COLOR",e.CONSTANT_COLOR),this.factorTypes.set("ONE_MINUS_CONSTANT_COLOR",e.ONE_MINUS_CONSTANT_COLOR),this.factorTypes.set("CONSTANT_ALPHA",e.CONSTANT_ALPHA),this.factorTypes.set("ONE_MINUS_CONSTANT_ALPHA",e.ONE_MINUS_CONSTANT_ALPHA),this.equationTypes.set("FUNC_ADD",e.FUNC_ADD),this.equationTypes.set("FUNC_SUBTRACT",e.FUNC_SUBTRACT),this.equationTypes.set("FUNC_REVERSE_SUBTRACT",e.FUNC_REVERSE_SUBTRACT),this.equationTypes.set("MIN",e.MIN||t&&t.MIN_EXT),this.equationTypes.set("MAX",e.MAX||t&&t.MAX_EXT),this._sourceColorFactor.addInterest("set_sourceColorFactor__",this),this._sourceAlphaFactor.addInterest("set_sourceAlphaFactor__",this),this._destinationColorFactor.addInterest("set_destinationColorFactor__",this),this._destinationAlphaFactor.addInterest("set_destinationAlphaFactor__",this),this._colorEquation.addInterest("set_colorEquation__",this),this._alphaEquation.addInterest("set_alphaEquation__",this),this.set_sourceColorFactor__(),this.set_sourceAlphaFactor__(),this.set_destinationColorFactor__(),this.set_destinationAlphaFactor__(),this.set_colorEquation__(),this.set_alphaEquation__()},set_sourceColorFactor__(){this.sourceColorFactorType=this.factorTypes.get(this._sourceColorFactor.getValue()),void 0===this.sourceColorFactorType&&(this.sourceColorFactorType=this.factorTypes.get("SRC_ALPHA"))},set_sourceAlphaFactor__(){this.sourceAlphaFactorType=this.factorTypes.get(this._sourceAlphaFactor.getValue()),void 0===this.sourceAlphaFactorType&&(this.sourceAlphaFactorType=this.factorTypes.get("ONE"))},set_destinationColorFactor__(){this.destinationColorFactorType=this.factorTypes.get(this._destinationColorFactor.getValue()),void 0===this.destinationColorFactorType&&(this.destinationColorFactorType=this.factorTypes.get("ONE_MINUS_SRC_ALPHA"))},set_destinationAlphaFactor__(){this.destinationAlphaFactorType=this.factorTypes.get(this._destinationAlphaFactor.getValue()),void 0===this.destinationAlphaFactorType&&(this.destinationAlphaFactorType=this.factorTypes.get("ONE_MINUS_SRC_ALPHA"))},set_colorEquation__(){this.colorEquationType=this.equationTypes.get(this._colorEquation.getValue()),void 0===this.colorEquationType&&(this.colorEquationType=this.equationTypes.get("FUNC_ADD"))},set_alphaEquation__(){this.alphaEquationType=this.equationTypes.get(this._alphaEquation.getValue()),void 0===this.alphaEquationType&&(this.alphaEquationType=this.equationTypes.get("FUNC_ADD"))},enable(e){const t=this._blendColor.getValue();e.blendColor(t.r,t.g,t.b,t.a),e.blendFuncSeparate(this.sourceColorFactorType,this.destinationColorFactorType,this.sourceAlphaFactorType,this.destinationAlphaFactorType),e.blendEquationSeparate(this.colorEquationType,this.alphaEquationType)},disable(e){e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD)}}),Object.defineProperties(d,{typeName:{value:"BlendMode",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"blendMode",enumerable:!0},specificationRange:{value:Object.freeze({from:"3.3",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"blendColor",new(s().SFColorRGBA)),new(a())(h().inputOutput,"sourceColorFactor",new(s().SFString)("SRC_ALPHA")),new(a())(h().inputOutput,"sourceAlphaFactor",new(s().SFString)("ONE")),new(a())(h().inputOutput,"destinationColorFactor",new(s().SFString)("ONE_MINUS_SRC_ALPHA")),new(a())(h().inputOutput,"destinationAlphaFactor",new(s().SFString)("ONE_MINUS_SRC_ALPHA")),new(a())(h().inputOutput,"colorEquation",new(s().SFString)("FUNC_ADD")),new(a())(h().inputOutput,"alphaEquation",new(s().SFString)("FUNC_ADD"))]),enumerable:!0}});const E=d;T().add("BlendMode","x_ite/Components/X_ITE/BlendMode",E);const S=E;function O(e){l().call(this,e),this.addType(h().DepthMode),this.addAlias("depthFunc",this._depthFunction)}Object.assign(Object.setPrototypeOf(O.prototype,l().prototype),{initialize(){l().prototype.initialize.call(this),this._depthFunction.addInterest("set_depthFunction__",this),this.set_depthFunction__()},set_depthFunction__:function(){const e=new Map([["NEVER","NEVER"],["LESS","LESS"],["EQUAL","EQUAL"],["LESS_EQUAL","LEQUAL"],["GREATER","GREATER"],["NOT_EQUAL","NOTEQUAL"],["GREATER_EQUAL","GEQUAL"],["ALWAYS","ALWAYS"]]);return function(){const t=this.getBrowser().getContext();this.depthFunction=t[e.get(this._depthFunction.getValue())??"LEQUAL"]}}(),enable(e){this.depthTest=e.isEnabled(e.DEPTH_TEST),this.depthWriteMask=e.getParameter(e.DEPTH_WRITEMASK),e.enable(e.POLYGON_OFFSET_FILL),e.polygonOffset(...this._polygonOffset),this._depthTest.getValue()?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),e.depthFunc(this.depthFunction),e.depthRange(...this._depthRange.getValue()),e.depthMask(this._depthMask.getValue())},disable(e){e.disable(e.POLYGON_OFFSET_FILL),this.depthTest?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.depthRange(0,1),e.depthMask(this.depthWriteMask)}}),Object.defineProperties(O,{typeName:{value:"DepthMode",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"depthMode",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"polygonOffset",new(s().SFVec2f)),new(a())(h().inputOutput,"depthRange",new(s().SFVec2f)(0,1)),new(a())(h().inputOutput,"depthTest",new(s().SFBool)(!0)),new(a())(h().inputOutput,"depthFunction",new(s().SFString)("LESS_EQUAL")),new(a())(h().inputOutput,"depthMask",new(s().SFBool)(!0))]),enumerable:!0}});const m=O;T().add("DepthMode","x_ite/Components/X_ITE/DepthMode",m);const x=m,f=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Components/Shape/X3DShapeNode");var g=e.n(f);const y=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Rendering/TraverseType");var N=e.n(y);const I=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Rendering/VertexArray");var w=e.n(I);const A=window[Symbol.for("X_ITE.X3D-9.7.0")].require("standard/Math/Numbers/Vector3");var b=e.n(A);const R=window[Symbol.for("X_ITE.X3D-9.7.0")].require("standard/Math/Numbers/Matrix4");var F=e.n(R);const C=window[Symbol.for("X_ITE.X3D-9.7.0")].require("standard/Math/Geometry/Box3");var X=e.n(C);function M(e){g().call(this,e),this.addType(h().InstancedShape),this.addChildObjects(h().outputOnly,"matrices",new(s().SFTime)),this.min=new(b()),this.max=new(b()),this.scale=new(b())(1,1,1),this.numInstances=0,this.instancesStride=25*Float32Array.BYTES_PER_ELEMENT,this.matrixOffset=0,this.normalMatrixOffset=16*Float32Array.BYTES_PER_ELEMENT}Object.assign(Object.setPrototypeOf(M.prototype,g().prototype),{initialize(){g().prototype.initialize.call(this);const e=this.getBrowser(),t=e.getContext();e.getContext().getVersion()<2||(this.instances=Object.assign(t.createBuffer(),{vertexArrayObject:new(w())(t),thickLinesVertexArrayObject:new(w())(t),lineTrianglesBuffer:t.createBuffer(),numLines:0}),this._translations.addInterest("set_transform__",this),this._rotations.addInterest("set_transform__",this),this._scales.addInterest("set_transform__",this),this._matrices.addInterest("set_matrices__",this),this.set_transform__())},getShapeKey:()=>3,getNumInstances(){return this.numInstances},getInstances(){return this.instances},set_bbox__:function(){const e=new(b()),t=new(b()),n=new(X());return function(){if(this.numInstances)if(this._bboxSize.getValue().equals(this.getDefaultBBoxSize())){this.getGeometry()?n.assign(this.getGeometry().getBBox()):n.set();const i=n.size.multiply(this.scale.magnitude()/2),s=n.center;e.assign(this.min).add(s).subtract(i),t.assign(this.max).add(s).add(i),this.bbox.setExtents(e,t)}else this.bbox.set(this._bboxSize.getValue(),this._bboxCenter.getValue());else this.bbox.set();this.getBBoxSize().assign(this.bbox.size),this.getBBoxCenter().assign(this.bbox.center)}}(),set_transform__(){this._matrices=this.getBrowser().getCurrentTime()},set_matrices__(){const e=this.getBrowser().getContext(),t=this._translations,n=this._rotations,i=this._scales,s=t.length,o=n.length,a=i.length,r=Math.max(s,o,a),u=this.instancesStride/Float32Array.BYTES_PER_ELEMENT,p=this.instancesStride*r,l=new Float32Array(p),_=new(F());this.numInstances=r;const h=this.min.set(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),c=this.max.set(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),T=this.scale.assign(a?c:b().One);for(let e=0,p=0;e<r;++e,p+=u)_.set(s?t[Math.min(e,s-1)].getValue():null,o?n[Math.min(e,o-1)].getValue():null,a?i[Math.min(e,a-1)].getValue():null),a&&T.max(i[Math.min(e,a-1)].getValue()),l.set(_,p),l.set(_.submatrix.transpose().inverse(),p+16),h.min(_.origin),c.max(_.origin);e.bindBuffer(e.ARRAY_BUFFER,this.instances),e.bufferData(e.ARRAY_BUFFER,l,e.DYNAMIC_DRAW),this.set_bbox__()},set_geometry__(){g().prototype.set_geometry__.call(this),this.getGeometry()?delete this.traverse:this.traverse=Function.prototype,this.set_transform__()},intersectsBox(e,t,n){},traverse(e,t){if(this.numInstances){switch(e){case N().POINTER:this._pointerEvents.getValue()&&t.addPointingShape(this);break;case N().PICKING:break;case N().COLLISION:t.addCollisionShape(this);break;case N().SHADOW:this._castShadow.getValue()&&t.addShadowShape(this);break;case N().DISPLAY:t.addDisplayShape(this)&&this.getAppearance().traverse(e,t)}this.getGeometry().traverse(e,t)}},displaySimple(e,t,n){this.getGeometry().displaySimpleInstanced(e,n,this)},display(e,t){this.getGeometry().displayInstanced(e,t,this)}}),Object.defineProperties(M,{typeName:{value:"InstancedShape",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze({from:"2.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"translations",new(s().MFVec3f)),new(a())(h().inputOutput,"rotations",new(s().MFRotation)),new(a())(h().inputOutput,"scales",new(s().MFVec3f)),new(a())(h().inputOutput,"pointerEvents",new(s().SFBool)(!0)),new(a())(h().inputOutput,"castShadow",new(s().SFBool)(!0)),new(a())(h().inputOutput,"visible",new(s().SFBool)(!0)),new(a())(h().inputOutput,"bboxDisplay",new(s().SFBool)),new(a())(h().initializeOnly,"bboxSize",new(s().SFVec3f)(-1,-1,-1)),new(a())(h().initializeOnly,"bboxCenter",new(s().SFVec3f)),new(a())(h().inputOutput,"appearance",new(s().SFNode)),new(a())(h().inputOutput,"geometry",new(s().SFNode))]),enumerable:!0}});const v=M;T().add("InstancedShape","x_ite/Components/X_ITE/InstancedShape",v);const D=v,L=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Components/Core/X3DNode");var U=e.n(L);const P=window[Symbol.for("X_ITE.X3D-9.7.0")].require("standard/Utility/BitSet");var j=e.n(P);function z(e){U().call(this,e),this.addType(h().X3DMaterialExtensionNode),this.textureBits=new(j())}Object.assign(Object.setPrototypeOf(z.prototype,U().prototype),{setTexture(e,t){e*=4,this.textureBits.remove(e,15),this.textureBits.add(e,t?.getTextureBits()??0)},getTextureBits(){return this.textureBits}}),Object.defineProperties(z,{typeName:{value:"X3DMaterialExtensionNode",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0}});const V=z;T().add("X3DMaterialExtensionNode","x_ite/Components/X_ITE/X3DMaterialExtensionNode",V);const B=V,q=window[Symbol.for("X_ITE.X3D-9.7.0")].require("x_ite/Base/X3DCast");var H=e.n(q);let Y=0;const G={ANISOTROPY_MATERIAL_EXTENSION:Y++,CLEARCOAT_MATERIAL_EXTENSION:Y++,DISPERSION_MATERIAL_EXTENSION:Y++,EMISSIVE_STRENGTH_MATERIAL_EXTENSION:Y++,IOR_MATERIAL_EXTENSION:Y++,IRIDESCENCE_MATERIAL_EXTENSION:Y++,SHEEN_MATERIAL_EXTENSION:Y++,SPECULAR_MATERIAL_EXTENSION:Y++,TRANSMISSION_MATERIAL_EXTENSION:Y++,VOLUME_MATERIAL_EXTENSION:Y++};T().add("ExtensionKeys","x_ite/Browser/X_ITE/ExtensionKeys",G);const k=G;function K(e){B.call(this,e),this.addType(h().AnisotropyMaterialExtension),this.anisotropyArray=new Float32Array(3)}Object.assign(Object.setPrototypeOf(K.prototype,B.prototype),{initialize(){B.prototype.initialize.call(this),this._anisotropyStrength.addInterest("set_anisotropyStrength__",this),this._anisotropyRotation.addInterest("set_anisotropyRotation__",this),this._anisotropyTexture.addInterest("set_anisotropyTexture__",this),this.set_anisotropyStrength__(),this.set_anisotropyRotation__(),this.set_anisotropyTexture__()},getExtensionKey:()=>k.ANISOTROPY_MATERIAL_EXTENSION,set_anisotropyStrength__(){this.anisotropyArray[2]=Math.max(this._anisotropyStrength.getValue(),0)},set_anisotropyRotation__(){const e=this._anisotropyRotation.getValue();this.anisotropyArray[0]=Math.cos(e),this.anisotropyArray[1]=Math.sin(e)},set_anisotropyTexture__(){this.anisotropyTextureNode=H()(h().X3DSingleTextureNode,this._anisotropyTexture),this.setTexture(0,this.anisotropyTextureNode)},getShaderOptions(e){e.push("X3D_ANISOTROPY_MATERIAL_EXT"),+this.getTextureBits()&&(e.push("X3D_MATERIAL_TEXTURES"),this.anisotropyTextureNode&&e.push("X3D_ANISOTROPY_TEXTURE_EXT",`X3D_ANISOTROPY_TEXTURE_EXT_${this.anisotropyTextureNode.getTextureTypeString()}`),1===this.anisotropyTextureNode?.getTextureType()&&e.push("X3D_ANISOTROPY_TEXTURE_EXT_FLIP_Y"))},setShaderUniforms(e,t,n,i,s){if(e.uniform3fv(t.x3d_AnisotropyEXT,this.anisotropyArray),+this.getTextureBits()&&this.anisotropyTextureNode){const o=this._anisotropyTextureMapping.getValue(),a=t.x3d_AnisotropyTextureEXT;this.anisotropyTextureNode.setShaderUniforms(e,t,n,a),e.uniform1i(a.textureTransformMapping,i.get(o)??0),e.uniform1i(a.textureCoordinateMapping,s.get(o)??0)}}}),Object.defineProperties(K,{typeName:{value:"AnisotropyMaterialExtension",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"extensions",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"anisotropyStrength",new(s().SFFloat)),new(a())(h().inputOutput,"anisotropyRotation",new(s().SFFloat)),new(a())(h().inputOutput,"anisotropyTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"anisotropyTexture",new(s().SFNode))]),enumerable:!0}});const Q=K;T().add("AnisotropyMaterialExtension","x_ite/Components/X_ITE/AnisotropyMaterialExtension",Q);const W=Q;function $(e){B.call(this,e),this.addType(h().ClearcoatMaterialExtension)}Object.assign(Object.setPrototypeOf($.prototype,B.prototype),{initialize(){B.prototype.initialize.call(this)},getExtensionKey:()=>k.CLEARCOAT_MATERIAL_EXTENSION,getShaderOptions(e){},setShaderUniforms(e,t,n,i,s){}}),Object.defineProperties($,{typeName:{value:"ClearcoatMaterialExtension",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"extensions",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"clearcoat",new(s().SFFloat)),new(a())(h().inputOutput,"clearcoatTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"clearcoatTexture",new(s().SFNode)),new(a())(h().inputOutput,"clearcoatRoughness",new(s().SFFloat)),new(a())(h().inputOutput,"clearcoatRoughnessTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"clearcoatRoughnessTexture",new(s().SFNode)),new(a())(h().inputOutput,"clearcoatNormalTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"clearcoatNormalTexture",new(s().SFNode))]),enumerable:!0}});const Z=$;T().add("ClearcoatMaterialExtension","x_ite/Components/X_ITE/ClearcoatMaterialExtension",Z);const J=Z;function ee(e){B.call(this,e),this.addType(h().DispersionMaterialExtension)}Object.assign(Object.setPrototypeOf(ee.prototype,B.prototype),{initialize(){B.prototype.initialize.call(this)},getExtensionKey:()=>k.DISPERSION_MATERIAL_EXTENSION,getShaderOptions(e){},setShaderUniforms(e,t,n,i,s){}}),Object.defineProperties(ee,{typeName:{value:"DispersionMaterialExtension",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"extensions",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"dispersion",new(s().SFFloat))]),enumerable:!0}});const te=ee;T().add("DispersionMaterialExtension","x_ite/Components/X_ITE/DispersionMaterialExtension",te);const ne=te;function ie(e){B.call(this,e),this.addType(h().EmissiveStrengthMaterialExtension)}Object.assign(Object.setPrototypeOf(ie.prototype,B.prototype),{initialize(){B.prototype.initialize.call(this),this._emissiveStrength.addInterest("set_emissiveStrength__",this),this.set_emissiveStrength__()},getExtensionKey:()=>k.EMISSIVE_STRENGTH_MATERIAL_EXTENSION,set_emissiveStrength__(){this.emissiveStrength=Math.max(this._emissiveStrength.getValue(),0)},getShaderOptions(e){e.push("X3D_EMISSIVE_STRENGTH_MATERIAL_EXT")},setShaderUniforms(e,t,n,i,s){e.uniform1f(t.x3d_EmissiveStrengthEXT,this.emissiveStrength)}}),Object.defineProperties(ie,{typeName:{value:"EmissiveStrengthMaterialExtension",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"extensions",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"emissiveStrength",new(s().SFFloat)(1))]),enumerable:!0}});const se=ie;T().add("EmissiveStrengthMaterialExtension","x_ite/Components/X_ITE/EmissiveStrengthMaterialExtension",se);const oe=se;function ae(e){B.call(this,e),this.addType(h().IORMaterialExtension)}Object.assign(Object.setPrototypeOf(ae.prototype,B.prototype),{initialize(){B.prototype.initialize.call(this)},getExtensionKey:()=>k.IOR_MATERIAL_EXTENSION,getShaderOptions(e){},setShaderUniforms(e,t,n,i,s){}}),Object.defineProperties(ae,{typeName:{value:"IORMaterialExtension",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"extensions",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"indexOfRefraction",new(s().SFFloat)(1.5))]),enumerable:!0}});const re=ae;T().add("IORMaterialExtension","x_ite/Components/X_ITE/IORMaterialExtension",re);const ue=re;function pe(e){B.call(this,e),this.addType(h().IridescenceMaterialExtension)}Object.assign(Object.setPrototypeOf(pe.prototype,B.prototype),{initialize(){B.prototype.initialize.call(this)},getExtensionKey:()=>k.IRIDESCENCE_MATERIAL_EXTENSION,getShaderOptions(e){},setShaderUniforms(e,t,n,i,s){}}),Object.defineProperties(pe,{typeName:{value:"IridescenceMaterialExtension",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"extensions",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"iridescence",new(s().SFFloat)),new(a())(h().inputOutput,"iridescenceTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"iridescenceTexture",new(s().SFNode)),new(a())(h().inputOutput,"iridescenceIndexOfRefraction",new(s().SFFloat)(1.3)),new(a())(h().inputOutput,"iridescenceThicknessMinimum",new(s().SFFloat)(100)),new(a())(h().inputOutput,"iridescenceThicknessMaximum",new(s().SFFloat)(400)),new(a())(h().inputOutput,"iridescenceThicknessTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"iridescenceThicknessTexture",new(s().SFNode))]),enumerable:!0}});const le=pe;T().add("IridescenceMaterialExtension","x_ite/Components/X_ITE/IridescenceMaterialExtension",le);const _e=le,he=window[Symbol.for("X_ITE.X3D-9.7.0")].require("standard/Math/Algorithm");var ce=e.n(he);function Te(e){B.call(this,e),this.addType(h().SheenMaterialExtension),this.sheenColorArray=new Float32Array(3)}Object.assign(Object.setPrototypeOf(Te.prototype,B.prototype),{initialize(){B.prototype.initialize.call(this),this._sheenColor.addInterest("set_sheenColor__",this),this._sheenColorTexture.addInterest("set_sheenColorTexture__",this),this._sheenRoughness.addInterest("set_sheenRoughness__",this),this._sheenRoughnessTexture.addInterest("set_sheenRoughnessTexture__",this),this.set_sheenColor__(),this.set_sheenColorTexture__(),this.set_sheenRoughness__(),this.set_sheenRoughnessTexture__()},getExtensionKey:()=>k.SHEEN_MATERIAL_EXTENSION,set_sheenColor__(){const e=this.sheenColorArray,t=this._sheenColor.getValue();e[0]=t.r,e[1]=t.g,e[2]=t.b},set_sheenColorTexture__(){this.sheenColorTextureNode=H()(h().X3DSingleTextureNode,this._sheenColorTexture),this.setTexture(0,this.sheenColorTextureNode)},set_sheenRoughness__(){this.sheenRoughness=ce().clamp(this._sheenRoughness.getValue(),0,1)},set_sheenRoughnessTexture__(){this.sheenRoughnessTextureNode=H()(h().X3DSingleTextureNode,this._sheenRoughnessTexture),this.setTexture(1,this.sheenRoughnessTextureNode)},getShaderOptions(e){e.push("X3D_SHEEN_MATERIAL_EXT"),+this.getTextureBits()&&(e.push("X3D_MATERIAL_TEXTURES"),this.sheenColorTextureNode&&e.push("X3D_SHEEN_COLOR_TEXTURE_EXT",`X3D_SHEEN_COLOR_TEXTURE_EXT_${this.sheenColorTextureNode.getTextureTypeString()}`),1===this.sheenColorTextureNode?.getTextureType()&&e.push("X3D_SHEEN_COLOR_TEXTURE_EXT_FLIP_Y"),this.sheenRoughnessTextureNode&&e.push("X3D_SHEEN_ROUGHNESS_TEXTURE_EXT",`X3D_SHEEN_ROUGHNESS_TEXTURE_EXT_${this.sheenRoughnessTextureNode.getTextureTypeString()}`),1===this.sheenRoughnessTextureNode?.getTextureType()&&e.push("X3D_SHEEN_ROUGHNESS_TEXTURE_EXT_FLIP_Y"))},setShaderUniforms(e,t,n,i,s){e.uniform3fv(t.x3d_SheenColorEXT,this.sheenColorArray),e.uniform1f(t.x3d_SheenRoughnessEXT,this.sheenRoughness);const o=this.getBrowser(),a=o.getLibraryTexture("lut_sheen_E.png"),r=o.getTexture2DUnit();if(e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,a.getTexture()),e.uniform1i(t.x3d_SheenELUTTextureEXT,r),+this.getTextureBits()){if(this.sheenColorTextureNode){const o=this._sheenColorTextureMapping.getValue(),a=t.x3d_SheenColorTextureEXT;this.sheenColorTextureNode.setShaderUniforms(e,t,n,a),e.uniform1i(a.textureTransformMapping,i.get(o)??0),e.uniform1i(a.textureCoordinateMapping,s.get(o)??0)}if(this.sheenRoughnessTextureNode){const o=this._sheenRoughnessTextureMapping.getValue(),a=t.x3d_SheenRoughnessTextureEXT;this.sheenRoughnessTextureNode.setShaderUniforms(e,t,n,a),e.uniform1i(a.textureTransformMapping,i.get(o)??0),e.uniform1i(a.textureCoordinateMapping,s.get(o)??0)}}}}),Object.defineProperties(Te,{typeName:{value:"SheenMaterialExtension",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"extensions",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"sheenColor",new(s().SFColor)),new(a())(h().inputOutput,"sheenColorTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"sheenColorTexture",new(s().SFNode)),new(a())(h().inputOutput,"sheenRoughness",new(s().SFFloat)),new(a())(h().inputOutput,"sheenRoughnessTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"sheenRoughnessTexture",new(s().SFNode))]),enumerable:!0}});const de=Te;T().add("SheenMaterialExtension","x_ite/Components/X_ITE/SheenMaterialExtension",de);const Ee=de;function Se(e){B.call(this,e),this.addType(h().SpecularMaterialExtension),this.specularColorArray=new Float32Array(3)}Object.assign(Object.setPrototypeOf(Se.prototype,B.prototype),{initialize(){B.prototype.initialize.call(this),this._specular.addInterest("set_specular__",this),this._specularTexture.addInterest("set_specularTexture__",this),this._specularColor.addInterest("set_specularColor__",this),this._specularColorTexture.addInterest("set_specularColorTexture__",this),this.set_specular__(),this.set_specularTexture__(),this.set_specularColor__(),this.set_specularColorTexture__()},getExtensionKey:()=>k.SPECULAR_MATERIAL_EXTENSION,set_specular__(){this.specular=Math.max(this._specular.getValue(),0)},set_specularTexture__(){this.specularTextureNode=H()(h().X3DSingleTextureNode,this._specularTexture),this.setTexture(0,this.specularTextureNode)},set_specularColor__(){const e=this.specularColorArray,t=this._specularColor.getValue();e[0]=t.r,e[1]=t.g,e[2]=t.b},set_specularColorTexture__(){this.specularColorTextureNode=H()(h().X3DSingleTextureNode,this._specularColorTexture),this.setTexture(1,this.specularColorTextureNode)},getShaderOptions(e){e.push("X3D_SPECULAR_MATERIAL_EXT"),+this.getTextureBits()&&(e.push("X3D_MATERIAL_TEXTURES"),this.specularTextureNode&&e.push("X3D_SPECULAR_TEXTURE_EXT",`X3D_SPECULAR_TEXTURE_EXT_${this.specularTextureNode.getTextureTypeString()}`),1===this.specularTextureNode?.getTextureType()&&e.push("X3D_SPECULAR_TEXTURE_EXT_FLIP_Y"),this.specularColorTextureNode&&e.push("X3D_SPECULAR_COLOR_TEXTURE_EXT",`X3D_SPECULAR_COLOR_TEXTURE_EXT_${this.specularColorTextureNode.getTextureTypeString()}`),1===this.specularColorTextureNode?.getTextureType()&&e.push("X3D_SPECULAR_COLOR_TEXTURE_EXT_FLIP_Y"))},setShaderUniforms(e,t,n,i,s){if(e.uniform1f(t.x3d_SpecularEXT,this.specular),e.uniform3fv(t.x3d_SpecularColorEXT,this.specularColorArray),+this.getTextureBits()){if(this.specularTextureNode){const o=this._specularTextureMapping.getValue(),a=t.x3d_SpecularTextureEXT;this.specularTextureNode.setShaderUniforms(e,t,n,a),e.uniform1i(a.textureTransformMapping,i.get(o)??0),e.uniform1i(a.textureCoordinateMapping,s.get(o)??0)}if(this.specularColorTextureNode){const o=this._specularColorTextureMapping.getValue(),a=t.x3d_SpecularColorTextureEXT;this.specularColorTextureNode.setShaderUniforms(e,t,n,a),e.uniform1i(a.textureTransformMapping,i.get(o)??0),e.uniform1i(a.textureCoordinateMapping,s.get(o)??0)}}}}),Object.defineProperties(Se,{typeName:{value:"SpecularMaterialExtension",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"extensions",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"specular",new(s().SFFloat)(1)),new(a())(h().inputOutput,"specularTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"specularTexture",new(s().SFNode)),new(a())(h().inputOutput,"specularColor",new(s().SFColor)(1,1,1)),new(a())(h().inputOutput,"specularColorTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"specularColorTexture",new(s().SFNode))]),enumerable:!0}});const Oe=Se;T().add("SpecularMaterialExtension","x_ite/Components/X_ITE/SpecularMaterialExtension",Oe);const me=Oe;function xe(e){B.call(this,e),this.addType(h().TransmissionMaterialExtension)}Object.assign(Object.setPrototypeOf(xe.prototype,B.prototype),{initialize(){B.prototype.initialize.call(this)},getExtensionKey:()=>k.TRANSMISSION_MATERIAL_EXTENSION,getShaderOptions(e){},setShaderUniforms(e,t,n,i,s){}}),Object.defineProperties(xe,{typeName:{value:"TransmissionMaterialExtension",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"extensions",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"transmission",new(s().SFFloat)),new(a())(h().inputOutput,"transmissionTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"transmissionTexture",new(s().SFNode))]),enumerable:!0}});const fe=xe;T().add("TransmissionMaterialExtension","x_ite/Components/X_ITE/TransmissionMaterialExtension",fe);const ge=fe;function ye(e){B.call(this,e),this.addType(h().VolumeMaterialExtension)}Object.assign(Object.setPrototypeOf(ye.prototype,B.prototype),{initialize(){B.prototype.initialize.call(this)},getExtensionKey:()=>k.VOLUME_MATERIAL_EXTENSION,getShaderOptions(e){},setShaderUniforms(e,t,n,i,s){}}),Object.defineProperties(ye,{typeName:{value:"VolumeMaterialExtension",enumerable:!0},componentInfo:{value:Object.freeze({name:"X_ITE",level:1}),enumerable:!0},containerField:{value:"extensions",enumerable:!0},specificationRange:{value:Object.freeze({from:"4.0",to:"Infinity"}),enumerable:!0},fieldDefinitions:{value:new(u())([new(a())(h().inputOutput,"metadata",new(s().SFNode)),new(a())(h().inputOutput,"thickness",new(s().SFFloat)),new(a())(h().inputOutput,"thicknessTextureMapping",new(s().SFString)),new(a())(h().inputOutput,"thicknessTexture",new(s().SFNode)),new(a())(h().inputOutput,"attenuationDistance",new(s().SFFloat)(1e6)),new(a())(h().inputOutput,"attenuationColor",new(s().SFColor)(1,1,1))]),enumerable:!0}});const Ne=ye;T().add("VolumeMaterialExtension","x_ite/Components/X_ITE/VolumeMaterialExtension",Ne);const Ie=Ne;n().add({name:"X_ITE",concreteNodes:[S,x,D,W,J,ne,oe,ue,_e,Ee,me,ge,Ie],abstractNodes:[B]});const we=void 0;T().add("X_ITE","assets/components/X_ITE",we)})();